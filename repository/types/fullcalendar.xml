<?xml version="1.0" encoding="utf-8"?>
<Type>
  <Information>
    <Name>fullcalendar</Name>
    <DisplayName>#Lang(001)</DisplayName>
    <Description>#Lang(002)</Description>
    <ClassName>VDOM_fullcalendar</ClassName>
    <ID>036a5b8f-483f-48ca-fe57-6b767d76173f</ID>
    <Icon>#Res(70817b3b-d42d-4273-2b06-16afdd3a785d)</Icon>
    <EditorIcon>#Res(e9bf2264-1626-4bfe-cfb5-16b02bc0a592)</EditorIcon>
    <StructureIcon>#Res(295eb21b-f523-0b8a-a6fa-16b082054ab9)</StructureIcon>
    <Moveable>1</Moveable>
    <Resizable>3</Resizable>
    <Container>1</Container>
    <Category>Additional</Category>
    <Dynamic>1</Dynamic>
    <Version>2.33.8389</Version>
    <InterfaceType>1</InterfaceType>
    <OptimizationPriority>1</OptimizationPriority>
    <Containers>htmlcontainer, dialog, container, tablecell</Containers>
    <Languages>en_US ,fr_FR ,ru_RU</Languages>
    <Handlers/>
    <RemoteMethods/>
    <WCAG/>
    <XMLScriptName/>
  </Information>
  <Attributes>
    <Attribute>
      <Name>stateful</Name>
      <DisplayName>#Lang(101)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(201)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(401)|0)|(#Lang(402)|1))</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(301)</ErrorValidationMessage>
      <RegularExpressionValidation>^[01]$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>hierarchy</Name>
      <DisplayName>#Lang(102)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(202)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(2)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(302)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,2}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>visible</Name>
      <DisplayName>#Lang(103)</DisplayName>
      <DefaultValue>1</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(203)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(403)|0)|(#Lang(404)|1))</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(303)</ErrorValidationMessage>
      <RegularExpressionValidation>^[01]$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>zindex</Name>
      <DisplayName>#Lang(104)</DisplayName>
      <DefaultValue>1</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(204)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(2)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(304)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,2}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>top</Name>
      <DisplayName>#Lang(105)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(205)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(4)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(305)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>left</Name>
      <DisplayName>#Lang(106)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(206)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(4)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(306)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>width</Name>
      <DisplayName>#Lang(107)</DisplayName>
      <DefaultValue>200</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(207)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(4)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(307)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>height</Name>
      <DisplayName>#Lang(108)</DisplayName>
      <DefaultValue>120</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(208)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(4)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(308)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,4}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>events</Name>
      <DisplayName>#Lang(109)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(209)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Multiline(300)</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(309)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>view</Name>
      <DisplayName>#Lang(111)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(211)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(405)|0)|(#Lang(406)|1)|(#Lang(407)|2))</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(311)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>display_date</Name>
      <DisplayName>#Lang(112)</DisplayName>
      <DefaultValue>2010-01-01</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(212)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(15)</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(312)</ErrorValidationMessage>
      <RegularExpressionValidation>.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>time_format</Name>
      <DisplayName>#Lang(113)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(213)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(408)|0)|(#Lang(409)|1))</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(313)</ErrorValidationMessage>
      <RegularExpressionValidation>12|24</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>first_day</Name>
      <DisplayName>#Lang(114)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(214)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(411)|1)|(#Lang(412)|2)|(#Lang(413)|3)|(#Lang(414)|4)|(#Lang(415)|5)|(#Lang(416)|6)|(#Lang(417)|0))</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(314)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-6]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>day_names</Name>
      <DisplayName>#Lang(115)</DisplayName>
      <DefaultValue>Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(215)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(315)</ErrorValidationMessage>
      <RegularExpressionValidation>[*,*,*,*,*,*,*]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>short_day_names</Name>
      <DisplayName>#Lang(116)</DisplayName>
      <DefaultValue>Mon,Tue,Wed,Thu,Fri,Sat,Sun</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(216)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(316)</ErrorValidationMessage>
      <RegularExpressionValidation>[*,*,*,*,*,*,*]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>short_month_names</Name>
      <DisplayName>#Lang(117)</DisplayName>
      <DefaultValue>Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(217)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(317)</ErrorValidationMessage>
      <RegularExpressionValidation>[*,*,*,*,*,*,*]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>month_names</Name>
      <DisplayName>#Lang(118)</DisplayName>
      <DefaultValue>January,February,March,April,May,June,July,August,September,October,November,December</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(218)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(318)</ErrorValidationMessage>
      <RegularExpressionValidation>[*,*,*,*,*,*,*]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>editable</Name>
      <DisplayName>#Lang(119)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(219)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(418)|0)|(#Lang(419)|1))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(319)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-1]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>first_hour</Name>
      <DisplayName>#Lang(121)</DisplayName>
      <DefaultValue>8</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(221)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(321)</ErrorValidationMessage>
      <RegularExpressionValidation>.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>all_day_visible</Name>
      <DisplayName>#Lang(122)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(222)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(421)|0)|(#Lang(422)|1))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(322)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-1]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>all_day_title</Name>
      <DisplayName>#Lang(123)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(223)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(300)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(323)</ErrorValidationMessage>
      <RegularExpressionValidation>.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>selectable</Name>
      <DisplayName>#Lang(124)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(224)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(423)|0)|(#Lang(424)|1))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(324)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-1]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>slot_minutes</Name>
      <DisplayName>#Lang(125)</DisplayName>
      <DefaultValue>5</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(225)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(425)|0)|(#Lang(426)|1)|(#Lang(427)|2)|(#Lang(428)|3)|(#Lang(429)|4)|(#Lang(431)|5))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(325)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-5]</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>lazyloading</Name>
      <DisplayName>#Lang(126)</DisplayName>
      <DefaultValue>1</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(226)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(432)|1)|(#Lang(433)|0))</CodeInterface>
      <Colorgroup>3</Colorgroup>
      <ErrorValidationMessage>#Lang(326)</ErrorValidationMessage>
      <RegularExpressionValidation>[0-1]</RegularExpressionValidation>
    </Attribute>
  </Attributes>
  <Languages>
    <Language Code="en_US">
      <Sentence ID="001">Full calendar</Sentence>
      <Sentence ID="002">The Full calendar type produces an object displayed as a calendar, that allows creating, editing, viewing and deleting the events.</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="101"></Sentence>
      <Sentence ID="102">Hierarchy</Sentence>
      <Sentence ID="103">Visibility</Sentence>
      <Sentence ID="104">Z-Index</Sentence>
      <Sentence ID="105">Top</Sentence>
      <Sentence ID="106">Left</Sentence>
      <Sentence ID="107">Width</Sentence>
      <Sentence ID="108">Height</Sentence>
      <Sentence ID="109">Events</Sentence>
      <Sentence ID="111">View</Sentence>
      <Sentence ID="112">Default date</Sentence>
      <Sentence ID="113">Time format</Sentence>
      <Sentence ID="114">First day in week</Sentence>
      <Sentence ID="115">Day names</Sentence>
      <Sentence ID="116">Short Day Names</Sentence>
      <Sentence ID="117">Short Month Names</Sentence>
      <Sentence ID="118">Month Names</Sentence>
      <Sentence ID="119">Editable</Sentence>
      <Sentence ID="121">First hour</Sentence>
      <Sentence ID="122">All-day slot visibility</Sentence>
      <Sentence ID="123">All-day title</Sentence>
      <Sentence ID="124">Selectable</Sentence>
      <Sentence ID="125">Slot minutes interval</Sentence>
      <Sentence ID="126">lazyLoading</Sentence>
      <Sentence ID="201"></Sentence>
      <Sentence ID="202">The order of rendering the object on the page. The objects with identical values of the Hierarchy attribute are rendered in the order they are written in the XML-file of the VDOM application.</Sentence>
      <Sentence ID="203">The visibility of the object. In any case the object will exist on the web page, this attribute only makes it invisible.</Sentence>
      <Sentence ID="204">The position in visual hierarchy of objects. If you have several objects in one container situated on each other, the value of 'Z-Index' attribute indicates the order of their displaying. The larger the value is, the upper the object is situated.</Sentence>
      <Sentence ID="205">Spacing in pixels between the object and the top border of the container, in which the object is situated.</Sentence>
      <Sentence ID="206">Spacing in pixels between the object and the left border of the container, in which the object is situated.</Sentence>
      <Sentence ID="207">The width of the object in pixels.</Sentence>
      <Sentence ID="208">The height of the object in pixels.</Sentence>
      <Sentence ID="209">The list of events, which are represented as \href{www.ietf.org/rfc/rfc2445.txt}{iCalendar} objects.</Sentence>
      <Sentence ID="211">The way of displaying the object on loading.</Sentence>
      <Sentence ID="212">The initial date in 'YYYY-MM-DD' format, which is used on loading the object.</Sentence>
      <Sentence ID="213">The format of displaying the time. If it is set to 12, the time will be displayed as '11am' and '8.30pm'; if it is set to 24, the time will be displayed as '11.00' and '20.30'.</Sentence>
      <Sentence ID="214">The day of the week that is displayed first.</Sentence>
      <Sentence ID="215">The names of the days of the week, must be entered through commas without spaces.</Sentence>
      <Sentence ID="216">The short names of the days of the week, must be entered through commas without spaces.</Sentence>
      <Sentence ID="217">The short names of the months, must be entered through commas without spaces.</Sentence>
      <Sentence ID="218">The names of the months, must be entered through commas without spaces.</Sentence>
      <Sentence ID="219">The possibility of modifying the events. If it is set to 'Yes', the events can be modified, if 'No'---cannot.</Sentence>
      <Sentence ID="221">The first hour that will be visible in the scroll pane. The values must be from 0-23, where 0=midnight, 1=1am and so on. The user will be able to scroll upwards to see events before this time.</Sentence>
      <Sentence ID="222">Define whether the 'all-day' slot is displayed at the top of the calendar or not.</Sentence>
      <Sentence ID="223">The title of the 'all-day' slot at the top of the calendar.</Sentence>
      <Sentence ID="224">Allow a user to highlight multiple days or timeslots by clicking and dragging.</Sentence>
      <Sentence ID="225">The frequency of displaying time slots, in minutes.</Sentence>
      <Sentence ID="226">Loading data dynamically, defines in what case a request for a new list of events will be sent to the server. If it is set to 'No', a request is sent each time some change of date/view takes place; if to 'Yes'---a request is sent each time a transition to the next/previous month takes place.</Sentence>
      <Sentence ID="301"></Sentence>
      <Sentence ID="302">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="303">Incorrect value</Sentence>
      <Sentence ID="304">Incorrect value, must be integer from 0 to 99</Sentence>
      <Sentence ID="305">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="306">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="307">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="308">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="309">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="311">Incorrect value</Sentence>
      <Sentence ID="312">Incorrect value</Sentence>
      <Sentence ID="313">time format should be 12 or 24</Sentence>
      <Sentence ID="314">First day: value should be between 0 and 6</Sentence>
      <Sentence ID="315">enter list with names of weekdays.</Sentence>
      <Sentence ID="316">enter list with names of weekdays.</Sentence>
      <Sentence ID="317">enter list with names of weekdays.</Sentence>
      <Sentence ID="318">enter list with names of weekdays.</Sentence>
      <Sentence ID="319">Incorrect value</Sentence>
      <Sentence ID="321">Incorrect value</Sentence>
      <Sentence ID="322">Incorrect value</Sentence>
      <Sentence ID="323">Incorrect value</Sentence>
      <Sentence ID="324">Incorrect value</Sentence>
      <Sentence ID="325">Incorrect value</Sentence>
      <Sentence ID="326"></Sentence>
      <Sentence ID="401"></Sentence>
      <Sentence ID="402"></Sentence>
      <Sentence ID="403">Invisible</Sentence>
      <Sentence ID="404">Visible</Sentence>
      <Sentence ID="405">Month</Sentence>
      <Sentence ID="406">Week</Sentence>
      <Sentence ID="407">Day</Sentence>
      <Sentence ID="408">12</Sentence>
      <Sentence ID="409">24</Sentence>
      <Sentence ID="411">MO</Sentence>
      <Sentence ID="412">TU</Sentence>
      <Sentence ID="413">WE</Sentence>
      <Sentence ID="414">TH</Sentence>
      <Sentence ID="415">FR</Sentence>
      <Sentence ID="416">SA</Sentence>
      <Sentence ID="417">SU</Sentence>
      <Sentence ID="418">No</Sentence>
      <Sentence ID="419">Yes</Sentence>
      <Sentence ID="421">No</Sentence>
      <Sentence ID="422">Yes</Sentence>
      <Sentence ID="423">No</Sentence>
      <Sentence ID="424">Yes</Sentence>
      <Sentence ID="425">5</Sentence>
      <Sentence ID="426">10</Sentence>
      <Sentence ID="427">15</Sentence>
      <Sentence ID="428">20</Sentence>
      <Sentence ID="429">25</Sentence>
      <Sentence ID="431">30</Sentence>
      <Sentence ID="432">Yes</Sentence>
      <Sentence ID="433">No</Sentence>
      <Sentence ID="501">Resize the object's width and height.</Sentence>
      <Sentence ID="502">Hide the object.</Sentence>
      <Sentence ID="503">Show the object.</Sentence>
      <Sentence ID="504">Remove events from the calendar.</Sentence>
      <Sentence ID="505">Move the object to a new position.</Sentence>
      <Sentence ID="506">Go to the specified date.</Sentence>
      <Sentence ID="507">Set new value of the 'Z-Index' attribute.</Sentence>
      <Sentence ID="508">Change the value of the 'View' attribute.</Sentence>
      <Sentence ID="509">Add events source dynamically, including the events with the recurrence rule. Events will be immediately fetched from this source and placed on the calendar.</Sentence>
      <Sentence ID="511">Go to the previous month, week or year (depending on the value of the 'View' attribute).</Sentence>
      <Sentence ID="512">Add events source dynamically, except the events with the recurrence rule. Events will be immediately fetched from this source and placed on the calendar.</Sentence>
      <Sentence ID="513">Go to the next month, week, or year (depending on the value of the 'View' attribute).</Sentence>
      <Sentence ID="514"></Sentence>
      <Sentence ID="515"></Sentence>
      <Sentence ID="516"></Sentence>
      <Sentence ID="517"></Sentence>
      <Sentence ID="518"></Sentence>
      <Sentence ID="519"></Sentence>
      <Sentence ID="521"></Sentence>
      <Sentence ID="522"></Sentence>
      <Sentence ID="523"></Sentence>
      <Sentence ID="524"></Sentence>
      <Sentence ID="525"></Sentence>
      <Sentence ID="526"></Sentence>
      <Sentence ID="527"></Sentence>
      <Sentence ID="528"></Sentence>
      <Sentence ID="601">Visibility</Sentence>
      <Sentence ID="602">Visibility</Sentence>
      <Sentence ID="603">Visibility</Sentence>
      <Sentence ID="604">Next</Sentence>
      <Sentence ID="605">Visibility</Sentence>
      <Sentence ID="606">Visibility</Sentence>
      <Sentence ID="607">Visibility</Sentence>
      <Sentence ID="608">Visibility</Sentence>
      <Sentence ID="609">Visibility</Sentence>
      <Sentence ID="611">Previous</Sentence>
      <Sentence ID="612">Visibility</Sentence>
      <Sentence ID="613">Next</Sentence>
      <Sentence ID="701">Incorrect value</Sentence>
      <Sentence ID="702">Incorrect value</Sentence>
      <Sentence ID="703">Incorrect value</Sentence>
      <Sentence ID="704">Incorrect value</Sentence>
      <Sentence ID="705">Incorrect value</Sentence>
      <Sentence ID="706">Incorrect value</Sentence>
      <Sentence ID="707">Incorrect value</Sentence>
      <Sentence ID="708">Incorrect value</Sentence>
      <Sentence ID="709">Incorrect value</Sentence>
      <Sentence ID="711">Incorrect value</Sentence>
      <Sentence ID="712">Incorrect value</Sentence>
      <Sentence ID="713">Incorrect value</Sentence>
      <Sentence ID="714">Incorrect value</Sentence>
      <Sentence ID="801">Incorrect value</Sentence>
      <Sentence ID="802">Incorrect value</Sentence>
      <Sentence ID="803">Incorrect value</Sentence>
      <Sentence ID="804">Incorrect value</Sentence>
      <Sentence ID="805">Incorrect value</Sentence>
      <Sentence ID="806">Incorrect value</Sentence>
      <Sentence ID="807">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="808">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="809">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="811">Incorrect value</Sentence>
      <Sentence ID="812">'month','week','day'</Sentence>
      <Sentence ID="813">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="814">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="901">Start</Sentence>
      <Sentence ID="902">Start</Sentence>
      <Sentence ID="903">Start</Sentence>
      <Sentence ID="904">Start</Sentence>
      <Sentence ID="905">Start</Sentence>
      <Sentence ID="906">Start</Sentence>
      <Sentence ID="907">Start</Sentence>
      <Sentence ID="908">Start</Sentence>
      <Sentence ID="909">Start</Sentence>
      <Sentence ID="911">Start</Sentence>
      <Sentence ID="912">Start</Sentence>
      <Sentence ID="913">Start</Sentence>
      <Sentence ID="914">Start</Sentence>
      <Sentence ID="915">Start</Sentence>
      <Sentence ID="916">Start</Sentence>
      <Sentence ID="917">Start</Sentence>
      <Sentence ID="918">Start</Sentence>
      <Sentence ID="919">Start</Sentence>
      <Sentence ID="921">Start</Sentence>
      <Sentence ID="922">Start</Sentence>
      <Sentence ID="923">Start</Sentence>
      <Sentence ID="924">Start</Sentence>
      <Sentence ID="925">Start</Sentence>
      <Sentence ID="926">Start</Sentence>
      <Sentence ID="927">Start</Sentence>
      <Sentence ID="928">Start</Sentence>
      <Sentence ID="929">Start</Sentence>
      <Sentence ID="931">Start</Sentence>
      <Sentence ID="932">Start</Sentence>
      <Sentence ID="933">Start</Sentence>
      <Sentence ID="934">Start</Sentence>
      <Sentence ID="935">Start</Sentence>
      <Sentence ID="936">Start</Sentence>
      <Sentence ID="937">Start</Sentence>
      <Sentence ID="938">Start</Sentence>
      <Sentence ID="939">Start</Sentence>
      <Sentence ID="941">Start</Sentence>
      <Sentence ID="942">Start</Sentence>
      <Sentence ID="943">Start</Sentence>
      <Sentence ID="944">Start</Sentence>
      <Sentence ID="945">Start</Sentence>
      <Sentence ID="946">Start</Sentence>
      <Sentence ID="947">Start</Sentence>
      <Sentence ID="948">Start</Sentence>
      <Sentence ID="949">Start</Sentence>
      <Sentence ID="951">Start</Sentence>
    </Language>
    <Language Code="fr_FR">
      <Sentence ID="001">Bouton</Sentence>
      <Sentence ID="002">Lien sur une image</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="101"></Sentence>
      <Sentence ID="102">Hierarchie</Sentence>
      <Sentence ID="103">Visibilite</Sentence>
      <Sentence ID="104">Z-Index</Sentence>
      <Sentence ID="105">Haut</Sentence>
      <Sentence ID="106">Gauche</Sentence>
      <Sentence ID="107">Largeur</Sentence>
      <Sentence ID="108">Hauteur</Sentence>
      <Sentence ID="109">WTF</Sentence>
      <Sentence ID="111">OMG</Sentence>
      <Sentence ID="112">displayDate</Sentence>
      <Sentence ID="113"></Sentence>
      <Sentence ID="114">Time Format</Sentence>
      <Sentence ID="115"></Sentence>
      <Sentence ID="116">Short Day Names</Sentence>
      <Sentence ID="117">Short Month Names</Sentence>
      <Sentence ID="118">Month Names</Sentence>
      <Sentence ID="119">Editable</Sentence>
      <Sentence ID="121">First hour</Sentence>
      <Sentence ID="122">All-day slot visibility</Sentence>
      <Sentence ID="123">All-day title</Sentence>
      <Sentence ID="124">Selectable</Sentence>
      <Sentence ID="125">Slot minutes interval</Sentence>
      <Sentence ID="126"></Sentence>
      <Sentence ID="201"></Sentence>
      <Sentence ID="202">Hierarchie de l'objet, ordre de chargement de l'objet par rapport aux autres</Sentence>
      <Sentence ID="203">Afficher ou cacher l'objet</Sentence>
      <Sentence ID="204">Niveau de superposition de l'objet par rapport aux autres</Sentence>
      <Sentence ID="205">Distance depuis le bord haut de l'objet parent en pixels</Sentence>
      <Sentence ID="206">Distance depuis le bord gauche de l'objet parent en pixels</Sentence>
      <Sentence ID="207">Largeur de l'objet en pixels</Sentence>
      <Sentence ID="208">Hauteur de l'objet en pixels</Sentence>
      <Sentence ID="209">Hierarchie de l'objet, ordre de chargement de l'objet par rapport aux autres</Sentence>
      <Sentence ID="211"></Sentence>
      <Sentence ID="212">The initial date when the calendar loads.</Sentence>
      <Sentence ID="213">Determines the time-text that will be displayed on each event.</Sentence>
      <Sentence ID="214">The day that each week begins.</Sentence>
      <Sentence ID="215">Full names of days-of-week.</Sentence>
      <Sentence ID="216">Full names of days-of-week.</Sentence>
      <Sentence ID="217">Full names of days-of-week.</Sentence>
      <Sentence ID="218">Full names of days-of-week.</Sentence>
      <Sentence ID="219">Determines whether the events on the calendar can be modified.</Sentence>
      <Sentence ID="221">The text titling the "all-day" slot at the top of the calendar.</Sentence>
      <Sentence ID="222">Determines if the "all-day" slot is displayed at the top of the calendar.</Sentence>
      <Sentence ID="223">The text titling the "all-day" slot at the top of the calendar.</Sentence>
      <Sentence ID="224">Allows a user to highlight multiple days or timeslots by clicking and dragging.</Sentence>
      <Sentence ID="225">The frequency for displaying time slots, in minutes.</Sentence>
      <Sentence ID="226"></Sentence>
      <Sentence ID="301"></Sentence>
      <Sentence ID="302">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="303">Valeur Incorrecte</Sentence>
      <Sentence ID="304">Valeur Incorrecte, doit etre comprise entre 0 et 99</Sentence>
      <Sentence ID="305">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="306">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="307">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="308">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="309">Valeur Incorrecte, doit etre positive</Sentence>
      <Sentence ID="311">Valeur Incorrecte</Sentence>
      <Sentence ID="312">Valeur Incorrecte</Sentence>
      <Sentence ID="313"></Sentence>
      <Sentence ID="314"></Sentence>
      <Sentence ID="315"></Sentence>
      <Sentence ID="316"></Sentence>
      <Sentence ID="317"></Sentence>
      <Sentence ID="318"></Sentence>
      <Sentence ID="319">Valeur Incorrecte</Sentence>
      <Sentence ID="321">Valeur Incorrecte</Sentence>
      <Sentence ID="322">Valeur Incorrecte</Sentence>
      <Sentence ID="323">Valeur Incorrecte</Sentence>
      <Sentence ID="324">Valeur Incorrecte</Sentence>
      <Sentence ID="325">Valeur Incorrecte</Sentence>
      <Sentence ID="326"></Sentence>
      <Sentence ID="401"></Sentence>
      <Sentence ID="402"></Sentence>
      <Sentence ID="403">Invisible</Sentence>
      <Sentence ID="404">Visible</Sentence>
      <Sentence ID="405">month</Sentence>
      <Sentence ID="406">week</Sentence>
      <Sentence ID="407">day</Sentence>
      <Sentence ID="408">12</Sentence>
      <Sentence ID="409">24</Sentence>
      <Sentence ID="411">MO</Sentence>
      <Sentence ID="412">TU</Sentence>
      <Sentence ID="413">WE</Sentence>
      <Sentence ID="414">TH</Sentence>
      <Sentence ID="415">FR</Sentence>
      <Sentence ID="416">SA</Sentence>
      <Sentence ID="417">SU</Sentence>
      <Sentence ID="418">No</Sentence>
      <Sentence ID="419">Yes</Sentence>
      <Sentence ID="421">No</Sentence>
      <Sentence ID="422">Yes</Sentence>
      <Sentence ID="423">No</Sentence>
      <Sentence ID="424">Yes</Sentence>
      <Sentence ID="425"></Sentence>
      <Sentence ID="426"></Sentence>
      <Sentence ID="427"></Sentence>
      <Sentence ID="428"></Sentence>
      <Sentence ID="429"></Sentence>
      <Sentence ID="431"></Sentence>
      <Sentence ID="432">Yes</Sentence>
      <Sentence ID="433">No</Sentence>
      <Sentence ID="501">Visibilite</Sentence>
      <Sentence ID="502">Visibilite</Sentence>
      <Sentence ID="503">Visibilite</Sentence>
      <Sentence ID="504">Prochaine</Sentence>
      <Sentence ID="505">Visibilite</Sentence>
      <Sentence ID="506">Visibilite</Sentence>
      <Sentence ID="507">Visibilite</Sentence>
      <Sentence ID="508">Visibilite</Sentence>
      <Sentence ID="509">Visibilite</Sentence>
      <Sentence ID="511">Précédente</Sentence>
      <Sentence ID="512">Visibilite</Sentence>
      <Sentence ID="513">Prochaine</Sentence>
      <Sentence ID="514"></Sentence>
      <Sentence ID="515"></Sentence>
      <Sentence ID="516"></Sentence>
      <Sentence ID="517"></Sentence>
      <Sentence ID="518"></Sentence>
      <Sentence ID="519"></Sentence>
      <Sentence ID="521"></Sentence>
      <Sentence ID="522"></Sentence>
      <Sentence ID="523"></Sentence>
      <Sentence ID="524"></Sentence>
      <Sentence ID="525"></Sentence>
      <Sentence ID="526"></Sentence>
      <Sentence ID="527"></Sentence>
      <Sentence ID="528"></Sentence>
      <Sentence ID="601">Visibilite</Sentence>
      <Sentence ID="602">Visibilite</Sentence>
      <Sentence ID="603">Visibilite</Sentence>
      <Sentence ID="604">Prochaine</Sentence>
      <Sentence ID="605">Visibilite</Sentence>
      <Sentence ID="606">Visibilite</Sentence>
      <Sentence ID="607">Visibilite</Sentence>
      <Sentence ID="608">Visibilite</Sentence>
      <Sentence ID="609">Visibilite</Sentence>
      <Sentence ID="611">Précédente</Sentence>
      <Sentence ID="612">Visibilite</Sentence>
      <Sentence ID="613">Prochaine</Sentence>
      <Sentence ID="701">Valeur Incorrecte</Sentence>
      <Sentence ID="702">Valeur Incorrecte</Sentence>
      <Sentence ID="703">Valeur Incorrecte</Sentence>
      <Sentence ID="704">Valeur Incorrecte</Sentence>
      <Sentence ID="705">Valeur Incorrecte</Sentence>
      <Sentence ID="706">Valeur Incorrecte</Sentence>
      <Sentence ID="707">Valeur Incorrecte</Sentence>
      <Sentence ID="708">Valeur Incorrecte</Sentence>
      <Sentence ID="709">Valeur Incorrecte</Sentence>
      <Sentence ID="711">Valeur Incorrecte</Sentence>
      <Sentence ID="712">Valeur Incorrecte</Sentence>
      <Sentence ID="713">Valeur Incorrecte</Sentence>
      <Sentence ID="714">Valeur Incorrecte</Sentence>
      <Sentence ID="801">Valeur Incorrecte</Sentence>
      <Sentence ID="802">Valeur Incorrecte</Sentence>
      <Sentence ID="803">Valeur Incorrecte</Sentence>
      <Sentence ID="804">Valeur Incorrecte</Sentence>
      <Sentence ID="805">Valeur Incorrecte</Sentence>
      <Sentence ID="806">Valeur Incorrecte</Sentence>
      <Sentence ID="807">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="808">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="809">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="811">Valeur Incorrecte</Sentence>
      <Sentence ID="812">'month','week','day'</Sentence>
      <Sentence ID="813">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="814">Date format - YYYY-MM-DD</Sentence>
      <Sentence ID="901">Start</Sentence>
      <Sentence ID="902">Start</Sentence>
      <Sentence ID="903">Start</Sentence>
      <Sentence ID="904">Start</Sentence>
      <Sentence ID="905">Start</Sentence>
      <Sentence ID="906">Start</Sentence>
      <Sentence ID="907">Start</Sentence>
      <Sentence ID="908">Start</Sentence>
      <Sentence ID="909">Start</Sentence>
      <Sentence ID="911">Start</Sentence>
      <Sentence ID="912">Start</Sentence>
      <Sentence ID="913">Start</Sentence>
      <Sentence ID="914">Start</Sentence>
      <Sentence ID="915">Start</Sentence>
      <Sentence ID="916">Start</Sentence>
      <Sentence ID="917">Start</Sentence>
      <Sentence ID="918">Start</Sentence>
      <Sentence ID="919">Start</Sentence>
      <Sentence ID="921">Start</Sentence>
      <Sentence ID="922">Start</Sentence>
      <Sentence ID="923">Start</Sentence>
      <Sentence ID="924">Start</Sentence>
      <Sentence ID="925">Start</Sentence>
      <Sentence ID="926">Start</Sentence>
      <Sentence ID="927">Start</Sentence>
      <Sentence ID="928">Start</Sentence>
      <Sentence ID="929">Start</Sentence>
      <Sentence ID="931">Start</Sentence>
      <Sentence ID="932">Start</Sentence>
      <Sentence ID="933">Start</Sentence>
      <Sentence ID="934">Start</Sentence>
      <Sentence ID="935">Start</Sentence>
      <Sentence ID="936">Start</Sentence>
      <Sentence ID="937">Start</Sentence>
      <Sentence ID="938">Start</Sentence>
      <Sentence ID="939">Start</Sentence>
      <Sentence ID="941">Start</Sentence>
      <Sentence ID="942">Start</Sentence>
      <Sentence ID="943">Start</Sentence>
      <Sentence ID="944">Start</Sentence>
      <Sentence ID="945">Start</Sentence>
      <Sentence ID="946">Start</Sentence>
      <Sentence ID="947">Start</Sentence>
      <Sentence ID="948">Start</Sentence>
      <Sentence ID="949">Start</Sentence>
      <Sentence ID="951">Start</Sentence>
    </Language>
    <Language Code="ru_RU">
      <Sentence ID="001">Кнопка</Sentence>
      <Sentence ID="002">Кнопка в виде ссылки или изображения</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="101"></Sentence>
      <Sentence ID="102">Иерархия</Sentence>
      <Sentence ID="103">Отображение</Sentence>
      <Sentence ID="104">Z-Индекс</Sentence>
      <Sentence ID="105">Верх</Sentence>
      <Sentence ID="106">Лево</Sentence>
      <Sentence ID="107">Ширина</Sentence>
      <Sentence ID="108">Высота</Sentence>
      <Sentence ID="109">События</Sentence>
      <Sentence ID="111">Вид</Sentence>
      <Sentence ID="112">Отображаемая дата</Sentence>
      <Sentence ID="113">Формат времени</Sentence>
      <Sentence ID="114"></Sentence>
      <Sentence ID="115"></Sentence>
      <Sentence ID="116">Short Day Names</Sentence>
      <Sentence ID="117">Short Month Names</Sentence>
      <Sentence ID="118">Month Names</Sentence>
      <Sentence ID="119">Editable</Sentence>
      <Sentence ID="121">First hour</Sentence>
      <Sentence ID="122">All-day slot visibility</Sentence>
      <Sentence ID="123">All-day title</Sentence>
      <Sentence ID="124">Selectable</Sentence>
      <Sentence ID="125">Slot minutes interval</Sentence>
      <Sentence ID="126"></Sentence>
      <Sentence ID="201"></Sentence>
      <Sentence ID="202">Приоритет в потоке гипертекста</Sentence>
      <Sentence ID="203">Отображается объект или нет</Sentence>
      <Sentence ID="204">Положение в визуальной иерархии объектов</Sentence>
      <Sentence ID="205">Расстояние от верхней границы родительского контейнера до объекта в пикселях</Sentence>
      <Sentence ID="206">Расстояние от левой границы родительского контейнера до объекта в пикселях</Sentence>
      <Sentence ID="207">Ширина объекта в пикселях</Sentence>
      <Sentence ID="208">Высота объекта в пикселях</Sentence>
      <Sentence ID="209">Приоритет в потоке гипертекста</Sentence>
      <Sentence ID="211">Вид календаря при загрузке</Sentence>
      <Sentence ID="212">Дата при загрузке</Sentence>
      <Sentence ID="213">Determines the time-text that will be displayed on each event.</Sentence>
      <Sentence ID="214">The day that each week begins.</Sentence>
      <Sentence ID="215">Full names of days-of-week.</Sentence>
      <Sentence ID="216">Full names of days-of-week.</Sentence>
      <Sentence ID="217">Full names of days-of-week.</Sentence>
      <Sentence ID="218">Full names of days-of-week.</Sentence>
      <Sentence ID="219">Determines whether the events on the calendar can be modified.</Sentence>
      <Sentence ID="221">The text titling the "all-day" slot at the top of the calendar.</Sentence>
      <Sentence ID="222">Determines if the "all-day" slot is displayed at the top of the calendar.</Sentence>
      <Sentence ID="223">The text titling the "all-day" slot at the top of the calendar.</Sentence>
      <Sentence ID="224">Allows a user to highlight multiple days or timeslots by clicking and dragging.</Sentence>
      <Sentence ID="225">The frequency for displaying time slots, in minutes.</Sentence>
      <Sentence ID="226"></Sentence>
      <Sentence ID="301"></Sentence>
      <Sentence ID="302">Неправильное значение</Sentence>
      <Sentence ID="303">Неправильное значение</Sentence>
      <Sentence ID="304">Неправильное значение, должно быть целое число от 0 до 99</Sentence>
      <Sentence ID="305">Неправильное значение, должно быть целое положительное число</Sentence>
      <Sentence ID="306">Неправильное значение, должно быть целое положительное число</Sentence>
      <Sentence ID="307">Неправильное значение, должно быть целое положительное число</Sentence>
      <Sentence ID="308">Неправильное значение, должно быть целое положительное число</Sentence>
      <Sentence ID="309">Неправильное значение</Sentence>
      <Sentence ID="311">Неправильное значение</Sentence>
      <Sentence ID="312">Неправильное значение</Sentence>
      <Sentence ID="313"></Sentence>
      <Sentence ID="314"></Sentence>
      <Sentence ID="315"></Sentence>
      <Sentence ID="316"></Sentence>
      <Sentence ID="317"></Sentence>
      <Sentence ID="318"></Sentence>
      <Sentence ID="319">Неправильное значение</Sentence>
      <Sentence ID="321">Неправильное значение</Sentence>
      <Sentence ID="322">Неправильное значение</Sentence>
      <Sentence ID="323">Неправильное значение</Sentence>
      <Sentence ID="324">Неправильное значение</Sentence>
      <Sentence ID="325">Неправильное значение</Sentence>
      <Sentence ID="326"></Sentence>
      <Sentence ID="401"></Sentence>
      <Sentence ID="402"></Sentence>
      <Sentence ID="403">Не отображается</Sentence>
      <Sentence ID="404">Отображается</Sentence>
      <Sentence ID="405">месяц</Sentence>
      <Sentence ID="406">неделя</Sentence>
      <Sentence ID="407">день</Sentence>
      <Sentence ID="408">12</Sentence>
      <Sentence ID="409">24</Sentence>
      <Sentence ID="411">MO</Sentence>
      <Sentence ID="412">TU</Sentence>
      <Sentence ID="413">WE</Sentence>
      <Sentence ID="414">TH</Sentence>
      <Sentence ID="415">FR</Sentence>
      <Sentence ID="416">SA</Sentence>
      <Sentence ID="417">SU</Sentence>
      <Sentence ID="418">No</Sentence>
      <Sentence ID="419">Yes</Sentence>
      <Sentence ID="421">No</Sentence>
      <Sentence ID="422">Yes</Sentence>
      <Sentence ID="423">No</Sentence>
      <Sentence ID="424">Yes</Sentence>
      <Sentence ID="425"></Sentence>
      <Sentence ID="426"></Sentence>
      <Sentence ID="427"></Sentence>
      <Sentence ID="428"></Sentence>
      <Sentence ID="429"></Sentence>
      <Sentence ID="431"></Sentence>
      <Sentence ID="432">Yes</Sentence>
      <Sentence ID="433">No</Sentence>
      <Sentence ID="501">Отображение</Sentence>
      <Sentence ID="502">Отображение</Sentence>
      <Sentence ID="503">Отображение</Sentence>
      <Sentence ID="504">Вперед</Sentence>
      <Sentence ID="505">Отображение</Sentence>
      <Sentence ID="506">Отображение</Sentence>
      <Sentence ID="507">Отображение</Sentence>
      <Sentence ID="508">Отображение</Sentence>
      <Sentence ID="509">Отображение</Sentence>
      <Sentence ID="511">Назад</Sentence>
      <Sentence ID="512">Отображение</Sentence>
      <Sentence ID="513">Вперед</Sentence>
      <Sentence ID="514"></Sentence>
      <Sentence ID="515"></Sentence>
      <Sentence ID="516"></Sentence>
      <Sentence ID="517"></Sentence>
      <Sentence ID="518"></Sentence>
      <Sentence ID="519"></Sentence>
      <Sentence ID="521"></Sentence>
      <Sentence ID="522"></Sentence>
      <Sentence ID="523"></Sentence>
      <Sentence ID="524"></Sentence>
      <Sentence ID="525"></Sentence>
      <Sentence ID="526"></Sentence>
      <Sentence ID="527"></Sentence>
      <Sentence ID="528"></Sentence>
      <Sentence ID="601">Отображение</Sentence>
      <Sentence ID="602">Отображение</Sentence>
      <Sentence ID="603">Отображение</Sentence>
      <Sentence ID="604">Вперед</Sentence>
      <Sentence ID="605">Отображение</Sentence>
      <Sentence ID="606">Отображение</Sentence>
      <Sentence ID="607">Отображение</Sentence>
      <Sentence ID="608">Отображение</Sentence>
      <Sentence ID="609">Отображение</Sentence>
      <Sentence ID="611">Назад</Sentence>
      <Sentence ID="612">Отображение</Sentence>
      <Sentence ID="613">Вперед</Sentence>
      <Sentence ID="701">Неправильное значение</Sentence>
      <Sentence ID="702">Неправильное значение</Sentence>
      <Sentence ID="703">Неправильное значение</Sentence>
      <Sentence ID="704">Неправильное значение</Sentence>
      <Sentence ID="705">Неправильное значение</Sentence>
      <Sentence ID="706">Неправильное значение</Sentence>
      <Sentence ID="707">Неправильное значение</Sentence>
      <Sentence ID="708">Неправильное значение</Sentence>
      <Sentence ID="709">Неправильное значение</Sentence>
      <Sentence ID="711">Неправильное значение</Sentence>
      <Sentence ID="712">Неправильное значение</Sentence>
      <Sentence ID="713">Неправильное значение</Sentence>
      <Sentence ID="714">Неправильное значение</Sentence>
      <Sentence ID="801">Неправильное значение</Sentence>
      <Sentence ID="802">Неправильное значение</Sentence>
      <Sentence ID="803">Неправильное значение</Sentence>
      <Sentence ID="804">Неправильное значение</Sentence>
      <Sentence ID="805">Неправильное значение</Sentence>
      <Sentence ID="806">Неправильное значение</Sentence>
      <Sentence ID="807">Date format - ГГГГ-ММ-ДД</Sentence>
      <Sentence ID="808">Date format - ГГГГ-ММ-ДД</Sentence>
      <Sentence ID="809">Date format - ГГГГ-ММ-ДД</Sentence>
      <Sentence ID="811">Неправильное значение</Sentence>
      <Sentence ID="812">'month','week','day'</Sentence>
      <Sentence ID="813">Date format - ГГГГ-ММ-ДД</Sentence>
      <Sentence ID="814">Date format - ГГГГ-ММ-ДД</Sentence>
      <Sentence ID="901">Начало</Sentence>
      <Sentence ID="902">Начало</Sentence>
      <Sentence ID="903">Начало</Sentence>
      <Sentence ID="904">Начало</Sentence>
      <Sentence ID="905">Начало</Sentence>
      <Sentence ID="906">Начало</Sentence>
      <Sentence ID="907">Начало</Sentence>
      <Sentence ID="908">Начало</Sentence>
      <Sentence ID="909">Начало</Sentence>
      <Sentence ID="911">Начало</Sentence>
      <Sentence ID="912">Начало</Sentence>
      <Sentence ID="913">Начало</Sentence>
      <Sentence ID="914">Начало</Sentence>
      <Sentence ID="915">Начало</Sentence>
      <Sentence ID="916">Начало</Sentence>
      <Sentence ID="917">Начало</Sentence>
      <Sentence ID="918">Начало</Sentence>
      <Sentence ID="919">Начало</Sentence>
      <Sentence ID="921">Начало</Sentence>
      <Sentence ID="922">Начало</Sentence>
      <Sentence ID="923">Начало</Sentence>
      <Sentence ID="924">Начало</Sentence>
      <Sentence ID="925">Начало</Sentence>
      <Sentence ID="926">Начало</Sentence>
      <Sentence ID="927">Начало</Sentence>
      <Sentence ID="928">Начало</Sentence>
      <Sentence ID="929">Начало</Sentence>
      <Sentence ID="931">Начало</Sentence>
      <Sentence ID="932">Начало</Sentence>
      <Sentence ID="933">Начало</Sentence>
      <Sentence ID="934">Начало</Sentence>
      <Sentence ID="935">Начало</Sentence>
      <Sentence ID="936">Начало</Sentence>
      <Sentence ID="937">Начало</Sentence>
      <Sentence ID="938">Начало</Sentence>
      <Sentence ID="939">Начало</Sentence>
      <Sentence ID="941">Начало</Sentence>
      <Sentence ID="942">Начало</Sentence>
      <Sentence ID="943">Начало</Sentence>
      <Sentence ID="944">Начало</Sentence>
      <Sentence ID="945">Начало</Sentence>
      <Sentence ID="946">Начало</Sentence>
      <Sentence ID="947">Начало</Sentence>
      <Sentence ID="948">Начало</Sentence>
      <Sentence ID="949">Начало</Sentence>
      <Sentence ID="951">Начало</Sentence>
    </Language>
  </Languages>
  <Resources>
    <Resource ID="02dfd9db-16fe-3690-73e1-baf58cd3e6f4" Name="Style" Type="css"><![CDATA[LyoNCiAqIEZ1bGxDYWxlbmRhciB2MS41LjEgU3R5bGVzaGVldA0KICoNCiAqIENvcHlyaWdodCAo
			YykgMjAxMSBBZGFtIFNoYXcNCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BM
			IGxpY2Vuc2VzLCBsb2NhdGVkIGluDQogKiBNSVQtTElDRU5TRS50eHQgYW5kIEdQTC1MSUNFTlNF
			LnR4dCByZXNwZWN0aXZlbHkuDQogKg0KICogRGF0ZTogU2F0IEFwciA5IDE0OjA5OjUxIDIwMTEg
			LTA3MDANCiAqDQogKi8NCg0KDQouZmMgew0KCWRpcmVjdGlvbjogbHRyOw0KCXRleHQtYWxpZ246
			IGxlZnQ7DQoJfQ0KCQ0KLmZjIHRhYmxlIHsNCglib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOw0K
			CWJvcmRlci1zcGFjaW5nOiAwOw0KCX0NCgkNCmh0bWwgLmZjLA0KLmZjIHRhYmxlIHsNCglmb250
			LXNpemU6IDFlbTsNCgl9DQoJDQouZmMgdGQsDQouZmMgdGggew0KCXBhZGRpbmc6IDA7DQoJdmVy
			dGljYWwtYWxpZ246IHRvcDsNCgl9DQoNCg0KDQovKiBIZWFkZXINCi0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSov
			DQoNCi5mYy1oZWFkZXIgdGQgew0KCXdoaXRlLXNwYWNlOiBub3dyYXA7DQoJfQ0KDQouZmMtaGVh
			ZGVyLWxlZnQgew0KCXdpZHRoOiAyNSU7DQoJdGV4dC1hbGlnbjogbGVmdDsNCgl9DQoJDQouZmMt
			aGVhZGVyLWNlbnRlciB7DQoJdGV4dC1hbGlnbjogY2VudGVyOw0KCX0NCgkNCi5mYy1oZWFkZXIt
			cmlnaHQgew0KCXdpZHRoOiAyNSU7DQoJdGV4dC1hbGlnbjogcmlnaHQ7DQoJfQ0KCQ0KLmZjLWhl
			YWRlci10aXRsZSB7DQoJZGlzcGxheTogaW5saW5lLWJsb2NrOw0KCXZlcnRpY2FsLWFsaWduOiB0
			b3A7DQoJfQ0KCQ0KLmZjLWhlYWRlci10aXRsZSBoMiB7DQoJbWFyZ2luLXRvcDogMDsNCgl3aGl0
			ZS1zcGFjZTogbm93cmFwOw0KCX0NCgkNCi5mYyAuZmMtaGVhZGVyLXNwYWNlIHsNCglwYWRkaW5n
			LWxlZnQ6IDEwcHg7DQoJfQ0KCQ0KLmZjLWhlYWRlciAuZmMtYnV0dG9uIHsNCgltYXJnaW4tYm90
			dG9tOiAxZW07DQoJdmVydGljYWwtYWxpZ246IHRvcDsNCgl9DQoJDQovKiBidXR0b25zIGVkZ2Vz
			IGJ1dHRpbmcgdG9nZXRoZXIgKi8NCg0KLmZjLWhlYWRlciAuZmMtYnV0dG9uIHsNCgltYXJnaW4t
			cmlnaHQ6IC0xcHg7DQoJfQ0KCQ0KLmZjLWhlYWRlciAuZmMtY29ybmVyLXJpZ2h0IHsNCgltYXJn
			aW4tcmlnaHQ6IDFweDsgLyogYmFjayB0byBub3JtYWwgKi8NCgl9DQoJDQouZmMtaGVhZGVyIC51
			aS1jb3JuZXItcmlnaHQgew0KCW1hcmdpbi1yaWdodDogMDsgLyogYmFjayB0byBub3JtYWwgKi8N
			Cgl9DQoJDQovKiBidXR0b24gbGF5ZXJpbmcgKGZvciBib3JkZXIgcHJlY2VkZW5jZSkgKi8NCgkN
			Ci5mYy1oZWFkZXIgLmZjLXN0YXRlLWhvdmVyLA0KLmZjLWhlYWRlciAudWktc3RhdGUtaG92ZXIg
			ew0KCXotaW5kZXg6IDI7DQoJfQ0KCQ0KLmZjLWhlYWRlciAuZmMtc3RhdGUtZG93biB7DQoJei1p
			bmRleDogMzsNCgl9DQoNCi5mYy1oZWFkZXIgLmZjLXN0YXRlLWFjdGl2ZSwNCi5mYy1oZWFkZXIg
			LnVpLXN0YXRlLWFjdGl2ZSB7DQoJei1pbmRleDogNDsNCgl9DQoJDQoJDQoJDQovKiBDb250ZW50
			DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0qLw0KCQ0KLmZjLWNvbnRlbnQgew0KCWNsZWFyOiBib3RoOw0KCX0N
			CgkNCi5mYy12aWV3IHsNCgl3aWR0aDogMTAwJTsgLyogbmVlZGVkIGZvciB2aWV3IHN3aXRjaGlu
			ZyAod2hlbiB2aWV3IGlzIGFic29sdXRlKSAqLw0KCW92ZXJmbG93OiBoaWRkZW47DQoJfQ0KCQ0K
			CQ0KDQovKiBDZWxsIFN0eWxlcw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLmZjLXdpZGdldC1oZWFk
			ZXIsICAgIC8qIDx0aD4sIHVzdWFsbHkgKi8NCi5mYy13aWRnZXQtY29udGVudCB7ICAvKiA8dGQ+
			LCB1c3VhbGx5ICovDQoJYm9yZGVyOiAxcHggc29saWQgI2NjYzsNCgl9DQoJDQouZmMtc3RhdGUt
			aGlnaGxpZ2h0IHsgLyogPHRkPiB0b2RheSBjZWxsICovIC8qIFRPRE86IGFkZCAuZmMtdG9kYXkg
			dG8gPHRoPiAqLw0KCWJhY2tncm91bmQ6ICNmZmM7DQoJfQ0KCQ0KLmZjLWNlbGwtb3ZlcmxheSB7
			IC8qIHNlbWktdHJhbnNwYXJlbnQgcmVjdGFuZ2xlIHdoaWxlIGRyYWdnaW5nICovDQoJYmFja2dy
			b3VuZDogIzljZjsNCglvcGFjaXR5OiAuMjsNCglmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApOyAv
			KiBmb3IgSUUgKi8NCgl9DQoJDQoNCg0KLyogQnV0dG9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0K
			LmZjLWJ1dHRvbiB7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCWRpc3BsYXk6IGlubGluZS1ibG9j
			azsNCgljdXJzb3I6IHBvaW50ZXI7DQoJfQ0KCQ0KLmZjLXN0YXRlLWRlZmF1bHQgeyAvKiBub24t
			dGhlbWUgKi8NCglib3JkZXItc3R5bGU6IHNvbGlkOw0KCWJvcmRlci13aWR0aDogMXB4IDA7DQoJ
			fQ0KCQ0KLmZjLWJ1dHRvbi1pbm5lciB7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCWZsb2F0OiBs
			ZWZ0Ow0KCW92ZXJmbG93OiBoaWRkZW47DQoJfQ0KCQ0KLmZjLXN0YXRlLWRlZmF1bHQgLmZjLWJ1
			dHRvbi1pbm5lciB7IC8qIG5vbi10aGVtZSAqLw0KCWJvcmRlci1zdHlsZTogc29saWQ7DQoJYm9y
			ZGVyLXdpZHRoOiAwIDFweDsNCgl9DQoJDQouZmMtYnV0dG9uLWNvbnRlbnQgew0KCXBvc2l0aW9u
			OiByZWxhdGl2ZTsNCglmbG9hdDogbGVmdDsNCgloZWlnaHQ6IDEuOWVtOw0KCWxpbmUtaGVpZ2h0
			OiAxLjllbTsNCglwYWRkaW5nOiAwIC42ZW07DQoJd2hpdGUtc3BhY2U6IG5vd3JhcDsNCgl9DQoJ
			DQovKiBpY29uIChmb3IganF1ZXJ5IHVpKSAqLw0KCQ0KLmZjLWJ1dHRvbi1jb250ZW50IC5mYy1p
			Y29uLXdyYXAgew0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCglmbG9hdDogbGVmdDsNCgl0b3A6IDUw
			JTsNCgl9DQoJDQouZmMtYnV0dG9uLWNvbnRlbnQgLnVpLWljb24gew0KCXBvc2l0aW9uOiByZWxh
			dGl2ZTsNCglmbG9hdDogbGVmdDsNCgltYXJnaW4tdG9wOiAtNTAlOw0KCSptYXJnaW4tdG9wOiAw
			Ow0KCSp0b3A6IC01MCU7DQoJfQ0KCQ0KLyogZ2xvc3MgZWZmZWN0ICovDQoJDQouZmMtc3RhdGUt
			ZGVmYXVsdCAuZmMtYnV0dG9uLWVmZmVjdCB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXRvcDog
			NTAlOw0KCWxlZnQ6IDA7DQoJfQ0KCQ0KLmZjLXN0YXRlLWRlZmF1bHQgLmZjLWJ1dHRvbi1lZmZl
			Y3Qgc3BhbiB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXRvcDogLTEwMHB4Ow0KCWxlZnQ6IDA7
			DQoJd2lkdGg6IDUwMHB4Ow0KCWhlaWdodDogMTAwcHg7DQoJYm9yZGVyLXdpZHRoOiAxMDBweCAw
			IDAgMXB4Ow0KCWJvcmRlci1zdHlsZTogc29saWQ7DQoJYm9yZGVyLWNvbG9yOiAjZmZmOw0KCWJh
			Y2tncm91bmQ6ICM0NDQ7DQoJb3BhY2l0eTogLjA5Ow0KCWZpbHRlcjogYWxwaGEob3BhY2l0eT05
			KTsNCgl9DQoJDQovKiBidXR0b24gc3RhdGVzIChkZXRlcm1pbmVzIGNvbG9ycykgICovDQoJDQou
			ZmMtc3RhdGUtZGVmYXVsdCwNCi5mYy1zdGF0ZS1kZWZhdWx0IC5mYy1idXR0b24taW5uZXIgew0K
			CWJvcmRlci1zdHlsZTogc29saWQ7DQoJYm9yZGVyLWNvbG9yOiAjY2NjICNiYmIgI2FhYTsNCgli
			YWNrZ3JvdW5kOiAjRjNGM0YzOw0KCWNvbG9yOiAjMDAwOw0KCX0NCgkNCi5mYy1zdGF0ZS1ob3Zl
			ciwNCi5mYy1zdGF0ZS1ob3ZlciAuZmMtYnV0dG9uLWlubmVyIHsNCglib3JkZXItY29sb3I6ICM5
			OTk7DQoJfQ0KCQ0KLmZjLXN0YXRlLWRvd24sDQouZmMtc3RhdGUtZG93biAuZmMtYnV0dG9uLWlu
			bmVyIHsNCglib3JkZXItY29sb3I6ICM1NTU7DQoJYmFja2dyb3VuZDogIzc3NzsNCgl9DQoJDQou
			ZmMtc3RhdGUtYWN0aXZlLA0KLmZjLXN0YXRlLWFjdGl2ZSAuZmMtYnV0dG9uLWlubmVyIHsNCgli
			b3JkZXItY29sb3I6ICM1NTU7DQoJYmFja2dyb3VuZDogIzc3NzsNCgljb2xvcjogI2ZmZjsNCgl9
			DQoJDQouZmMtc3RhdGUtZGlzYWJsZWQsDQouZmMtc3RhdGUtZGlzYWJsZWQgLmZjLWJ1dHRvbi1p
			bm5lciB7DQoJY29sb3I6ICM5OTk7DQoJYm9yZGVyLWNvbG9yOiAjZGRkOw0KCX0NCgkNCi5mYy1z
			dGF0ZS1kaXNhYmxlZCB7DQoJY3Vyc29yOiBkZWZhdWx0Ow0KCX0NCgkNCi5mYy1zdGF0ZS1kaXNh
			YmxlZCAuZmMtYnV0dG9uLWVmZmVjdCB7DQoJZGlzcGxheTogbm9uZTsNCgl9DQoJDQoJDQoNCi8q
			IEdsb2JhbCBFdmVudCBTdHlsZXMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoJIA0KLmZjLWV2ZW50IHsN
			Cglib3JkZXItc3R5bGU6IHNvbGlkOw0KCWJvcmRlci13aWR0aDogMDsNCglmb250LXNpemU6IC44
			NWVtOw0KCWN1cnNvcjogZGVmYXVsdDsNCgl9DQoJDQphLmZjLWV2ZW50LA0KLmZjLWV2ZW50LWRy
			YWdnYWJsZSB7DQoJY3Vyc29yOiBwb2ludGVyOw0KCX0NCgkNCmEuZmMtZXZlbnQgew0KCXRleHQt
			ZGVjb3JhdGlvbjogbm9uZTsNCgl9DQoJDQouZmMtcnRsIC5mYy1ldmVudCB7DQoJdGV4dC1hbGln
			bjogcmlnaHQ7DQoJfQ0KCQ0KLmZjLWV2ZW50LXNraW4gew0KCWJvcmRlci1jb2xvcjogIzM2Yzsg
			ICAgIC8qIGRlZmF1bHQgQk9SREVSIGNvbG9yICovDQoJYmFja2dyb3VuZC1jb2xvcjogIzM2Yzsg
			LyogZGVmYXVsdCBCQUNLR1JPVU5EIGNvbG9yICovDQoJY29sb3I6ICNmZmY7ICAgICAgICAgICAg
			LyogZGVmYXVsdCBURVhUIGNvbG9yICovDQoJfQ0KCQ0KLmZjLWV2ZW50LWlubmVyIHsNCglwb3Np
			dGlvbjogcmVsYXRpdmU7DQoJd2lkdGg6IDEwMCU7DQoJaGVpZ2h0OiAxMDAlOw0KCWJvcmRlci1z
			dHlsZTogc29saWQ7DQoJYm9yZGVyLXdpZHRoOiAwOw0KCW92ZXJmbG93OiBoaWRkZW47DQoJfQ0K
			CQ0KLmZjLWV2ZW50LXRpbWUsDQouZmMtZXZlbnQtdGl0bGUgew0KCXBhZGRpbmc6IDAgMXB4Ow0K
			CX0NCgkNCi5mYyAudWktcmVzaXphYmxlLWhhbmRsZSB7IC8qKiogVE9ETzogZG9uJ3QgdXNlIHVp
			LXJlc2l6YWJsZSBhbnltb3JlLCBjaGFuZ2UgY2xhc3MgKioqLw0KCWRpc3BsYXk6IGJsb2NrOw0K
			CXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl6LWluZGV4OiA5OTk5OTsNCglvdmVyZmxvdzogaGlkZGVu
			OyAvKiBoYWNreSBzcGFjZXMgKElFNi83KSAqLw0KCWZvbnQtc2l6ZTogMzAwJTsgIC8qICovDQoJ
			bGluZS1oZWlnaHQ6IDUwJTsgLyogKi8NCgl9DQoJDQoJDQoJDQovKiBIb3Jpem9udGFsIEV2ZW50
			cw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLmZjLWV2ZW50LWhvcmkgew0KCWJvcmRlci13aWR0aDog
			MXB4IDA7DQoJbWFyZ2luLWJvdHRvbTogMXB4Ow0KCX0NCgkNCi8qIHJlc2l6YWJsZSAqLw0KCQ0K
			LmZjLWV2ZW50LWhvcmkgLnVpLXJlc2l6YWJsZS1lIHsNCgl0b3A6IDAgICAgICAgICAgICFpbXBv
			cnRhbnQ7IC8qIGltcG9ydGFudHMgb3ZlcnJpZGUgcHJlIGpxdWVyeSB1aSAxLjcgc3R5bGVzICov
			DQoJcmlnaHQ6IC0zcHggICAgICAhaW1wb3J0YW50Ow0KCXdpZHRoOiA3cHggICAgICAgIWltcG9y
			dGFudDsNCgloZWlnaHQ6IDEwMCUgICAgICFpbXBvcnRhbnQ7DQoJY3Vyc29yOiBlLXJlc2l6ZTsN
			Cgl9DQoJDQouZmMtZXZlbnQtaG9yaSAudWktcmVzaXphYmxlLXcgew0KCXRvcDogMCAgICAgICAg
			ICAgIWltcG9ydGFudDsNCglsZWZ0OiAtM3B4ICAgICAgICFpbXBvcnRhbnQ7DQoJd2lkdGg6IDdw
			eCAgICAgICAhaW1wb3J0YW50Ow0KCWhlaWdodDogMTAwJSAgICAgIWltcG9ydGFudDsNCgljdXJz
			b3I6IHctcmVzaXplOw0KCX0NCgkNCi5mYy1ldmVudC1ob3JpIC51aS1yZXNpemFibGUtaGFuZGxl
			IHsNCglfcGFkZGluZy1ib3R0b206IDE0cHg7IC8qIElFNiBoYWQgMCBoZWlnaHQgKi8NCgl9DQoJ
			DQoJDQoJDQovKiBGYWtlIFJvdW5kZWQgQ29ybmVycyAoZm9yIGJ1dHRvbnMgYW5kIGV2ZW50cykN
			Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLSovDQoJDQouZmMtY29ybmVyLWxlZnQgew0KCW1hcmdpbi1sZWZ0OiAxcHg7DQoJfQ0KCQ0K
			LmZjLWNvcm5lci1sZWZ0IC5mYy1idXR0b24taW5uZXIsDQouZmMtY29ybmVyLWxlZnQgLmZjLWV2
			ZW50LWlubmVyIHsNCgltYXJnaW4tbGVmdDogLTFweDsNCgl9DQoJDQouZmMtY29ybmVyLXJpZ2h0
			IHsNCgltYXJnaW4tcmlnaHQ6IDFweDsNCgl9DQoJDQouZmMtY29ybmVyLXJpZ2h0IC5mYy1idXR0
			b24taW5uZXIsDQouZmMtY29ybmVyLXJpZ2h0IC5mYy1ldmVudC1pbm5lciB7DQoJbWFyZ2luLXJp
			Z2h0OiAtMXB4Ow0KCX0NCgkNCi5mYy1jb3JuZXItdG9wIHsNCgltYXJnaW4tdG9wOiAxcHg7DQoJ
			fQ0KCQ0KLmZjLWNvcm5lci10b3AgLmZjLWV2ZW50LWlubmVyIHsNCgltYXJnaW4tdG9wOiAtMXB4
			Ow0KCX0NCgkNCi5mYy1jb3JuZXItYm90dG9tIHsNCgltYXJnaW4tYm90dG9tOiAxcHg7DQoJfQ0K
			CQ0KLmZjLWNvcm5lci1ib3R0b20gLmZjLWV2ZW50LWlubmVyIHsNCgltYXJnaW4tYm90dG9tOiAt
			MXB4Ow0KCX0NCgkNCgkNCgkNCi8qIEZha2UgUm91bmRlZCBDb3JuZXJzIFNQRUNJRklDQUxMWSBG
			T1IgRVZFTlRTDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLSovDQoJDQouZmMtY29ybmVyLWxlZnQgLmZjLWV2ZW50LWlubmVy
			IHsNCglib3JkZXItbGVmdC13aWR0aDogMXB4Ow0KCX0NCgkNCi5mYy1jb3JuZXItcmlnaHQgLmZj
			LWV2ZW50LWlubmVyIHsNCglib3JkZXItcmlnaHQtd2lkdGg6IDFweDsNCgl9DQoJDQouZmMtY29y
			bmVyLXRvcCAuZmMtZXZlbnQtaW5uZXIgew0KCWJvcmRlci10b3Atd2lkdGg6IDFweDsNCgl9DQoJ
			DQouZmMtY29ybmVyLWJvdHRvbSAuZmMtZXZlbnQtaW5uZXIgew0KCWJvcmRlci1ib3R0b20td2lk
			dGg6IDFweDsNCgl9DQoJDQoJDQoJDQovKiBSZXVzYWJsZSBTZXBhcmF0ZS1ib3JkZXIgVGFibGUN
			Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLSovDQoNCnRhYmxlLmZjLWJvcmRlci1zZXBhcmF0ZSB7DQoJYm9yZGVyLWNvbGxhcHNlOiBz
			ZXBhcmF0ZTsNCgl9DQoJDQouZmMtYm9yZGVyLXNlcGFyYXRlIHRoLA0KLmZjLWJvcmRlci1zZXBh
			cmF0ZSB0ZCB7DQoJYm9yZGVyLXdpZHRoOiAxcHggMCAwIDFweDsNCgl9DQoJDQouZmMtYm9yZGVy
			LXNlcGFyYXRlIHRoLmZjLWxhc3QsDQouZmMtYm9yZGVyLXNlcGFyYXRlIHRkLmZjLWxhc3Qgew0K
			CWJvcmRlci1yaWdodC13aWR0aDogMXB4Ow0KCX0NCgkNCi5mYy1ib3JkZXItc2VwYXJhdGUgdHIu
			ZmMtbGFzdCB0aCwNCi5mYy1ib3JkZXItc2VwYXJhdGUgdHIuZmMtbGFzdCB0ZCB7DQoJYm9yZGVy
			LWJvdHRvbS13aWR0aDogMXB4Ow0KCX0NCgkNCi5mYy1ib3JkZXItc2VwYXJhdGUgdGJvZHkgdHIu
			ZmMtZmlyc3QgdGQsDQouZmMtYm9yZGVyLXNlcGFyYXRlIHRib2R5IHRyLmZjLWZpcnN0IHRoIHsN
			Cglib3JkZXItdG9wLXdpZHRoOiAwOw0KCX0NCgkNCgkNCg0KLyogTW9udGggVmlldywgQmFzaWMg
			V2VlayBWaWV3LCBCYXNpYyBEYXkgVmlldw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLmZjLWdyaWQg
			dGggew0KCXRleHQtYWxpZ246IGNlbnRlcjsNCgl9DQoJDQouZmMtZ3JpZCAuZmMtZGF5LW51bWJl
			ciB7DQoJZmxvYXQ6IHJpZ2h0Ow0KCXBhZGRpbmc6IDAgMnB4Ow0KCX0NCgkNCi5mYy1ncmlkIC5m
			Yy1vdGhlci1tb250aCAuZmMtZGF5LW51bWJlciB7DQoJb3BhY2l0eTogMC4zOw0KCWZpbHRlcjog
			YWxwaGEob3BhY2l0eT0zMCk7IC8qIGZvciBJRSAqLw0KCS8qIG9wYWNpdHkgd2l0aCBzbWFsbCBm
			b250IGNhbiBzb21ldGltZXMgbG9vayB0b28gZmFkZWQNCgkgICBtaWdodCB3YW50IHRvIHNldCB0
			aGUgJ2NvbG9yJyBwcm9wZXJ0eSBpbnN0ZWFkDQoJICAgbWFraW5nIGRheS1udW1iZXJzIGJvbGQg
			YWxzbyBmaXhlcyB0aGUgcHJvYmxlbSAqLw0KCX0NCgkNCi5mYy1ncmlkIC5mYy1kYXktY29udGVu
			dCB7DQoJY2xlYXI6IGJvdGg7DQoJcGFkZGluZzogMnB4IDJweCAxcHg7IC8qIGRpc3RhbmNlIGJl
			dHdlZW4gZXZlbnRzIGFuZCBkYXkgZWRnZXMgKi8NCgl9DQoJDQovKiBldmVudCBzdHlsZXMgKi8N
			CgkNCi5mYy1ncmlkIC5mYy1ldmVudC10aW1lIHsNCglmb250LXdlaWdodDogYm9sZDsNCgl9DQoJ
			DQovKiByaWdodC10by1sZWZ0ICovDQoJDQouZmMtcnRsIC5mYy1ncmlkIC5mYy1kYXktbnVtYmVy
			IHsNCglmbG9hdDogbGVmdDsNCgl9DQoJDQouZmMtcnRsIC5mYy1ncmlkIC5mYy1ldmVudC10aW1l
			IHsNCglmbG9hdDogcmlnaHQ7DQoJfQ0KCQ0KCQ0KDQovKiBBZ2VuZGEgV2VlayBWaWV3LCBBZ2Vu
			ZGEgRGF5IFZpZXcNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi5mYy1hZ2VuZGEgdGFibGUgew0KCWJv
			cmRlci1jb2xsYXBzZTogc2VwYXJhdGU7DQoJfQ0KCQ0KLmZjLWFnZW5kYS1kYXlzIHRoIHsNCgl0
			ZXh0LWFsaWduOiBjZW50ZXI7DQoJfQ0KCQ0KLmZjLWFnZW5kYSAuZmMtYWdlbmRhLWF4aXMgew0K
			CXdpZHRoOiA1MHB4Ow0KCXBhZGRpbmc6IDAgNHB4Ow0KCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7
			DQoJdGV4dC1hbGlnbjogcmlnaHQ7DQoJd2hpdGUtc3BhY2U6IG5vd3JhcDsNCglmb250LXdlaWdo
			dDogbm9ybWFsOw0KCX0NCgkNCi5mYy1hZ2VuZGEgLmZjLWRheS1jb250ZW50IHsNCglwYWRkaW5n
			OiAycHggMnB4IDFweDsNCgl9DQoJDQovKiBtYWtlIGF4aXMgYm9yZGVyIHRha2UgcHJlY2VkZW5j
			ZSAqLw0KCQ0KLmZjLWFnZW5kYS1kYXlzIC5mYy1hZ2VuZGEtYXhpcyB7DQoJYm9yZGVyLXJpZ2h0
			LXdpZHRoOiAxcHg7DQoJfQ0KCQ0KLmZjLWFnZW5kYS1kYXlzIC5mYy1jb2wwIHsNCglib3JkZXIt
			bGVmdC13aWR0aDogMDsNCgl9DQoJDQovKiBhbGwtZGF5IGFyZWEgKi8NCgkNCi5mYy1hZ2VuZGEt
			YWxsZGF5IHRoIHsNCglib3JkZXItd2lkdGg6IDAgMXB4Ow0KCX0NCgkNCi5mYy1hZ2VuZGEtYWxs
			ZGF5IC5mYy1kYXktY29udGVudCB7DQoJbWluLWhlaWdodDogMzRweDsgLyogVE9ETzogZG9lc250
			IHdvcmsgd2VsbCBpbiBxdWlya3Ntb2RlICovDQoJX2hlaWdodDogMzRweDsNCgl9DQoJDQovKiBk
			aXZpZGVyIChiZXR3ZWVuIGFsbC1kYXkgYW5kIHNsb3RzKSAqLw0KCQ0KLmZjLWFnZW5kYS1kaXZp
			ZGVyLWlubmVyIHsNCgloZWlnaHQ6IDJweDsNCglvdmVyZmxvdzogaGlkZGVuOw0KCX0NCgkNCi5m
			Yy13aWRnZXQtaGVhZGVyIC5mYy1hZ2VuZGEtZGl2aWRlci1pbm5lciB7DQoJYmFja2dyb3VuZDog
			I2VlZTsNCgl9DQoJDQovKiBzbG90IHJvd3MgKi8NCgkNCi5mYy1hZ2VuZGEtc2xvdHMgdGggew0K
			CWJvcmRlci13aWR0aDogMXB4IDFweCAwOw0KCX0NCgkNCi5mYy1hZ2VuZGEtc2xvdHMgdGQgew0K
			CWJvcmRlci13aWR0aDogMXB4IDAgMDsNCgliYWNrZ3JvdW5kOiBub25lOw0KCX0NCgkNCi5mYy1h
			Z2VuZGEtc2xvdHMgdGQgZGl2IHsNCgloZWlnaHQ6IDIwcHg7DQoJfQ0KCQ0KLmZjLWFnZW5kYS1z
			bG90cyB0ci5mYy1zbG90MCB0aCwNCi5mYy1hZ2VuZGEtc2xvdHMgdHIuZmMtc2xvdDAgdGQgew0K
			CWJvcmRlci10b3Atd2lkdGg6IDA7DQoJfQ0KDQouZmMtYWdlbmRhLXNsb3RzIHRyLmZjLW1pbm9y
			IHRoLA0KLmZjLWFnZW5kYS1zbG90cyB0ci5mYy1taW5vciB0ZCB7DQoJYm9yZGVyLXRvcC1zdHls
			ZTogZG90dGVkOw0KCX0NCgkNCi5mYy1hZ2VuZGEtc2xvdHMgdHIuZmMtbWlub3IgdGgudWktd2lk
			Z2V0LWhlYWRlciB7DQoJKmJvcmRlci10b3Atc3R5bGU6IHNvbGlkOyAvKiBkb2Vzbid0IHdvcmsg
			d2l0aCBiYWNrZ3JvdW5kIGluIElFNi83ICovDQoJfQ0KCQ0KDQoNCi8qIFZlcnRpY2FsIEV2ZW50
			cw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
			LS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLmZjLWV2ZW50LXZlcnQgew0KCWJvcmRlci13aWR0aDog
			MCAxcHg7DQoJfQ0KCQ0KLmZjLWV2ZW50LXZlcnQgLmZjLWV2ZW50LWhlYWQsDQouZmMtZXZlbnQt
			dmVydCAuZmMtZXZlbnQtY29udGVudCB7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCXotaW5kZXg6
			IDI7DQoJd2lkdGg6IDEwMCU7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCgl9DQoJDQouZmMtZXZlbnQt
			dmVydCAuZmMtZXZlbnQtdGltZSB7DQoJd2hpdGUtc3BhY2U6IG5vd3JhcDsNCglmb250LXNpemU6
			IDEwcHg7DQoJfQ0KCQ0KLmZjLWV2ZW50LXZlcnQgLmZjLWV2ZW50LWJnIHsgLyogbWFrZXMgdGhl
			IGV2ZW50IGxpZ2h0ZXIgdy8gYSBzZW1pLXRyYW5zcGFyZW50IG92ZXJsYXkgICovDQoJcG9zaXRp
			b246IGFic29sdXRlOw0KCXotaW5kZXg6IDE7DQoJdG9wOiAwOw0KCWxlZnQ6IDA7DQoJd2lkdGg6
			IDEwMCU7DQoJaGVpZ2h0OiAxMDAlOw0KCWJhY2tncm91bmQ6ICNmZmY7DQoJb3BhY2l0eTogLjM7
			DQoJZmlsdGVyOiBhbHBoYShvcGFjaXR5PTMwKTsNCgl9DQoJDQouZmMgLnVpLWRyYWdnYWJsZS1k
			cmFnZ2luZyAuZmMtZXZlbnQtYmcsIC8qIFRPRE86IHNvbWV0aGluZyBuaWNlciBsaWtlIC5mYy1v
			cGFjaXR5ICovDQouZmMtc2VsZWN0LWhlbHBlciAuZmMtZXZlbnQtYmcgew0KCWRpc3BsYXk6IG5v
			bmVcOTsgLyogZm9yIElFNi83LzguIG5lc3RlZCBvcGFjaXR5IGZpbHRlcnMgd2hpbGUgZHJhZ2dp
			bmcgZG9uJ3Qgd29yayAqLw0KCX0NCgkNCi8qIHJlc2l6YWJsZSAqLw0KCQ0KLmZjLWV2ZW50LXZl
			cnQgLnVpLXJlc2l6YWJsZS1zIHsNCglib3R0b206IDAgICAgICAgICFpbXBvcnRhbnQ7IC8qIGlt
			cG9ydGFudHMgb3ZlcnJpZGUgcHJlIGpxdWVyeSB1aSAxLjcgc3R5bGVzICovDQoJd2lkdGg6IDEw
			MCUgICAgICAhaW1wb3J0YW50Ow0KCWhlaWdodDogOHB4ICAgICAgIWltcG9ydGFudDsNCglvdmVy
			ZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7DQoJbGluZS1oZWlnaHQ6IDhweCAhaW1wb3J0YW50Ow0K
			CWZvbnQtc2l6ZTogMTFweCAgIWltcG9ydGFudDsNCglmb250LWZhbWlseTogbW9ub3NwYWNlOw0K
			CXRleHQtYWxpZ246IGNlbnRlcjsNCgljdXJzb3I6IHMtcmVzaXplOw0KCX0NCgkNCi5mYy1hZ2Vu
			ZGEgLnVpLXJlc2l6YWJsZS1yZXNpemluZyB7IC8qIFRPRE86IGJldHRlciBzZWxlY3RvciAqLw0K
			CV9vdmVyZmxvdzogaGlkZGVuOw0KCX0NCgkNCgkNCg==]]></Resource>
    <Resource ID="10b18a20-59c9-2b2b-e4b3-7281bcc66d4f" Name="fullcalendar" Type="js"><![CDATA[KGZ1bmN0aW9uKFNlKSB7CiAgICBmdW5jdGlvbiBhKHQpIHsKICAgICAgICBTZS5leHRlbmQoITAsIHNlLCB0KQogICAgfQogICAgZnVuY3Rpb24gTWUoYSwgaSwgZSkgewogICAgICAgIGZ1bmN0aW9uIHIodCkgewogICAgICAgICAgICBHID8gZygpICYmICh3KCksCiAgICAgICAgICAgIGIodCkpIDogbCgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGwoKSB7CiAgICAgICAgICAgIFogPSBpLnRoZW1lID8gInVpIiA6ICJmYyIsCiAgICAgICAgICAgIGEuYWRkQ2xhc3MoImZjIiksCiAgICAgICAgICAgIGkuaXNSVEwgPyBhLmFkZENsYXNzKCJmYy1ydGwiKSA6IGEuYWRkQ2xhc3MoImZjLWx0ciIpLAogICAgICAgICAgICBpLnRoZW1lICYmIGEuYWRkQ2xhc3MoInVpLXdpZGdldCIpLAogICAgICAgICAgICBHID0gU2UoIjxkaXYgY2xhc3M9J2ZjLWNvbnRlbnQnIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZScvPiIpLnByZXBlbmRUbyhhKSwKICAgICAgICAgICAgViA9IG5ldyBUZShKLGkpLAogICAgICAgICAgICBVID0gVi5yZW5kZXIoKSwKICAgICAgICAgICAgVSAmJiBhLnByZXBlbmQoVSksCiAgICAgICAgICAgIGYoaS5kZWZhdWx0VmlldyksCiAgICAgICAgICAgIGkuaGFuZGxlV2luZG93UmVzaXplICYmIFNlKHdpbmRvdykucmVzaXplKEUpLAogICAgICAgICAgICBoKCkgfHwgZCgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGQoKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAhSy5zdGFydCAmJiBoKCkgJiYgeSgpCiAgICAgICAgICAgIH0sIDApCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGMoKSB7CiAgICAgICAgICAgIEsgJiYgKFgoInZpZXdEZXN0cm95IiwgSywgSywgSy5lbGVtZW50KSwKICAgICAgICAgICAgSy50cmlnZ2VyRXZlbnREZXN0cm95KCkpLAogICAgICAgICAgICBTZSh3aW5kb3cpLnVuYmluZCgicmVzaXplIiwgRSksCiAgICAgICAgICAgIFYuZGVzdHJveSgpLAogICAgICAgICAgICBHLnJlbW92ZSgpLAogICAgICAgICAgICBhLnJlbW92ZUNsYXNzKCJmYyBmYy1ydGwgdWktd2lkZ2V0IikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZygpIHsKICAgICAgICAgICAgcmV0dXJuIGEuaXMoIjp2aXNpYmxlIikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaCgpIHsKICAgICAgICAgICAgcmV0dXJuIFNlKCJib2R5IikuaXMoIjp2aXNpYmxlIikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZih0KSB7CiAgICAgICAgICAgIEsgJiYgdCA9PSBLLm5hbWUgfHwgdih0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB2KHQpIHsKICAgICAgICAgICAgeWUrKywKICAgICAgICAgICAgSyAmJiAoWCgidmlld0Rlc3Ryb3kiLCBLLCBLLCBLLmVsZW1lbnQpLAogICAgICAgICAgICBXKCksCiAgICAgICAgICAgIEsudHJpZ2dlckV2ZW50RGVzdHJveSgpLAogICAgICAgICAgICBCKCksCiAgICAgICAgICAgIEsuZWxlbWVudC5yZW1vdmUoKSwKICAgICAgICAgICAgVi5kZWFjdGl2YXRlQnV0dG9uKEsubmFtZSkpLAogICAgICAgICAgICBWLmFjdGl2YXRlQnV0dG9uKHQpLAogICAgICAgICAgICBLID0gbmV3IG9lW3RdKFNlKCI8ZGl2IGNsYXNzPSdmYy12aWV3IGZjLXZpZXctIiArIHQgKyAiJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnLz4iKS5hcHBlbmRUbyhHKSxKKSwKICAgICAgICAgICAgeSgpLAogICAgICAgICAgICBqKCksCiAgICAgICAgICAgIHllLS0sCiAgICAgICAgICAgIFgoInZpZXdDaGFuZ2VkIiwgdGhpcywgSy5uYW1lLCBLLnRpdGxlKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbSgpIHsKICAgICAgICAgICAgdmFyIHQgPSB3ZS5tb250aDsKICAgICAgICAgICAgcmV0dXJuIHQgPyB0LmNhbGN1bGF0ZVN0YXJ0RW5kKGJlKSA6IFtOYU4sIE5hTl0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24geSh0KSB7CiAgICAgICAgICAgICghSy5zdGFydCB8fCB0IHx8IGJlIDwgSy5zdGFydCB8fCBiZSA+PSBLLmVuZCkgJiYgZygpICYmIGIodCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gYih0KSB7CiAgICAgICAgICAgIHllKyssCiAgICAgICAgICAgIEsuc3RhcnQgJiYgKFgoInZpZXdEZXN0cm95IiwgSywgSywgSy5lbGVtZW50KSwKICAgICAgICAgICAgVygpLAogICAgICAgICAgICB4KCkpLAogICAgICAgICAgICBCKCksCiAgICAgICAgICAgIEsucmVuZGVyKGJlLCB0IHx8IDApLAogICAgICAgICAgICBDKCksCiAgICAgICAgICAgIGooKSwKICAgICAgICAgICAgKEsuYWZ0ZXJSZW5kZXIgfHwgSCkoKSwKICAgICAgICAgICAgeigpLAogICAgICAgICAgICBGKCksCiAgICAgICAgICAgIFgoInZpZXdSZW5kZXIiLCBLLCBLLCBLLmVsZW1lbnQpLAogICAgICAgICAgICBLLnRyaWdnZXIoInZpZXdEaXNwbGF5IiwgbWUpLAogICAgICAgICAgICB5ZS0tLAogICAgICAgICAgICBrKCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gRCgpIHsKICAgICAgICAgICAgZygpICYmIChXKCksCiAgICAgICAgICAgIHgoKSwKICAgICAgICAgICAgdygpLAogICAgICAgICAgICBDKCksCiAgICAgICAgICAgIFQoKSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdygpIHsKICAgICAgICAgICAgdWUgPSBpLmNvbnRlbnRIZWlnaHQgPyBpLmNvbnRlbnRIZWlnaHQgOiBpLmhlaWdodCA/IGkuaGVpZ2h0IC0gKFUgPyBVLmhlaWdodCgpIDogMCkgLSBTKEcpIDogTWF0aC5yb3VuZChHLndpZHRoKCkgLyBNYXRoLm1heChpLmFzcGVjdFJhdGlvLCAuNSkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEMoKSB7CiAgICAgICAgICAgIHZvaWQgMCA9PT0gdWUgJiYgdygpLAogICAgICAgICAgICB5ZSsrLAogICAgICAgICAgICBLLnNldEhlaWdodCh1ZSksCiAgICAgICAgICAgIEsuc2V0V2lkdGgoRy53aWR0aCgpKSwKICAgICAgICAgICAgeWUtLSwKICAgICAgICAgICAgUSA9IGEub3V0ZXJXaWR0aCgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEUoKSB7CiAgICAgICAgICAgIGlmICgheWUpCiAgICAgICAgICAgICAgICBpZiAoSy5zdGFydCkgewogICAgICAgICAgICAgICAgICAgIHZhciBlID0gKytsZTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBlID09IGxlICYmICF5ZSAmJiBnKCkgJiYgUSAhPSAoUSA9IGEub3V0ZXJXaWR0aCgpKSAmJiAoeWUrKywKICAgICAgICAgICAgICAgICAgICAgICAgRCgpLAogICAgICAgICAgICAgICAgICAgICAgICBLLnRyaWdnZXIoIndpbmRvd1Jlc2l6ZSIsIG1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgeWUtLSkKICAgICAgICAgICAgICAgICAgICB9LCAyMDApCiAgICAgICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgICAgICBkKCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gTSh0KSB7CiAgICAgICAgICAgIHgoKSwKICAgICAgICAgICAgVCh0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBUKHQpIHsKICAgICAgICAgICAgZygpICYmIChLLnNldEV2ZW50RGF0YShEZSksCiAgICAgICAgICAgIEsucmVuZGVyRXZlbnRzKERlLCB0KSwKICAgICAgICAgICAgSy50cmlnZ2VyKCJldmVudEFmdGVyQWxsUmVuZGVyIikpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHgoKSB7CiAgICAgICAgICAgIEsudHJpZ2dlckV2ZW50RGVzdHJveSgpLAogICAgICAgICAgICBLLmNsZWFyRXZlbnRzKCksCiAgICAgICAgICAgIEsuY2xlYXJFdmVudERhdGEoKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBrKCkgewogICAgICAgICAgICAhaS5sYXp5RmV0Y2hpbmcgfHwgdmUoSy52aXNTdGFydCwgSy52aXNFbmQpID8gUigpIDogVCgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIFIoKSB7CiAgICAgICAgICAgIGllKEsudmlzU3RhcnQsIEsudmlzRW5kKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB6KCkgewogICAgICAgICAgICBWLnVwZGF0ZVRpdGxlKEsudGl0bGUpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEYoKSB7CiAgICAgICAgICAgIHZhciB0ID0gbmV3IERhdGU7CiAgICAgICAgICAgIHQgPj0gSy5zdGFydCAmJiB0IDwgSy5lbmQgPyBWLmRpc2FibGVCdXR0b24oInRvZGF5IikgOiBWLmVuYWJsZUJ1dHRvbigidG9kYXkiKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBOKHMsIGUsIHQpIHsKICAgICAgICAgICAgSy5zZWxlY3QocywgZSwgdm9pZCAwID09PSB0IHx8IHQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIFcoKSB7CiAgICAgICAgICAgIEsgJiYgSy51bnNlbGVjdCgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIE8oKSB7CiAgICAgICAgICAgIHkoLTEpOwogICAgICAgICAgICB2YXIgdCA9IG0oKTsKICAgICAgICAgICAgWCgiZGF0ZUNoYW5nZWQiLCB0aGlzLCBLLm5hbWUsIEsudGl0bGUsIHRbMF0sIHRbMV0sIEsudmlzU3RhcnQsIEsudmlzRW5kKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBBKCkgewogICAgICAgICAgICB5KDEpOwogICAgICAgICAgICB2YXIgdCA9IG0oKTsKICAgICAgICAgICAgWCgiZGF0ZUNoYW5nZWQiLCB0aGlzLCBLLm5hbWUsIEsudGl0bGUsIHRbMF0sIHRbMV0sIEsudmlzU3RhcnQsIEsudmlzRW5kKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBMKCkgewogICAgICAgICAgICBzKGJlLCAtMSksCiAgICAgICAgICAgIHkoKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBfKCkgewogICAgICAgICAgICBzKGJlLCAxKSwKICAgICAgICAgICAgeSgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIFAocywgZSwgdCkgewogICAgICAgICAgICBzIGluc3RhbmNlb2YgRGF0ZSA/IGJlID0gemUocykgOiBvKGJlLCBzLCBlLCB0KSwKICAgICAgICAgICAgeSgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHEobiwgZSwgdCkgewogICAgICAgICAgICB2b2lkIDAgIT09IG4gJiYgcyhiZSwgbiksCiAgICAgICAgICAgIHZvaWQgMCAhPT0gZSAmJiB4ZShiZSwgZSksCiAgICAgICAgICAgIHZvaWQgMCAhPT0gdCAmJiBrZShiZSwgdCksCiAgICAgICAgICAgIHkoKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBZKCkgewogICAgICAgICAgICByZXR1cm4gemUoYmUpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEIoKSB7CiAgICAgICAgICAgIEcuY3NzKHsKICAgICAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IEcuaGVpZ2h0KCksCiAgICAgICAgICAgICAgICBvdmVyZmxvdzogImhpZGRlbiIKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaigpIHsKICAgICAgICAgICAgRy5jc3MoewogICAgICAgICAgICAgICAgd2lkdGg6ICIiLAogICAgICAgICAgICAgICAgaGVpZ2h0OiAiIiwKICAgICAgICAgICAgICAgIG92ZXJmbG93OiAiIgogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBJKCkgewogICAgICAgICAgICByZXR1cm4gSwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBYKGEsIGUpIHsKICAgICAgICAgICAgaWYgKGlbYV0pCiAgICAgICAgICAgICAgICByZXR1cm4gaVthXS5hcHBseShlIHx8IG1lLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKQogICAgICAgIH0KICAgICAgICB2YXIgSiA9IHRoaXM7CiAgICAgICAgSi5vcHRpb25zID0gaSwKICAgICAgICBKLnJlbmRlciA9IHIsCiAgICAgICAgSi5kZXN0cm95ID0gYywKICAgICAgICBKLnJlZmV0Y2hFdmVudHMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgeCgpLAogICAgICAgICAgICBSKCkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIEoucmVwb3J0RXZlbnRzID0gZnVuY3Rpb24odCkgewogICAgICAgICAgICBEZSA9IHQsCiAgICAgICAgICAgIFQoKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgSi5yZXBvcnRFdmVudENoYW5nZSA9IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgTSh0KQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgSi5yZXJlbmRlckV2ZW50cyA9IE0sCiAgICAgICAgSi5jaGFuZ2VWaWV3ID0gZiwKICAgICAgICBKLnNlbGVjdCA9IE4sCiAgICAgICAgSi51bnNlbGVjdCA9IFcsCiAgICAgICAgSi5wcmV2ID0gTywKICAgICAgICBKLm5leHQgPSBBLAogICAgICAgIEoucHJldlllYXIgPSBMLAogICAgICAgIEoubmV4dFllYXIgPSBfLAogICAgICAgIEoudG9kYXkgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgYmUgPSBuZXcgRGF0ZSwKICAgICAgICAgICAgeSgpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBKLmdvdG9EYXRlID0gUCwKICAgICAgICBKLmluY3JlbWVudERhdGUgPSBxLAogICAgICAgIEouZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgcmV0dXJuIHAoYSwgZSwgaSkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIEouZm9ybWF0RGF0ZXMgPSBmdW5jdGlvbihzLCBlLCB0KSB7CiAgICAgICAgICAgIHJldHVybiB1KHMsIGUsIHQsIGkpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBKLmdldERhdGUgPSBZLAogICAgICAgIEouZ2V0VmlldyA9IEksCiAgICAgICAgSi5vcHRpb24gPSBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgPyBpW2FdIDogdm9pZCAoKCJoZWlnaHQiID09IGEgfHwgImNvbnRlbnRIZWlnaHQiID09IGEgfHwgImFzcGVjdFJhdGlvIiA9PSBhKSAmJiAoaVthXSA9IGUsCiAgICAgICAgICAgIEQoKSkpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBKLnRyaWdnZXIgPSBYLAogICAgICAgIEouY2FsY3VsYXRlTW9udGhTdGFydEVuZCA9IG0sCiAgICAgICAgbi5jYWxsKEosIGksIGUpOwogICAgICAgIHZhciBWLCBVLCBHLCBaLCBLLCBRLCB1ZSwgZmUsIHZlID0gSi5pc0ZldGNoTmVlZGVkLCBpZSA9IEouZmV0Y2hFdmVudHMsIG1lID0gYVswXSwgbGUgPSAwLCB5ZSA9IDAsIGJlID0gbmV3IERhdGUsIERlID0gW10sIHdlID0ge307CiAgICAgICAgbyhiZSwgaS55ZWFyLCBpLm1vbnRoLCBpLmRhdGUpLAogICAgICAgIGkuZHJvcHBhYmxlICYmIFNlKGRvY3VtZW50KS5iaW5kKCJkcmFnc3RhcnQiLCBmdW5jdGlvbihhLCB0KSB7CiAgICAgICAgICAgIHZhciBuID0gYS50YXJnZXQKICAgICAgICAgICAgICAsIHMgPSBTZShuKTsKICAgICAgICAgICAgaWYgKCFzLnBhcmVudHMoIi5mYyIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyIHIgPSBpLmRyb3BBY2NlcHQ7CiAgICAgICAgICAgICAgICAoU2UuaXNGdW5jdGlvbihyKSA/IHIuY2FsbChuLCBzKSA6IHMuaXMocikpICYmIChmZSA9IG4sCiAgICAgICAgICAgICAgICBLLmRyYWdTdGFydChmZSwgYSwgdCkpCiAgICAgICAgICAgIH0KICAgICAgICB9KS5iaW5kKCJkcmFnc3RvcCIsIGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgZmUgJiYgKEsuZHJhZ1N0b3AoZmUsIGEsIGUpLAogICAgICAgICAgICBmZSA9IG51bGwpCiAgICAgICAgfSkKICAgIH0KICAgIGZ1bmN0aW9uIFRlKGEsIGQpIHsKICAgICAgICBmdW5jdGlvbiBzKCkgewogICAgICAgICAgICBwID0gZC50aGVtZSA/ICJ1aSIgOiAiZmMiOwogICAgICAgICAgICB2YXIgZSA9IGQuaGVhZGVyOwogICAgICAgICAgICBpZiAoZSkKICAgICAgICAgICAgICAgIHJldHVybiB1ID0gU2UoIjx0YWJsZSBjbGFzcz0nZmMtaGVhZGVyJyBzdHlsZT0nd2lkdGg6MTAwJScvPiIpLmFwcGVuZChTZSgiPHRyLz4iKS5hcHBlbmQocigibGVmdCIpKS5hcHBlbmQocigiY2VudGVyIikpLmFwcGVuZChyKCJyaWdodCIpKSksCiAgICAgICAgICAgICAgICB1CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgICAgIHUucmVtb3ZlKCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcih0KSB7CiAgICAgICAgICAgIHZhciBzID0gU2UoIjx0ZCBjbGFzcz0nZmMtaGVhZGVyLSIgKyB0ICsgIicvPiIpCiAgICAgICAgICAgICAgLCBuID0gZC5oZWFkZXJbdF07CiAgICAgICAgICAgIHJldHVybiBuICYmIFNlLmVhY2gobi5zcGxpdCgiICIpLCBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICAwIDwgdCAmJiBzLmFwcGVuZCgiPHNwYW4gY2xhc3M9J2ZjLWhlYWRlci1zcGFjZScvPiIpOwogICAgICAgICAgICAgICAgdmFyIG47CiAgICAgICAgICAgICAgICBTZS5lYWNoKHRoaXMuc3BsaXQoIiwiKSwgZnVuY3Rpb24odCwgZSkgewogICAgICAgICAgICAgICAgICAgIGlmICgidGl0bGUiID09IGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHMuYXBwZW5kKCI8c3BhbiBjbGFzcz0nZmMtaGVhZGVyLXRpdGxlJz48aDI+Jm5ic3A7PC9oMj48L3NwYW4+IiksCiAgICAgICAgICAgICAgICAgICAgICAgIG4gJiYgbi5hZGRDbGFzcyhwICsgIi1jb3JuZXItcmlnaHQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVtlXSA/IHIgPSBhW2VdIDogb2VbZV0gJiYgKHIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMucmVtb3ZlQ2xhc3MocCArICItc3RhdGUtaG92ZXIiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuY2hhbmdlVmlldyhlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgIHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZC50aGVtZSA/IE4oZC5idXR0b25JY29ucywgZSkgOiBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IE4oZC5idXR0b25UZXh0LCBlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGMgPSBTZSgiPHNwYW4gY2xhc3M9J2ZjLWJ1dHRvbiBmYy1idXR0b24tIiArIGUgKyAiICIgKyBwICsgIi1zdGF0ZS1kZWZhdWx0Jz4iICsgKG8gPyAiPHNwYW4gY2xhc3M9J2ZjLWljb24td3JhcCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi0iICsgbyArICInLz48L3NwYW4+IiA6IGkpICsgIjwvc3Bhbj4iKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmhhc0NsYXNzKHAgKyAiLXN0YXRlLWRpc2FibGVkIikgfHwgcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tb3VzZWRvd24oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5ub3QoIi4iICsgcCArICItc3RhdGUtYWN0aXZlIikubm90KCIuIiArIHAgKyAiLXN0YXRlLWRpc2FibGVkIikuYWRkQ2xhc3MocCArICItc3RhdGUtZG93biIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5tb3VzZXVwKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMucmVtb3ZlQ2xhc3MocCArICItc3RhdGUtZG93biIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5ob3ZlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLm5vdCgiLiIgKyBwICsgIi1zdGF0ZS1hY3RpdmUiKS5ub3QoIi4iICsgcCArICItc3RhdGUtZGlzYWJsZWQiKS5hZGRDbGFzcyhwICsgIi1zdGF0ZS1ob3ZlciIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnJlbW92ZUNsYXNzKHAgKyAiLXN0YXRlLWhvdmVyIikucmVtb3ZlQ2xhc3MocCArICItc3RhdGUtZG93biIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hcHBlbmRUbyhzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGooYyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuIHx8IGMuYWRkQ2xhc3MocCArICItY29ybmVyLWxlZnQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBjCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIG4gJiYgbi5hZGRDbGFzcyhwICsgIi1jb3JuZXItcmlnaHQiKQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgcwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBvKGUpIHsKICAgICAgICAgICAgdS5maW5kKCJoMiIpLmh0bWwoZSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbChlKSB7CiAgICAgICAgICAgIHUuZmluZCgic3Bhbi5mYy1idXR0b24tIiArIGUpLmFkZENsYXNzKHAgKyAiLXN0YXRlLWFjdGl2ZSIpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGkoZSkgewogICAgICAgICAgICB1LmZpbmQoInNwYW4uZmMtYnV0dG9uLSIgKyBlKS5yZW1vdmVDbGFzcyhwICsgIi1zdGF0ZS1hY3RpdmUiKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjKGUpIHsKICAgICAgICAgICAgdS5maW5kKCJzcGFuLmZjLWJ1dHRvbi0iICsgZSkuYWRkQ2xhc3MocCArICItc3RhdGUtZGlzYWJsZWQiKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKGUpIHsKICAgICAgICAgICAgdS5maW5kKCJzcGFuLmZjLWJ1dHRvbi0iICsgZSkucmVtb3ZlQ2xhc3MocCArICItc3RhdGUtZGlzYWJsZWQiKQogICAgICAgIH0KICAgICAgICB2YXIgaCA9IHRoaXM7CiAgICAgICAgaC5yZW5kZXIgPSBzLAogICAgICAgIGguZGVzdHJveSA9IG4sCiAgICAgICAgaC51cGRhdGVUaXRsZSA9IG8sCiAgICAgICAgaC5hY3RpdmF0ZUJ1dHRvbiA9IGwsCiAgICAgICAgaC5kZWFjdGl2YXRlQnV0dG9uID0gaSwKICAgICAgICBoLmRpc2FibGVCdXR0b24gPSBjLAogICAgICAgIGguZW5hYmxlQnV0dG9uID0gZzsKICAgICAgICB2YXIgcCwgdSA9IFNlKFtdKQogICAgfQogICAgZnVuY3Rpb24gbihpLCBlKSB7CiAgICAgICAgZnVuY3Rpb24gYSh0LCBlKSB7CiAgICAgICAgICAgIHJldHVybiAhQyB8fCB0IDwgQyB8fCBlID4gRQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzKHQsIGUpIHsKICAgICAgICAgICAgQyA9IHQsCiAgICAgICAgICAgIEUgPSBlLAogICAgICAgICAgICBCID0gW107CiAgICAgICAgICAgIHZhciBhID0gKytQCiAgICAgICAgICAgICAgLCBuID0gSC5sZW5ndGg7CiAgICAgICAgICAgIHEgPSBuOwogICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG47IHMrKykKICAgICAgICAgICAgICAgIGgoSFtzXSwgYSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaChlLCB0KSB7CiAgICAgICAgICAgIHYoZSwgZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgaWYgKHQgPT0gUCkgewogICAgICAgICAgICAgICAgICAgIGlmIChhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGkuZXZlbnREYXRhVHJhbnNmb3JtICYmIChhID0gU2UubWFwKGEsIGkuZXZlbnREYXRhVHJhbnNmb3JtKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGUuZXZlbnREYXRhVHJhbnNmb3JtICYmIChhID0gU2UubWFwKGEsIGUuZXZlbnREYXRhVHJhbnNmb3JtKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYS5sZW5ndGg7IG4rKykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0uc291cmNlID0gZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oYVtuXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEIgPSBCLmNvbmNhdChhKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBxLS0sCiAgICAgICAgICAgICAgICAgICAgcSB8fCB4KEIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHYoZSwgYSkgewogICAgICAgICAgICB2YXIgdCwgcywgbiA9IHJlLnNvdXJjZUZldGNoZXJzOwogICAgICAgICAgICBmb3IgKHQgPSAwOyB0IDwgbi5sZW5ndGg7IHQrKykgewogICAgICAgICAgICAgICAgaWYgKHMgPSBuW3RdKGUsIEMsIEUsIGEpLAogICAgICAgICAgICAgICAgITAgPT09IHMpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKCJvYmplY3QiID09IHR5cGVvZiBzKQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIHYocywgYSkKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbCA9IGUuZXZlbnRzOwogICAgICAgICAgICBpZiAobCkKICAgICAgICAgICAgICAgIFNlLmlzRnVuY3Rpb24obCkgPyAoXygpLAogICAgICAgICAgICAgICAgbCh6ZShDKSwgemUoRSksIGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgICAgICAgICBhKHQpLAogICAgICAgICAgICAgICAgICAgIGYoKQogICAgICAgICAgICAgICAgfSkpIDogU2UuaXNBcnJheShsKSA/IGEobCkgOiBhKCk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdmFyIGMgPSBlLnVybDsKICAgICAgICAgICAgICAgIGlmIChjKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGcsIGggPSBlLnN1Y2Nlc3MsIHUgPSBlLmVycm9yLCB5ID0gZS5jb21wbGV0ZTsKICAgICAgICAgICAgICAgICAgICBnID0gU2UuaXNGdW5jdGlvbihlLmRhdGEpID8gZS5kYXRhKCkgOiBlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBTZS5leHRlbmQoe30sIGcgfHwge30pCiAgICAgICAgICAgICAgICAgICAgICAsIG0gPSBMKGUuc3RhcnRQYXJhbSwgaS5zdGFydFBhcmFtKQogICAgICAgICAgICAgICAgICAgICAgLCB3ID0gTChlLmVuZFBhcmFtLCBpLmVuZFBhcmFtKTsKICAgICAgICAgICAgICAgICAgICBtICYmIChiW21dID0gTWF0aC5yb3VuZCgrQyAvIDFlMykpLAogICAgICAgICAgICAgICAgICAgIHcgJiYgKGJbd10gPSBNYXRoLnJvdW5kKCtFIC8gMWUzKSksCiAgICAgICAgICAgICAgICAgICAgXygpLAogICAgICAgICAgICAgICAgICAgIFNlLmFqYXgoU2UuZXh0ZW5kKHt9LCBkLCBlLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBBKGgsIHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZS5pc0FycmF5KG4pICYmIChzID0gbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhKHMpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEodSwgdGhpcywgYXJndW1lbnRzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEoKQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBKHksIHRoaXMsIGFyZ3VtZW50cyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAgICAgICAgYSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbih0KSB7CiAgICAgICAgICAgIHQgPSByKHQpLAogICAgICAgICAgICB0ICYmIChxKyssCiAgICAgICAgICAgIGgodCwgUCkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHIodCkgewogICAgICAgICAgICBpZiAoU2UuaXNGdW5jdGlvbih0KSB8fCBTZS5pc0FycmF5KHQpID8gdCA9IHsKICAgICAgICAgICAgICAgIGV2ZW50czogdAogICAgICAgICAgICB9IDogInN0cmluZyIgPT0gdHlwZW9mIHQgJiYgKHQgPSB7CiAgICAgICAgICAgICAgICB1cmw6IHQKICAgICAgICAgICAgfSksCiAgICAgICAgICAgICJvYmplY3QiID09IHR5cGVvZiB0KQogICAgICAgICAgICAgICAgcmV0dXJuIHkodCksCiAgICAgICAgICAgICAgICBILnB1c2godCksCiAgICAgICAgICAgICAgICB0CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG8ocykgewogICAgICAgICAgICBIID0gU2UuZ3JlcChILCBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIWIodCwgcykKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIEIgPSBTZS5ncmVwKEIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAhYihlLnNvdXJjZSwgcykKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHgoQikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gYyhlKSB7CiAgICAgICAgICAgIHZhciB0LCBpLCBkID0gQi5sZW5ndGgsIHMgPSBUKCkuZGVmYXVsdEV2ZW50RW5kLCByID0gZS5zdGFydCAtIGUuX3N0YXJ0LCBvID0gZS5lbmQgPyBlLmVuZCAtIChlLl9lbmQgfHwgcyhlKSkgOiAwOwogICAgICAgICAgICBmb3IgKHQgPSAwOyB0IDwgZDsgdCsrKQogICAgICAgICAgICAgICAgaSA9IEJbdF0sCiAgICAgICAgICAgICAgICBpLl9pZCA9PSBlLl9pZCAmJiBpICE9IGUgJiYgKGkuc3RhcnQgPSBuZXcgRGF0ZSgraS5zdGFydCArIHIpLAogICAgICAgICAgICAgICAgaS5lbmQgPSBlLmVuZCA/IGkuZW5kID8gbmV3IERhdGUoK2kuZW5kICsgbykgOiBuZXcgRGF0ZSgrcyhpKSArIG8pIDogbnVsbCwKICAgICAgICAgICAgICAgIGkudGl0bGUgPSBlLnRpdGxlLAogICAgICAgICAgICAgICAgaS51cmwgPSBlLnVybCwKICAgICAgICAgICAgICAgIGkuYWxsRGF5ID0gZS5hbGxEYXksCiAgICAgICAgICAgICAgICBpLmNsYXNzTmFtZSA9IGUuY2xhc3NOYW1lLAogICAgICAgICAgICAgICAgaS5lZGl0YWJsZSA9IGUuZWRpdGFibGUsCiAgICAgICAgICAgICAgICBpLmNvbG9yID0gZS5jb2xvciwKICAgICAgICAgICAgICAgIGkuYmFja2dyb3VuZENvbG9yID0gZS5iYWNrZ3JvdW5kQ29sb3IsCiAgICAgICAgICAgICAgICBpLmJvcmRlckNvbG9yID0gZS5ib3JkZXJDb2xvciwKICAgICAgICAgICAgICAgIGkudGV4dENvbG9yID0gZS50ZXh0Q29sb3IsCiAgICAgICAgICAgICAgICBtKGkpKTsKICAgICAgICAgICAgbShlKSwKICAgICAgICAgICAgeChCKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKGEsIGUpIHsKICAgICAgICAgICAgbShhKSwKICAgICAgICAgICAgYS5zb3VyY2UgfHwgKGUgJiYgKGsuZXZlbnRzLnB1c2goYSksCiAgICAgICAgICAgIGEuc291cmNlID0gayksCiAgICAgICAgICAgIEIucHVzaChhKSksCiAgICAgICAgICAgIHgoQikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcChhKSB7CiAgICAgICAgICAgIGlmICghYSkgewogICAgICAgICAgICAgICAgQiA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBILmxlbmd0aDsgcysrKQogICAgICAgICAgICAgICAgICAgIFNlLmlzQXJyYXkoSFtzXS5ldmVudHMpICYmIChIW3NdLmV2ZW50cyA9IFtdKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCFTZS5pc0Z1bmN0aW9uKGEpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBhICsgIiI7CiAgICAgICAgICAgICAgICAgICAgYSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuX2lkID09IHIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBCID0gU2UuZ3JlcChCLCBhLCAhMCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IEgubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICAgICAgU2UuaXNBcnJheShIW3NdLmV2ZW50cykgJiYgKEhbc10uZXZlbnRzID0gU2UuZ3JlcChIW3NdLmV2ZW50cywgYSwgITApKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHgoQikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdShlKSB7CiAgICAgICAgICAgIHJldHVybiBTZS5pc0Z1bmN0aW9uKGUpID8gU2UuZ3JlcChCLCBlKSA6IGUgPyAoZSArPSAiIiwKICAgICAgICAgICAgU2UuZ3JlcChCLCBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdC5faWQgPT0gZQogICAgICAgICAgICB9KSkgOiBCCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIF8oKSB7CiAgICAgICAgICAgIFkrKyB8fCBTKCJsb2FkaW5nIiwgbnVsbCwgITAsIFQoKSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZigpIHsKICAgICAgICAgICAgLS1ZIHx8IFMoImxvYWRpbmciLCBudWxsLCAhMSwgVCgpKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtKGUpIHsKICAgICAgICAgICAgdmFyIHQgPSBlLnNvdXJjZSB8fCB7fQogICAgICAgICAgICAgICwgYSA9IEwodC5pZ25vcmVUaW1lem9uZSwgaS5pZ25vcmVUaW1lem9uZSk7CiAgICAgICAgICAgIGUuX2lkID0gZS5faWQgfHwgKHZvaWQgMCA9PT0gZS5pZCA/ICJfZmMiICsgbGUrKyA6IGUuaWQgKyAiIiksCiAgICAgICAgICAgIGUuZGF0ZSAmJiAoIWUuc3RhcnQgJiYgKGUuc3RhcnQgPSBlLmRhdGUpLAogICAgICAgICAgICBkZWxldGUgZS5kYXRlKSwKICAgICAgICAgICAgZS5fc3RhcnQgPSB6ZShlLnN0YXJ0ID0gbChlLnN0YXJ0LCBhKSksCiAgICAgICAgICAgIGUuZW5kID0gbChlLmVuZCwgYSksCiAgICAgICAgICAgIGUuZW5kICYmIGUuZW5kIDw9IGUuc3RhcnQgJiYgKGUuZW5kID0gbnVsbCksCiAgICAgICAgICAgIGUuX2VuZCA9IGUuZW5kID8gemUoZS5lbmQpIDogbnVsbCwKICAgICAgICAgICAgdm9pZCAwID09PSBlLmFsbERheSAmJiAoZS5hbGxEYXkgPSBMKHQuYWxsRGF5RGVmYXVsdCwgaS5hbGxEYXlEZWZhdWx0KSksCiAgICAgICAgICAgIGUuY2xhc3NOYW1lID8gInN0cmluZyIgPT0gdHlwZW9mIGUuY2xhc3NOYW1lICYmIChlLmNsYXNzTmFtZSA9IGUuY2xhc3NOYW1lLnNwbGl0KC9ccysvKSkgOiBlLmNsYXNzTmFtZSA9IFtdCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHkocykgewogICAgICAgICAgICBzLmNsYXNzTmFtZSA/ICJzdHJpbmciID09IHR5cGVvZiBzLmNsYXNzTmFtZSAmJiAocy5jbGFzc05hbWUgPSBzLmNsYXNzTmFtZS5zcGxpdCgvXHMrLykpIDogcy5jbGFzc05hbWUgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgZSA9IHJlLnNvdXJjZU5vcm1hbGl6ZXJzLCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspCiAgICAgICAgICAgICAgICBlW3RdKHMpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGIoYSwgZSkgewogICAgICAgICAgICByZXR1cm4gYSAmJiBlICYmIEQoYSkgPT0gRChlKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBEKHQpIHsKICAgICAgICAgICAgcmV0dXJuICgib2JqZWN0IiA9PSB0eXBlb2YgdCA/IHQuZXZlbnRzIHx8IHQudXJsIDogIiIpIHx8IHQKICAgICAgICB9CiAgICAgICAgdmFyIHcgPSB0aGlzOwogICAgICAgIHcuaXNGZXRjaE5lZWRlZCA9IGEsCiAgICAgICAgdy5mZXRjaEV2ZW50cyA9IHMsCiAgICAgICAgdy5hZGRFdmVudFNvdXJjZSA9IG4sCiAgICAgICAgdy5yZW1vdmVFdmVudFNvdXJjZSA9IG8sCiAgICAgICAgdy51cGRhdGVFdmVudCA9IGMsCiAgICAgICAgdy5yZW5kZXJFdmVudCA9IGcsCiAgICAgICAgdy5yZW1vdmVFdmVudHMgPSBwLAogICAgICAgIHcuY2xpZW50RXZlbnRzID0gdSwKICAgICAgICB3Lm5vcm1hbGl6ZUV2ZW50ID0gbTsKICAgICAgICBmb3IgKHZhciBDLCBFLCBTID0gdy50cmlnZ2VyLCBUID0gdy5nZXRWaWV3LCB4ID0gdy5yZXBvcnRFdmVudHMsIGsgPSB7CiAgICAgICAgICAgIGV2ZW50czogW10KICAgICAgICB9LCBIID0gW2tdLCBQID0gMCwgcSA9IDAsIFkgPSAwLCBCID0gW10sIGogPSAwOyBqIDwgZS5sZW5ndGg7IGorKykKICAgICAgICAgICAgcihlW2pdKQogICAgfQogICAgZnVuY3Rpb24gcyhzLCBlLCB0KSB7CiAgICAgICAgcmV0dXJuIHMuc2V0RnVsbFllYXIocy5nZXRGdWxsWWVhcigpICsgZSksCiAgICAgICAgdCB8fCBjKHMpLAogICAgICAgIHMKICAgIH0KICAgIGZ1bmN0aW9uIHhlKHIsIGUsIHQpIHsKICAgICAgICBpZiAoK3IpIHsKICAgICAgICAgICAgdmFyIGEgPSByLmdldE1vbnRoKCkgKyBlCiAgICAgICAgICAgICAgLCBuID0gemUocik7CiAgICAgICAgICAgIGZvciAobi5zZXREYXRlKDEpLAogICAgICAgICAgICBuLnNldE1vbnRoKGEpLAogICAgICAgICAgICByLnNldE1vbnRoKGEpLAogICAgICAgICAgICB0IHx8IGMocik7IHIuZ2V0TW9udGgoKSAhPSBuLmdldE1vbnRoKCk7ICkKICAgICAgICAgICAgICAgIHIuc2V0RGF0ZShyLmdldERhdGUoKSArIChyIDwgbiA/IDEgOiAtMSkpCiAgICAgICAgfQogICAgICAgIHJldHVybiByCiAgICB9CiAgICBmdW5jdGlvbiBrZShvLCBlLCB0KSB7CiAgICAgICAgaWYgKCtvKSB7CiAgICAgICAgICAgIHZhciBhID0gby5nZXREYXRlKCkgKyBlCiAgICAgICAgICAgICAgLCBuID0gemUobyk7CiAgICAgICAgICAgIG4uc2V0SG91cnMoOSksCiAgICAgICAgICAgIG4uc2V0RGF0ZShhKSwKICAgICAgICAgICAgby5zZXREYXRlKGEpLAogICAgICAgICAgICB0IHx8IGMobyksCiAgICAgICAgICAgIHIobywgbikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG8KICAgIH0KICAgIGZ1bmN0aW9uIHIoYSwgZSkgewogICAgICAgIGlmICgrYSkKICAgICAgICAgICAgZm9yICg7IGEuZ2V0RGF0ZSgpICE9IGUuZ2V0RGF0ZSgpOyApCiAgICAgICAgICAgICAgICBhLnNldFRpbWUoK2EgKyAzNmU1ICogKGEgPCBlID8gMSA6IC0xKSkKICAgIH0KICAgIGZ1bmN0aW9uIEhlKGEsIGUpIHsKICAgICAgICByZXR1cm4gYS5zZXRNaW51dGVzKGEuZ2V0TWludXRlcygpICsgZSksCiAgICAgICAgYQogICAgfQogICAgZnVuY3Rpb24gYyh0KSB7CiAgICAgICAgcmV0dXJuIHQuc2V0SG91cnMoMCksCiAgICAgICAgdC5zZXRNaW51dGVzKDApLAogICAgICAgIHQuc2V0U2Vjb25kcygwKSwKICAgICAgICB0LnNldE1pbGxpc2Vjb25kcygwKSwKICAgICAgICB0CiAgICB9CiAgICBmdW5jdGlvbiB6ZShhLCBlKSB7CiAgICAgICAgcmV0dXJuIGUgPyBjKG5ldyBEYXRlKCthKSkgOiBuZXcgRGF0ZSgrYSkKICAgIH0KICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgdmFyIGEsIHMgPSAwOwogICAgICAgIGRvCiAgICAgICAgICAgIGEgPSBuZXcgRGF0ZSgxOTcwLHMrKywxKTsKICAgICAgICB3aGlsZSAoYS5nZXRIb3VycygpKTtyZXR1cm4gYQogICAgfQogICAgZnVuY3Rpb24gaChhLCBlKSB7CiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHplKGEsICEwKSAtIHplKGUsICEwKSkgLyA4NjRlNSkKICAgIH0KICAgIGZ1bmN0aW9uIG8ocywgZSwgdCwgYSkgewogICAgICAgIHZvaWQgMCAhPT0gZSAmJiBlICE9IHMuZ2V0RnVsbFllYXIoKSAmJiAocy5zZXREYXRlKDEpLAogICAgICAgIHMuc2V0TW9udGgoMCksCiAgICAgICAgcy5zZXRGdWxsWWVhcihlKSksCiAgICAgICAgdm9pZCAwICE9PSB0ICYmIHQgIT0gcy5nZXRNb250aCgpICYmIChzLnNldERhdGUoMSksCiAgICAgICAgcy5zZXRNb250aCh0KSksCiAgICAgICAgdm9pZCAwICE9PSBhICYmIHMuc2V0RGF0ZShhKQogICAgfQogICAgZnVuY3Rpb24gbChhLCBlKSB7CiAgICAgICAgcmV0dXJuICJvYmplY3QiID09IHR5cGVvZiBhID8gYSA6ICJudW1iZXIiID09IHR5cGVvZiBhID8gbmV3IERhdGUoMWUzICogYSkgOiAic3RyaW5nIiA9PSB0eXBlb2YgYSA/IGEubWF0Y2goL15cZCsoXC5cZCspPyQvKSA/IG5ldyBEYXRlKDFlMyAqIHBhcnNlRmxvYXQoYSkpIDogKHZvaWQgMCA9PT0gZSAmJiAoZSA9ICEwKSwKICAgICAgICBnKGEsIGUpIHx8IChhID8gbmV3IERhdGUoYSkgOiBudWxsKSkgOiBudWxsCiAgICB9CiAgICBmdW5jdGlvbiBnKG8sIGUpIHsKICAgICAgICB2YXIgdCA9IG8ubWF0Y2goL14oWzAtOV17NH0pKC0oWzAtOV17Mn0pKC0oWzAtOV17Mn0pKFtUIF0oWzAtOV17Mn0pOihbMC05XXsyfSkoOihbMC05XXsyfSkoXC4oWzAtOV0rKSk/KT8oWnwoKFstK10pKFswLTldezJ9KSg6PyhbMC05XXsyfSkpPykpPyk/KT8pPyQvKTsKICAgICAgICBpZiAoIXQpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIHZhciBhID0gbmV3IERhdGUodFsxXSwwLDEpOwogICAgICAgIGlmIChlIHx8ICF0WzEzXSkgewogICAgICAgICAgICB2YXIgbCA9IG5ldyBEYXRlKHRbMV0sMCwxLDksMCk7CiAgICAgICAgICAgIHRbM10gJiYgKGEuc2V0TW9udGgodFszXSAtIDEpLAogICAgICAgICAgICBsLnNldE1vbnRoKHRbM10gLSAxKSksCiAgICAgICAgICAgIHRbNV0gJiYgKGEuc2V0RGF0ZSh0WzVdKSwKICAgICAgICAgICAgbC5zZXREYXRlKHRbNV0pKSwKICAgICAgICAgICAgcihhLCBsKSwKICAgICAgICAgICAgdFs3XSAmJiBhLnNldEhvdXJzKHRbN10pLAogICAgICAgICAgICB0WzhdICYmIGEuc2V0TWludXRlcyh0WzhdKSwKICAgICAgICAgICAgdFsxMF0gJiYgYS5zZXRTZWNvbmRzKHRbMTBdKSwKICAgICAgICAgICAgdFsxMl0gJiYgYS5zZXRNaWxsaXNlY29uZHMoMWUzICogKygiMC4iICsgdFsxMl0pKSwKICAgICAgICAgICAgcihhLCBsKQogICAgICAgIH0gZWxzZSBpZiAoYS5zZXRVVENGdWxsWWVhcih0WzFdLCB0WzNdID8gdFszXSAtIDEgOiAwLCB0WzVdIHx8IDEpLAogICAgICAgIGEuc2V0VVRDSG91cnModFs3XSB8fCAwLCB0WzhdIHx8IDAsIHRbMTBdIHx8IDAsIHRbMTJdID8gMWUzICogKygiMC4iICsgdFsxMl0pIDogMCksCiAgICAgICAgdFsxNF0pIHsKICAgICAgICAgICAgdmFyIHMgPSA2MCAqICt0WzE2XSArICh0WzE4XSA/ICt0WzE4XSA6IDApOwogICAgICAgICAgICBzICo9ICItIiA9PSB0WzE1XSA/IDEgOiAtMSwKICAgICAgICAgICAgYSA9IG5ldyBEYXRlKCthICsgMWUzICogKDYwICogcykpCiAgICAgICAgfQogICAgICAgIHJldHVybiBhCiAgICB9CiAgICBmdW5jdGlvbiBlKHMpIHsKICAgICAgICBpZiAoIm51bWJlciIgPT0gdHlwZW9mIHMpCiAgICAgICAgICAgIHJldHVybiA2MCAqIHM7CiAgICAgICAgaWYgKCJvYmplY3QiID09IHR5cGVvZiBzKQogICAgICAgICAgICByZXR1cm4gNjAgKiBzLmdldEhvdXJzKCkgKyBzLmdldE1pbnV0ZXMoKTsKICAgICAgICB2YXIgZSA9IHMubWF0Y2goLyhcZCspKD86OihcZCspKT9ccyooXHcrKT8vKTsKICAgICAgICBpZiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IHBhcnNlSW50KGVbMV0sIDEwKTsKICAgICAgICAgICAgcmV0dXJuIGVbM10gJiYgKHQgJT0gMTIsCiAgICAgICAgICAgICJwIiA9PSBlWzNdLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApICYmICh0ICs9IDEyKSksCiAgICAgICAgICAgIDYwICogdCArIChlWzJdID8gcGFyc2VJbnQoZVsyXSwgMTApIDogMCkKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBwKHMsIGUsIHQpIHsKICAgICAgICByZXR1cm4gdShzLCBudWxsLCBlLCB0KQogICAgfQogICAgZnVuY3Rpb24gdShpLCBlLCB0LCBhKSB7CiAgICAgICAgYSA9IGEgfHwgc2U7CiAgICAgICAgdmFyIGMsIHYsIG0sIHksIGIgPSBpLCBEID0gZSwgdyA9IHQubGVuZ3RoLCBoID0gIiI7CiAgICAgICAgZm9yIChjID0gMDsgYyA8IHc7IGMrKykKICAgICAgICAgICAgaWYgKHYgPSB0LmNoYXJBdChjKSwKICAgICAgICAgICAgIiciID09IHYpIHsKICAgICAgICAgICAgICAgIGZvciAobSA9IGMgKyAxOyBtIDwgdzsgbSsrKQogICAgICAgICAgICAgICAgICAgIGlmICgiJyIgPT0gdC5jaGFyQXQobSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYiAmJiAoaCArPSBtID09IGMgKyAxID8gIiciIDogdC5zdWJzdHJpbmcoYyArIDEsIG0pLAogICAgICAgICAgICAgICAgICAgICAgICBjID0gbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKCIoIiA9PSB2KSB7CiAgICAgICAgICAgICAgICBmb3IgKG0gPSBjICsgMTsgbSA8IHc7IG0rKykKICAgICAgICAgICAgICAgICAgICBpZiAoIikiID09IHQuY2hhckF0KG0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBDID0gcChiLCB0LnN1YnN0cmluZyhjICsgMSwgbSksIGEpOwogICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChDLnJlcGxhY2UoL1xELywgIiIpLCAxMCkgJiYgKGggKz0gQyksCiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICgiWyIgPT0gdikgewogICAgICAgICAgICAgICAgZm9yIChtID0gYyArIDE7IG0gPCB3OyBtKyspCiAgICAgICAgICAgICAgICAgICAgaWYgKCJdIiA9PSB0LmNoYXJBdChtKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IHQuc3Vic3RyaW5nKGMgKyAxLCBtKQogICAgICAgICAgICAgICAgICAgICAgICAgICwgQyA9IHAoYiwgRSwgYSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEMgIT0gcChELCBFLCBhKSAmJiAoaCArPSBDKSwKICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKCJ7IiA9PSB2KQogICAgICAgICAgICAgICAgYiA9IGUsCiAgICAgICAgICAgICAgICBEID0gaTsKICAgICAgICAgICAgZWxzZSBpZiAoIn0iID09IHYpCiAgICAgICAgICAgICAgICBiID0gaSwKICAgICAgICAgICAgICAgIEQgPSBlOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGZvciAobSA9IHc7IG0gPiBjOyBtLS0pCiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPSBjZVt0LnN1YnN0cmluZyhjLCBtKV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYiAmJiAoaCArPSB5KGIsIGEpKSwKICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG0gLSAxOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG0gPT0gYyAmJiBiICYmIChoICs9IHYpCiAgICAgICAgICAgIH0KICAgICAgICByZXR1cm4gaAogICAgfQogICAgZnVuY3Rpb24gdChzKSB7CiAgICAgICAgdmFyIGUsIG4gPSBuZXcgRGF0ZShzLmdldFRpbWUoKSk7CiAgICAgICAgcmV0dXJuIG4uc2V0RGF0ZShuLmdldERhdGUoKSArIDQgLSAobi5nZXREYXkoKSB8fCA3KSksCiAgICAgICAgZSA9IG4uZ2V0VGltZSgpLAogICAgICAgIG4uc2V0TW9udGgoMCksCiAgICAgICAgbi5zZXREYXRlKDEpLAogICAgICAgIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgoZSAtIG4pIC8gODY0ZTUpIC8gNykgKyAxCiAgICB9CiAgICBmdW5jdGlvbiB5KHQpIHsKICAgICAgICByZXR1cm4gdC5lbmQgPyBmKHQuZW5kLCB0LmFsbERheSkgOiBrZSh6ZSh0LnN0YXJ0KSwgMSkKICAgIH0KICAgIGZ1bmN0aW9uIGYoYSwgcykgewogICAgICAgIHJldHVybiBhID0gemUoYSksCiAgICAgICAgcyB8fCBhLmdldEhvdXJzKCkgfHwgYS5nZXRNaW51dGVzKCkgPyBrZShhLCAxKSA6IGMoYSkKICAgIH0KICAgIGZ1bmN0aW9uIHYoYSwgZSwgdCkgewogICAgICAgIGEudW5iaW5kKCJtb3VzZW92ZXIiKS5tb3VzZW92ZXIoZnVuY3Rpb24oYSkgewogICAgICAgICAgICBmb3IgKHZhciBzLCBuLCBpLCBjID0gYS50YXJnZXQ7IGMgIT0gdGhpczsgKQogICAgICAgICAgICAgICAgcyA9IGMsCiAgICAgICAgICAgICAgICBjID0gYy5wYXJlbnROb2RlOwogICAgICAgICAgICB2b2lkIDAgIT09IChuID0gcy5fZmNpKSAmJiAocy5fZmNpID0gdm9pZCAwLAogICAgICAgICAgICBpID0gZVtuXSwKICAgICAgICAgICAgdChpLmV2ZW50LCBpLmVsZW1lbnQsIGkpLAogICAgICAgICAgICBTZShhLnRhcmdldCkudHJpZ2dlcihhKSksCiAgICAgICAgICAgIGEuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICB9KQogICAgfQogICAgZnVuY3Rpb24gbShlLCB0LCBhKSB7CiAgICAgICAgZm9yICh2YXIgcywgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKQogICAgICAgICAgICBzID0gU2UoZVtuXSksCiAgICAgICAgICAgIHMud2lkdGgoTWF0aC5tYXgoMCwgdCAtIEQocywgYSkpKQogICAgfQogICAgZnVuY3Rpb24gYihlLCB0LCBhKSB7CiAgICAgICAgZm9yICh2YXIgcywgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKQogICAgICAgICAgICBzID0gU2UoZVtuXSksCiAgICAgICAgICAgIHMuaGVpZ2h0KE1hdGgubWF4KDAsIHQgLSBTKHMsIGEpKSkKICAgIH0KICAgIGZ1bmN0aW9uIEQoYSwgZSkgewogICAgICAgIHJldHVybiB3KGEpICsgRShhKSArIChlID8gQyhhKSA6IDApCiAgICB9CiAgICBmdW5jdGlvbiB3KHQpIHsKICAgICAgICByZXR1cm4gKHBhcnNlRmxvYXQoU2UuY3NzKHRbMF0sICJwYWRkaW5nTGVmdCIsICEwKSkgfHwgMCkgKyAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgInBhZGRpbmdSaWdodCIsICEwKSkgfHwgMCkKICAgIH0KICAgIGZ1bmN0aW9uIEModCkgewogICAgICAgIHJldHVybiAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgIm1hcmdpbkxlZnQiLCAhMCkpIHx8IDApICsgKHBhcnNlRmxvYXQoU2UuY3NzKHRbMF0sICJtYXJnaW5SaWdodCIsICEwKSkgfHwgMCkKICAgIH0KICAgIGZ1bmN0aW9uIEUodCkgewogICAgICAgIHJldHVybiAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgImJvcmRlckxlZnRXaWR0aCIsICEwKSkgfHwgMCkgKyAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgImJvcmRlclJpZ2h0V2lkdGgiLCAhMCkpIHx8IDApCiAgICB9CiAgICBmdW5jdGlvbiBTKGEsIGUpIHsKICAgICAgICByZXR1cm4gTShhKSArIHgoYSkgKyAoZSA/IFQoYSkgOiAwKQogICAgfQogICAgZnVuY3Rpb24gTSh0KSB7CiAgICAgICAgcmV0dXJuIChwYXJzZUZsb2F0KFNlLmNzcyh0WzBdLCAicGFkZGluZ1RvcCIsICEwKSkgfHwgMCkgKyAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgInBhZGRpbmdCb3R0b20iLCAhMCkpIHx8IDApCiAgICB9CiAgICBmdW5jdGlvbiBUKHQpIHsKICAgICAgICByZXR1cm4gKHBhcnNlRmxvYXQoU2UuY3NzKHRbMF0sICJtYXJnaW5Ub3AiLCAhMCkpIHx8IDApICsgKHBhcnNlRmxvYXQoU2UuY3NzKHRbMF0sICJtYXJnaW5Cb3R0b20iLCAhMCkpIHx8IDApCiAgICB9CiAgICBmdW5jdGlvbiB4KHQpIHsKICAgICAgICByZXR1cm4gKHBhcnNlRmxvYXQoU2UuY3NzKHRbMF0sICJib3JkZXJUb3BXaWR0aCIsICEwKSkgfHwgMCkgKyAocGFyc2VGbG9hdChTZS5jc3ModFswXSwgImJvcmRlckJvdHRvbVdpZHRoIiwgITApKSB8fCAwKQogICAgfQogICAgZnVuY3Rpb24gSCgpIHt9CiAgICBmdW5jdGlvbiBrKGEsIGUpIHsKICAgICAgICByZXR1cm4gYSAtIGUKICAgIH0KICAgIGZ1bmN0aW9uIFIodCkgewogICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCB0KQogICAgfQogICAgZnVuY3Rpb24geih0KSB7CiAgICAgICAgcmV0dXJuICgxMCA+IHQgPyAiMCIgOiAiIikgKyB0CiAgICB9CiAgICBmdW5jdGlvbiBOKHIsIGUpIHsKICAgICAgICBpZiAodm9pZCAwICE9PSByW2VdKQogICAgICAgICAgICByZXR1cm4gcltlXTsKICAgICAgICBmb3IgKHZhciB0LCBvID0gZS5zcGxpdCgvKD89W0EtWl0pLyksIG4gPSBvLmxlbmd0aCAtIDE7IDAgPD0gbjsgbi0tKQogICAgICAgICAgICBpZiAodCA9IHJbb1tuXS50b0xvd2VyQ2FzZSgpXSwKICAgICAgICAgICAgdm9pZCAwICE9PSB0KQogICAgICAgICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgcmV0dXJuIHJbIiJdCiAgICB9CiAgICBmdW5jdGlvbiBGKHQpIHsKICAgICAgICByZXR1cm4gdC5yZXBsYWNlKC8mL2csICImYW1wOyIpLnJlcGxhY2UoLzwvZywgIiZsdDsiKS5yZXBsYWNlKC8+L2csICImZ3Q7IikucmVwbGFjZSgvJy9nLCAiJiMwMzk7IikucmVwbGFjZSgvIi9nLCAiJnF1b3Q7IikucmVwbGFjZSgvXG4vZywgIjxiciAvPiIpCiAgICB9CiAgICBmdW5jdGlvbiBqKHQpIHsKICAgICAgICB0LmF0dHIoInVuc2VsZWN0YWJsZSIsICJvbiIpLmNzcygiTW96VXNlclNlbGVjdCIsICJub25lIikuYmluZCgic2VsZWN0c3RhcnQudWkiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICExCiAgICAgICAgfSkKICAgIH0KICAgIGZ1bmN0aW9uIE8oZSkgewogICAgICAgIGUuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygiZmMtZmlyc3QgZmMtbGFzdCIpLmZpbHRlcigiOmZpcnN0LWNoaWxkIikuYWRkQ2xhc3MoImZjLWZpcnN0IikuZW5kKCkuZmlsdGVyKCI6bGFzdC1jaGlsZCIpLmFkZENsYXNzKCJmYy1sYXN0IikKICAgIH0KICAgIGZ1bmN0aW9uIFcoYywgZSkgewogICAgICAgIHZhciB0ID0gYy5zb3VyY2UgfHwge30KICAgICAgICAgICwgYSA9IGMuY29sb3IKICAgICAgICAgICwgbiA9IHQuY29sb3IKICAgICAgICAgICwgcyA9IGUoImV2ZW50Q29sb3IiKQogICAgICAgICAgLCByID0gYy5iYWNrZ3JvdW5kQ29sb3IgfHwgYSB8fCB0LmJhY2tncm91bmRDb2xvciB8fCBuIHx8IGUoImV2ZW50QmFja2dyb3VuZENvbG9yIikgfHwgcwogICAgICAgICAgLCBpID0gYy5ib3JkZXJDb2xvciB8fCBhIHx8IHQuYm9yZGVyQ29sb3IgfHwgbiB8fCBlKCJldmVudEJvcmRlckNvbG9yIikgfHwgcwogICAgICAgICAgLCBvID0gYy50ZXh0Q29sb3IgfHwgdC50ZXh0Q29sb3IgfHwgZSgiZXZlbnRUZXh0Q29sb3IiKQogICAgICAgICAgLCBsID0gW107CiAgICAgICAgcmV0dXJuIHIgJiYgbC5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiIgKyByKSwKICAgICAgICBpICYmIGwucHVzaCgiYm9yZGVyLWNvbG9yOiIgKyBpKSwKICAgICAgICBvICYmIGwucHVzaCgiY29sb3I6IiArIG8pLAogICAgICAgIGwuam9pbigiOyIpCiAgICB9CiAgICBmdW5jdGlvbiBBKGEsIG8sIHQpIHsKICAgICAgICBpZiAoU2UuaXNGdW5jdGlvbihhKSAmJiAoYSA9IFthXSksCiAgICAgICAgYSkgewogICAgICAgICAgICB2YXIgbiwgbDsKICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGEubGVuZ3RoOyBuKyspCiAgICAgICAgICAgICAgICBsID0gYVtuXS5hcHBseShvLCB0KSB8fCBsOwogICAgICAgICAgICByZXR1cm4gbAogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIEwoKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspCiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGFyZ3VtZW50c1t0XSkKICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbdF0KICAgIH0KICAgIGZ1bmN0aW9uIF8obywgZSwgYSkgewogICAgICAgIGZ1bmN0aW9uIHMocywgZSwgdCkgewogICAgICAgICAgICBPZSA9IHMsCiAgICAgICAgICAgIEFlID0gZSwKICAgICAgICAgICAgTGUgPSB0LAogICAgICAgICAgICBuKCksCiAgICAgICAgICAgIEogfHwgcigpLAogICAgICAgICAgICBsKCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbigpIHsKICAgICAgICAgICAgQmUgPSBWZSgidGhlbWUiKSA/ICJ1aSIgOiAiZmMiLAogICAgICAgICAgICBqZSA9IFZlKCJjb2x1bW5Gb3JtYXQiKSwKICAgICAgICAgICAgSWUgPSBWZSgid2Vla051bWJlcnMiKSwKICAgICAgICAgICAgWGUgPSBWZSgid2Vla051bWJlclRpdGxlIiksCiAgICAgICAgICAgIEplID0gImlzbyIgPT0gVmUoIndlZWtOdW1iZXJDYWxjdWxhdGlvbiIpID8gIlciIDogInciCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgICAgICAgIEhlID0gU2UoIjxkaXYgY2xhc3M9J2ZjLWV2ZW50LWNvbnRhaW5lcicgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6ODt0b3A6MDtsZWZ0OjAnLz4iKS5hcHBlbmRUbyhvKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKCkgewogICAgICAgICAgICB2YXIgZSA9IGkoKTsKICAgICAgICAgICAgeiAmJiB6LnJlbW92ZSgpLAogICAgICAgICAgICB6ID0gU2UoZSkuYXBwZW5kVG8obyksCiAgICAgICAgICAgIE4gPSB6LmZpbmQoInRoZWFkIiksCiAgICAgICAgICAgIHEgPSBOLmZpbmQoIi5mYy1kYXktaGVhZGVyIiksCiAgICAgICAgICAgIEogPSB6LmZpbmQoInRib2R5IiksCiAgICAgICAgICAgIHZlID0gSi5maW5kKCJ0ciIpLAogICAgICAgICAgICBDZSA9IEouZmluZCgiLmZjLWRheSIpLAogICAgICAgICAgICBNZSA9IHZlLmZpbmQoInRkOmZpcnN0LWNoaWxkIiksCiAgICAgICAgICAgIFRlID0gdmUuZXEoMCkuZmluZCgiLmZjLWRheSA+IGRpdiIpLAogICAgICAgICAgICB4ZSA9IHZlLmVxKDApLmZpbmQoIi5mYy1kYXktY29udGVudCA+IGRpdiIpLAogICAgICAgICAgICBPKE4uYWRkKE4uZmluZCgidHIiKSkpLAogICAgICAgICAgICBPKHZlKSwKICAgICAgICAgICAgdmUuZXEoMCkuYWRkQ2xhc3MoImZjLWZpcnN0IiksCiAgICAgICAgICAgIHZlLmZpbHRlcigiOmxhc3QiKS5hZGRDbGFzcygiZmMtbGFzdCIpLAogICAgICAgICAgICBDZS5lYWNoKGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgICAgIHZhciB0ID0gYmUoTWF0aC5mbG9vcihhIC8gQWUpLCBhICUgQWUpOwogICAgICAgICAgICAgICAgY2UoImRheVJlbmRlciIsIFIsIHQsIFNlKGUpKQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgdihDZSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaSgpIHsKICAgICAgICAgICAgdmFyIHQgPSAiPHRhYmxlIGNsYXNzPSdmYy1ib3JkZXItc2VwYXJhdGUnIHN0eWxlPSd3aWR0aDoxMDAlJyBjZWxsc3BhY2luZz0nMCc+IiArIGQoKSArIGgoKSArICI8L3RhYmxlPiI7CiAgICAgICAgICAgIHJldHVybiB0CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGQoKSB7CiAgICAgICAgICAgIHZhciBzLCByLCBvID0gQmUgKyAiLXdpZGdldC1oZWFkZXIiLCBhID0gIiI7CiAgICAgICAgICAgIGZvciAoYSArPSAiPHRoZWFkPjx0cj4iLAogICAgICAgICAgICBJZSAmJiAoYSArPSAiPHRoIGNsYXNzPSdmYy13ZWVrLW51bWJlciAiICsgbyArICInPiIgKyBGKFhlKSArICI8L3RoPiIpLAogICAgICAgICAgICBzID0gMDsgcyA8IEFlOyBzKyspCiAgICAgICAgICAgICAgICByID0gYmUoMCwgcyksCiAgICAgICAgICAgICAgICBhICs9ICI8dGggY2xhc3M9J2ZjLWRheS1oZWFkZXIgZmMtIiArIGRlW3IuZ2V0RGF5KCldICsgIiAiICsgbyArICInPiIgKyBGKEVlKHIsIGplKSkgKyAiPC90aD4iOwogICAgICAgICAgICByZXR1cm4gYSArPSAiPC90cj48L3RoZWFkPiIsCiAgICAgICAgICAgIGEKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaCgpIHsKICAgICAgICAgICAgdmFyIHIsIG8sIGwsIGkgPSBCZSArICItd2lkZ2V0LWNvbnRlbnQiLCBuID0gIiI7CiAgICAgICAgICAgIGZvciAobiArPSAiPHRib2R5PiIsCiAgICAgICAgICAgIHIgPSAwOyByIDwgT2U7IHIrKykgewogICAgICAgICAgICAgICAgZm9yIChuICs9ICI8dHIgY2xhc3M9J2ZjLXdlZWsnPiIsCiAgICAgICAgICAgICAgICBJZSAmJiAobCA9IGJlKHIsIDApLAogICAgICAgICAgICAgICAgbiArPSAiPHRkIGNsYXNzPSdmYy13ZWVrLW51bWJlciAiICsgaSArICInPjxkaXY+IiArIEYoRWUobCwgSmUpKSArICI8L2Rpdj48L3RkPiIpLAogICAgICAgICAgICAgICAgbyA9IDA7IG8gPCBBZTsgbysrKQogICAgICAgICAgICAgICAgICAgIGwgPSBiZShyLCBvKSwKICAgICAgICAgICAgICAgICAgICBuICs9IHAobCk7CiAgICAgICAgICAgICAgICBuICs9ICI8L3RyPiIKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbiArPSAiPC90Ym9keT4iLAogICAgICAgICAgICBuCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHAobykgewogICAgICAgICAgICB2YXIgZSA9IEJlICsgIi13aWRnZXQtY29udGVudCIKICAgICAgICAgICAgICAsIHQgPSBSLnN0YXJ0LmdldE1vbnRoKCkKICAgICAgICAgICAgICAsIGEgPSBjKG5ldyBEYXRlKQogICAgICAgICAgICAgICwgbiA9ICIiCiAgICAgICAgICAgICAgLCBsID0gWyJmYy1kYXkiLCAiZmMtIiArIGRlW28uZ2V0RGF5KCldLCBlXTsKICAgICAgICAgICAgcmV0dXJuIG8uZ2V0TW9udGgoKSAhPSB0ICYmIGwucHVzaCgiZmMtb3RoZXItbW9udGgiKSwKICAgICAgICAgICAgK28gPT0gK2EgPyBsLnB1c2goImZjLXRvZGF5IiwgQmUgKyAiLXN0YXRlLWhpZ2hsaWdodCIpIDogbyA8IGEgPyBsLnB1c2goImZjLXBhc3QiKSA6IGwucHVzaCgiZmMtZnV0dXJlIiksCiAgICAgICAgICAgIG4gKz0gIjx0ZCBjbGFzcz0nIiArIGwuam9pbigiICIpICsgIicgZGF0YS1kYXRlPSciICsgRWUobywgInl5eXktTU0tZGQiKSArICInPjxkaXY+IiwKICAgICAgICAgICAgTGUgJiYgKG4gKz0gIjxkaXYgY2xhc3M9J2ZjLWRheS1udW1iZXInPiIgKyBvLmdldERhdGUoKSArICI8L2Rpdj4iKSwKICAgICAgICAgICAgbiArPSAiPGRpdiBjbGFzcz0nZmMtZGF5LWNvbnRlbnQnPjxkaXYgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlJz4mbmJzcDs8L2Rpdj48L2Rpdj48L2Rpdj48L3RkPiIsCiAgICAgICAgICAgIG4KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdShhKSB7CiAgICAgICAgICAgIEZlID0gYTsKICAgICAgICAgICAgdmFyIG8sIGwsIGksIGUgPSBGZSAtIE4uaGVpZ2h0KCk7CiAgICAgICAgICAgICJ2YXJpYWJsZSIgPT0gVmUoIndlZWtNb2RlIikgPyBvID0gbCA9IE1hdGguZmxvb3IoZSAvICgxID09IE9lID8gMiA6IDYpKSA6IChvID0gTWF0aC5mbG9vcihlIC8gT2UpLAogICAgICAgICAgICBsID0gZSAtIG8gKiAoT2UgLSAxKSksCiAgICAgICAgICAgIE1lLmVhY2goZnVuY3Rpb24odCwgZSkgewogICAgICAgICAgICAgICAgdCA8IE9lICYmIChpID0gU2UoZSksCiAgICAgICAgICAgICAgICBpLmZpbmQoIj4gZGl2IikuY3NzKCJtaW4taGVpZ2h0IiwgKHQgPT0gT2UgLSAxID8gbCA6IG8pIC0gUyhpKSkpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGYodCkgewogICAgICAgICAgICBSZSA9IHQsCiAgICAgICAgICAgIHFlLmNsZWFyKCksCiAgICAgICAgICAgIFllLmNsZWFyKCksCiAgICAgICAgICAgIFdlID0gMCwKICAgICAgICAgICAgSWUgJiYgKFdlID0gTi5maW5kKCJ0aC5mYy13ZWVrLW51bWJlciIpLm91dGVyV2lkdGgoKSksCiAgICAgICAgICAgIE5lID0gTWF0aC5mbG9vcigoUmUgLSBXZSkgLyBBZSksCiAgICAgICAgICAgIG0ocS5zbGljZSgwLCAtMSksIE5lKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB2KHQpIHsKICAgICAgICAgICAgdC5jbGljayh5KS5tb3VzZWRvd24oeWUpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHkoYSkgewogICAgICAgICAgICBpZiAoIVZlKCJzZWxlY3RhYmxlIikpIHsKICAgICAgICAgICAgICAgIHZhciBlID0gZyhTZSh0aGlzKS5kYXRhKCJkYXRlIikpOwogICAgICAgICAgICAgICAgY2UoImRheUNsaWNrIiwgdGhpcywgZSwgITAsIGEpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gYihvLCBlLCB0KSB7CiAgICAgICAgICAgIHQgJiYgX2UuYnVpbGQoKTsKICAgICAgICAgICAgZm9yICh2YXIgYSwgbCA9IERlKG8sIGUpLCBzID0gMDsgcyA8IGwubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICBhID0gbFtzXSwKICAgICAgICAgICAgICAgIHYoRChhLnJvdywgYS5sZWZ0Q29sLCBhLnJvdywgYS5yaWdodENvbCkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEQoZSwgdCwgYSwgbikgewogICAgICAgICAgICB2YXIgcyA9IF9lLnJlY3QoZSwgdCwgYSwgbiwgbyk7CiAgICAgICAgICAgIHJldHVybiBmZShzLCBvKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB3KHIsIGUsIHQpIHsKICAgICAgICAgICAgdmFyIGEgPSB3ZShyKQogICAgICAgICAgICAgICwgbiA9IENlW2Eucm93ICogQWUgKyBhLmNvbF07CiAgICAgICAgICAgIGNlKCJkYXlDbGljayIsIG4sIHIsIGUsIHQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEMoYSwgZSkgewogICAgICAgICAgICBQZS5zdGFydChmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICBtZSgpLAogICAgICAgICAgICAgICAgdCAmJiBEKHQucm93LCB0LmNvbCwgdC5yb3csIHQuY29sKQogICAgICAgICAgICB9LCBlKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBFKHIsIGUsIHQpIHsKICAgICAgICAgICAgdmFyIGEgPSBQZS5zdG9wKCk7CiAgICAgICAgICAgIGlmIChtZSgpLAogICAgICAgICAgICBhKSB7CiAgICAgICAgICAgICAgICB2YXIgbiA9IGJlKGEpOwogICAgICAgICAgICAgICAgY2UoImRyb3AiLCByLCBuLCAhMCwgZSwgdCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBNKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHFlLmxlZnQodCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gVCh0KSB7CiAgICAgICAgICAgIHJldHVybiBxZS5yaWdodCh0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB4KHQpIHsKICAgICAgICAgICAgcmV0dXJuIFllLmxlZnQodCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gayh0KSB7CiAgICAgICAgICAgIHJldHVybiBZZS5yaWdodCh0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBIKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHZlLmVxKHQpCiAgICAgICAgfQogICAgICAgIHZhciBSID0gdGhpczsKICAgICAgICBSLnJlbmRlckJhc2ljID0gcywKICAgICAgICBSLnNldEhlaWdodCA9IHUsCiAgICAgICAgUi5zZXRXaWR0aCA9IGYsCiAgICAgICAgUi5yZW5kZXJEYXlPdmVybGF5ID0gYiwKICAgICAgICBSLmRlZmF1bHRTZWxlY3Rpb25FbmQgPSBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB6ZSh0KQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgUi5yZW5kZXJTZWxlY3Rpb24gPSBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIGIoYSwga2UoemUoZSksIDEpLCAhMCkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFIuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgbWUoKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgUi5yZXBvcnREYXlDbGljayA9IHcsCiAgICAgICAgUi5kcmFnU3RhcnQgPSBDLAogICAgICAgIFIuZHJhZ1N0b3AgPSBFLAogICAgICAgIFIuZGVmYXVsdEV2ZW50RW5kID0gZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gemUodC5zdGFydCkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFIuZ2V0SG92ZXJMaXN0ZW5lciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gUGUKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFIuY29sTGVmdCA9IE0sCiAgICAgICAgUi5jb2xSaWdodCA9IFQsCiAgICAgICAgUi5jb2xDb250ZW50TGVmdCA9IHgsCiAgICAgICAgUi5jb2xDb250ZW50UmlnaHQgPSBrLAogICAgICAgIFIuZ2V0SXNDZWxsQWxsRGF5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiAhMAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgUi5hbGxEYXlSb3cgPSBILAogICAgICAgIFIuZ2V0Um93Q250ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBPZQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgUi5nZXRDb2xDbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIEFlCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBSLmdldENvbFdpZHRoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBOZQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgUi5nZXREYXlTZWdtZW50Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBIZQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgc3QuY2FsbChSLCBvLCBlLCBhKSwKICAgICAgICBnZS5jYWxsKFIpLAogICAgICAgIGllLmNhbGwoUiksCiAgICAgICAgUC5jYWxsKFIpOwogICAgICAgIHZhciB6LCBOLCBxLCBKLCB2ZSwgQ2UsIE1lLCBUZSwgeGUsIEhlLCBSZSwgRmUsIE5lLCBXZSwgT2UsIEFlLCBMZSwgX2UsIFBlLCBxZSwgWWUsIEJlLCBqZSwgSWUsIFhlLCBKZSwgVmUgPSBSLm9wdCwgY2UgPSBSLnRyaWdnZXIsIGZlID0gUi5yZW5kZXJPdmVybGF5LCBtZSA9IFIuY2xlYXJPdmVybGF5cywgeWUgPSBSLmRheVNlbGVjdGlvbk1vdXNlZG93biwgYmUgPSBSLmNlbGxUb0RhdGUsIHdlID0gUi5kYXRlVG9DZWxsLCBEZSA9IFIucmFuZ2VUb1NlZ21lbnRzLCBFZSA9IGUuZm9ybWF0RGF0ZTsKICAgICAgICBqKG8uYWRkQ2xhc3MoImZjLWdyaWQiKSksCiAgICAgICAgX2UgPSBuZXcgaGUoZnVuY3Rpb24oYSwgbikgewogICAgICAgICAgICB2YXIgcywgaSwgZDsKICAgICAgICAgICAgcS5lYWNoKGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgICAgIHMgPSBTZShlKSwKICAgICAgICAgICAgICAgIGkgPSBzLm9mZnNldCgpLmxlZnQsCiAgICAgICAgICAgICAgICBhICYmIChkWzFdID0gaSksCiAgICAgICAgICAgICAgICBkID0gW2ldLAogICAgICAgICAgICAgICAgblthXSA9IGQKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGRbMV0gPSBpICsgcy5vdXRlcldpZHRoKCksCiAgICAgICAgICAgIHZlLmVhY2goZnVuY3Rpb24odCwgZSkgewogICAgICAgICAgICAgICAgdCA8IE9lICYmIChzID0gU2UoZSksCiAgICAgICAgICAgICAgICBpID0gcy5vZmZzZXQoKS50b3AsCiAgICAgICAgICAgICAgICB0ICYmIChkWzFdID0gaSksCiAgICAgICAgICAgICAgICBkID0gW2ldLAogICAgICAgICAgICAgICAgYVt0XSA9IGQpCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBkWzFdID0gaSArIHMub3V0ZXJIZWlnaHQoKQogICAgICAgIH0KICAgICAgICApLAogICAgICAgIFBlID0gbmV3IHBlKF9lKSwKICAgICAgICBxZSA9IG5ldyB1ZShmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiBUZS5lcSh0KQogICAgICAgIH0KICAgICAgICApLAogICAgICAgIFllID0gbmV3IHVlKGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHhlLmVxKHQpCiAgICAgICAgfQogICAgICAgICkKICAgIH0KICAgIGZ1bmN0aW9uIFAoKSB7CiAgICAgICAgdmFyIHMgPSB0aGlzOwogICAgICAgIHMucmVuZGVyRXZlbnRzID0gZnVuY3Rpb24oZSwgdCkgewogICAgICAgICAgICBzLnJlbmRlckRheUV2ZW50cyhlLCB0KQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgcy5jbGVhckV2ZW50cyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzLmdldERheVNlZ21lbnRDb250YWluZXIoKS5lbXB0eSgpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBhZS5jYWxsKHMpCiAgICB9CiAgICBmdW5jdGlvbiBxKGEsIG8sIG4pIHsKICAgICAgICBmdW5jdGlvbiBzKHQpIHsKICAgICAgICAgICAgU3QgPSB0LAogICAgICAgICAgICByKCksCiAgICAgICAgICAgIEogPyBoKCkgOiBnKCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcigpIHsKICAgICAgICAgICAgUnQgPSBfdCgidGhlbWUiKSA/ICJ1aSIgOiAiZmMiLAogICAgICAgICAgICB6dCA9IF90KCJpc1JUTCIpLAogICAgICAgICAgICBGdCA9IGUoX3QoIm1pblRpbWUiKSksCiAgICAgICAgICAgIE50ID0gZShfdCgibWF4VGltZSIpKSwKICAgICAgICAgICAgV3QgPSBfdCgiY29sdW1uRm9ybWF0IiksCiAgICAgICAgICAgIE90ID0gX3QoIndlZWtOdW1iZXJzIiksCiAgICAgICAgICAgIEF0ID0gX3QoIndlZWtOdW1iZXJUaXRsZSIpLAogICAgICAgICAgICBMdCA9ICJpc28iID09IF90KCJ3ZWVrTnVtYmVyQ2FsY3VsYXRpb24iKSA/ICJXIiA6ICJ3IiwKICAgICAgICAgICAgd3QgPSBfdCgic25hcE1pbnV0ZXMiKSB8fCBfdCgic2xvdE1pbnV0ZXMiKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKCkgewogICAgICAgICAgICB2YXIgZSwgcywgZCwgYywgcCwgdSA9IFJ0ICsgIi13aWRnZXQtaGVhZGVyIiwgZyA9IFJ0ICsgIi13aWRnZXQtY29udGVudCIsIGYgPSAwID09IF90KCJzbG90TWludXRlcyIpICUgMTU7CiAgICAgICAgICAgIGZvciAoaCgpLAogICAgICAgICAgICBvdCA9IFNlKCI8ZGl2IHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7bGVmdDowO3dpZHRoOjEwMCUnLz4iKS5hcHBlbmRUbyhhKSwKICAgICAgICAgICAgX3QoImFsbERheVNsb3QiKSA/IChsdCA9IFNlKCI8ZGl2IGNsYXNzPSdmYy1ldmVudC1jb250YWluZXInIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ojg7dG9wOjA7bGVmdDowJy8+IikuYXBwZW5kVG8ob3QpLAogICAgICAgICAgICBlID0gIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJScgY2xhc3M9J2ZjLWFnZW5kYS1hbGxkYXknIGNlbGxzcGFjaW5nPScwJz48dHI+PHRoIGNsYXNzPSciICsgdSArICIgZmMtYWdlbmRhLWF4aXMnPiIgKyBfdCgiYWxsRGF5VGV4dCIpICsgIjwvdGg+PHRkPjxkaXYgY2xhc3M9J2ZjLWRheS1jb250ZW50Jz48ZGl2IHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZScvPjwvZGl2PjwvdGQ+PHRoIGNsYXNzPSciICsgdSArICIgZmMtYWdlbmRhLWd1dHRlcic+Jm5ic3A7PC90aD48L3RyPjwvdGFibGU+IiwKICAgICAgICAgICAgaXQgPSBTZShlKS5hcHBlbmRUbyhvdCksCiAgICAgICAgICAgIGR0ID0gaXQuZmluZCgidHIiKSwKICAgICAgICAgICAgRChkdC5maW5kKCJ0ZCIpKSwKICAgICAgICAgICAgb3QuYXBwZW5kKCI8ZGl2IGNsYXNzPSdmYy1hZ2VuZGEtZGl2aWRlciAiICsgdSArICInPjxkaXYgY2xhc3M9J2ZjLWFnZW5kYS1kaXZpZGVyLWlubmVyJy8+PC9kaXY+IikpIDogbHQgPSBTZShbXSksCiAgICAgICAgICAgIGN0ID0gU2UoIjxkaXYgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvJy8+IikuYXBwZW5kVG8ob3QpLAogICAgICAgICAgICBndCA9IFNlKCI8ZGl2IHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO292ZXJmbG93OmhpZGRlbicvPiIpLmFwcGVuZFRvKGN0KSwKICAgICAgICAgICAgaHQgPSBTZSgiPGRpdiBjbGFzcz0nZmMtZXZlbnQtY29udGFpbmVyJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo4O3RvcDowO2xlZnQ6MCcvPiIpLmFwcGVuZFRvKGd0KSwKICAgICAgICAgICAgZSA9ICI8dGFibGUgY2xhc3M9J2ZjLWFnZW5kYS1zbG90cycgc3R5bGU9J3dpZHRoOjEwMCUnIGNlbGxzcGFjaW5nPScwJz48dGJvZHk+IiwKICAgICAgICAgICAgcyA9IGkoKSwKICAgICAgICAgICAgYyA9IEhlKHplKHMpLCBOdCksCiAgICAgICAgICAgIEhlKHMsIEZ0KSwKICAgICAgICAgICAgTXQgPSAwLAogICAgICAgICAgICBkID0gMDsgcyA8IGM7IGQrKykKICAgICAgICAgICAgICAgIHAgPSBzLmdldE1pbnV0ZXMoKSwKICAgICAgICAgICAgICAgIGUgKz0gIjx0ciBjbGFzcz0nZmMtc2xvdCIgKyBkICsgIiAiICsgKHAgPyAiZmMtbWlub3IiIDogIiIpICsgIic+PHRoIGNsYXNzPSdmYy1hZ2VuZGEtYXhpcyAiICsgdSArICInPiIgKyAoZiAmJiBwID8gIiZuYnNwOyIgOiAkZShzLCBfdCgiYXhpc0Zvcm1hdCIpKSkgKyAiPC90aD48dGQgY2xhc3M9JyIgKyBnICsgIic+PGRpdiBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiZuYnNwOzwvZGl2PjwvdGQ+PC90cj4iLAogICAgICAgICAgICAgICAgSGUocywgX3QoInNsb3RNaW51dGVzIikpLAogICAgICAgICAgICAgICAgTXQrKzsKICAgICAgICAgICAgZSArPSAiPC90Ym9keT48L3RhYmxlPiIsCiAgICAgICAgICAgIHB0ID0gU2UoZSkuYXBwZW5kVG8oZ3QpLAogICAgICAgICAgICB3KHB0LmZpbmQoInRkIikpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGgoKSB7CiAgICAgICAgICAgIHZhciBlID0gbCgpOwogICAgICAgICAgICBKICYmIEoucmVtb3ZlKCksCiAgICAgICAgICAgIEogPSBTZShlKS5hcHBlbmRUbyhhKSwKICAgICAgICAgICAgViA9IEouZmluZCgidGhlYWQiKSwKICAgICAgICAgICAgVSA9IFYuZmluZCgidGgiKS5zbGljZSgxLCAtMSksCiAgICAgICAgICAgIEcgPSBKLmZpbmQoInRib2R5IiksCiAgICAgICAgICAgIFogPSBHLmZpbmQoInRkIikuc2xpY2UoMCwgLTEpLAogICAgICAgICAgICB2ZSA9IFouZmluZCgiPiBkaXYiKSwKICAgICAgICAgICAgQ2UgPSBaLmZpbmQoIi5mYy1kYXktY29udGVudCA+IGRpdiIpLAogICAgICAgICAgICBudCA9IFouZXEoMCksCiAgICAgICAgICAgIHJ0ID0gdmUuZXEoMCksCiAgICAgICAgICAgIE8oVi5hZGQoVi5maW5kKCJ0ciIpKSksCiAgICAgICAgICAgIE8oRy5hZGQoRy5maW5kKCJ0ciIpKSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbCgpIHsKICAgICAgICAgICAgdmFyIHQgPSAiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyBjbGFzcz0nZmMtYWdlbmRhLWRheXMgZmMtYm9yZGVyLXNlcGFyYXRlJyBjZWxsc3BhY2luZz0nMCc+IiArIHAoKSArIHUoKSArICI8L3RhYmxlPiI7CiAgICAgICAgICAgIHJldHVybiB0CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHAoKSB7CiAgICAgICAgICAgIHZhciByLCBvLCBsLCBpID0gUnQgKyAiLXdpZGdldC1oZWFkZXIiLCBuID0gIiI7CiAgICAgICAgICAgIGZvciAobiArPSAiPHRoZWFkPjx0cj4iLAogICAgICAgICAgICBPdCA/IChyID0gWmUoMCwgMCksCiAgICAgICAgICAgIG8gPSAkZShyLCBMdCksCiAgICAgICAgICAgIHp0ID8gbyArPSBBdCA6IG8gPSBBdCArIG8sCiAgICAgICAgICAgIG4gKz0gIjx0aCBjbGFzcz0nZmMtYWdlbmRhLWF4aXMgZmMtd2Vlay1udW1iZXIgIiArIGkgKyAiJz4iICsgRihvKSArICI8L3RoPiIpIDogbiArPSAiPHRoIGNsYXNzPSdmYy1hZ2VuZGEtYXhpcyAiICsgaSArICInPiZuYnNwOzwvdGg+IiwKICAgICAgICAgICAgbCA9IDA7IGwgPCBTdDsgbCsrKQogICAgICAgICAgICAgICAgciA9IFplKDAsIGwpLAogICAgICAgICAgICAgICAgbiArPSAiPHRoIGNsYXNzPSdmYy0iICsgZGVbci5nZXREYXkoKV0gKyAiIGZjLWNvbCIgKyBsICsgIiAiICsgaSArICInPiIgKyBGKCRlKHIsIFd0KSkgKyAiPC90aD4iOwogICAgICAgICAgICByZXR1cm4gbiArPSAiPHRoIGNsYXNzPSdmYy1hZ2VuZGEtZ3V0dGVyICIgKyBpICsgIic+Jm5ic3A7PC90aD48L3RyPjwvdGhlYWQ+IiwKICAgICAgICAgICAgbgogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB1KCkgewogICAgICAgICAgICB2YXIgZCwgZywgaCwgcCwgdSwgZiA9IFJ0ICsgIi13aWRnZXQtaGVhZGVyIiwgciA9IFJ0ICsgIi13aWRnZXQtY29udGVudCIsIGkgPSBjKG5ldyBEYXRlKSwgbyA9ICIiOwogICAgICAgICAgICBmb3IgKG8gKz0gIjx0Ym9keT48dHI+PHRoIGNsYXNzPSdmYy1hZ2VuZGEtYXhpcyAiICsgZiArICInPiZuYnNwOzwvdGg+IiwKICAgICAgICAgICAgaCA9ICIiLAogICAgICAgICAgICBnID0gMDsgZyA8IFN0OyBnKyspCiAgICAgICAgICAgICAgICBkID0gWmUoMCwgZyksCiAgICAgICAgICAgICAgICB1ID0gWyJmYy1jb2wiICsgZywgImZjLSIgKyBkZVtkLmdldERheSgpXSwgcl0sCiAgICAgICAgICAgICAgICArZCA9PSAraSA/IHUucHVzaChSdCArICItc3RhdGUtaGlnaGxpZ2h0IiwgImZjLXRvZGF5IikgOiBkIDwgaSA/IHUucHVzaCgiZmMtcGFzdCIpIDogdS5wdXNoKCJmYy1mdXR1cmUiKSwKICAgICAgICAgICAgICAgIHAgPSAiPHRkIGNsYXNzPSciICsgdS5qb2luKCIgIikgKyAiJz48ZGl2PjxkaXYgY2xhc3M9J2ZjLWRheS1jb250ZW50Jz48ZGl2IHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+Jm5ic3A7PC9kaXY+PC9kaXY+PC9kaXY+PC90ZD4iLAogICAgICAgICAgICAgICAgaCArPSBwOwogICAgICAgICAgICByZXR1cm4gbyArPSBoLAogICAgICAgICAgICBvICs9ICI8dGQgY2xhc3M9J2ZjLWFnZW5kYS1ndXR0ZXIgIiArIHIgKyAiJz4mbmJzcDs8L3RkPjwvdHI+PC90Ym9keT4iLAogICAgICAgICAgICBvCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGYocykgewogICAgICAgICAgICB2b2lkIDAgPT09IHMgJiYgKHMgPSB2dCksCiAgICAgICAgICAgIHZ0ID0gcywKICAgICAgICAgICAgZXQgPSB7fTsKICAgICAgICAgICAgdmFyIHIgPSBHLnBvc2l0aW9uKCkudG9wCiAgICAgICAgICAgICAgLCB0ID0gY3QucG9zaXRpb24oKS50b3AKICAgICAgICAgICAgICAsIGEgPSBNYXRoLm1pbihzIC0gciwgcHQuaGVpZ2h0KCkgKyB0ICsgMSk7CiAgICAgICAgICAgIHJ0LmhlaWdodChhIC0gUyhudCkpLAogICAgICAgICAgICBvdC5jc3MoInRvcCIsIHIpLAogICAgICAgICAgICBjdC5oZWlnaHQoYSAtIHQgLSAxKSwKICAgICAgICAgICAgRHQgPSBwdC5maW5kKCJ0cjpmaXJzdCIpLmhlaWdodCgpICsgMSwKICAgICAgICAgICAgQ3QgPSBfdCgic2xvdE1pbnV0ZXMiKSAvIHd0LAogICAgICAgICAgICBFdCA9IER0IC8gQ3QKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdih0KSB7CiAgICAgICAgICAgIGZ0ID0gdCwKICAgICAgICAgICAga3QuY2xlYXIoKSwKICAgICAgICAgICAgSHQuY2xlYXIoKTsKICAgICAgICAgICAgdmFyIGUgPSBWLmZpbmQoInRoOmZpcnN0Iik7CiAgICAgICAgICAgIGl0ICYmIChlID0gZS5hZGQoaXQuZmluZCgidGg6Zmlyc3QiKSkpLAogICAgICAgICAgICBlID0gZS5hZGQocHQuZmluZCgidGg6Zmlyc3QiKSksCiAgICAgICAgICAgIG10ID0gMCwKICAgICAgICAgICAgbShlLndpZHRoKCIiKS5lYWNoKGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgICAgIG10ID0gTWF0aC5tYXgobXQsIFNlKGUpLm91dGVyV2lkdGgoKSkKICAgICAgICAgICAgfSksIG10KTsKICAgICAgICAgICAgdmFyIGEgPSBKLmZpbmQoIi5mYy1hZ2VuZGEtZ3V0dGVyIik7CiAgICAgICAgICAgIGl0ICYmIChhID0gYS5hZGQoaXQuZmluZCgidGguZmMtYWdlbmRhLWd1dHRlciIpKSk7CiAgICAgICAgICAgIHZhciBvID0gY3RbMF0uY2xpZW50V2lkdGg7CiAgICAgICAgICAgIGJ0ID0gY3Qud2lkdGgoKSAtIG8sCiAgICAgICAgICAgIGJ0ID8gKG0oYSwgYnQpLAogICAgICAgICAgICBhLnNob3coKS5wcmV2KCkucmVtb3ZlQ2xhc3MoImZjLWxhc3QiKSkgOiBhLmhpZGUoKS5wcmV2KCkuYWRkQ2xhc3MoImZjLWxhc3QiKSwKICAgICAgICAgICAgeXQgPSBNYXRoLmZsb29yKChvIC0gbXQpIC8gU3QpLAogICAgICAgICAgICBtKFUuc2xpY2UoMCwgLTEpLCB5dCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24geSgpIHsKICAgICAgICAgICAgZnVuY3Rpb24gcygpIHsKICAgICAgICAgICAgICAgIGN0LnNjcm9sbFRvcChhKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlID0gaSgpCiAgICAgICAgICAgICAgLCB0ID0gemUoZSk7CiAgICAgICAgICAgIHQuc2V0SG91cnMoX3QoImZpcnN0SG91ciIpKTsKICAgICAgICAgICAgdmFyIGEgPSBBKGUsIHQpICsgMTsKICAgICAgICAgICAgcygpLAogICAgICAgICAgICBzZXRUaW1lb3V0KHMsIDApCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEQodCkgewogICAgICAgICAgICB0LmNsaWNrKEMpLm1vdXNlZG93bihVZSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdyh0KSB7CiAgICAgICAgICAgIHQuY2xpY2soQykubW91c2Vkb3duKHEpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEModCkgewogICAgICAgICAgICBpZiAoIV90KCJzZWxlY3RhYmxlIikpIHsKICAgICAgICAgICAgICAgIHZhciBlID0gTWF0aC5taW4oU3QgLSAxLCBNYXRoLmZsb29yKCh0LnBhZ2VYIC0gSi5vZmZzZXQoKS5sZWZ0IC0gbXQpIC8geXQpKQogICAgICAgICAgICAgICAgICAsIGEgPSBaZSgwLCBlKQogICAgICAgICAgICAgICAgICAsIG4gPSB0aGlzLnBhcmVudE5vZGUuY2xhc3NOYW1lLm1hdGNoKC9mYy1zbG90KFxkKykvKTsKICAgICAgICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBwYXJzZUludChuWzFdKSAqIF90KCJzbG90TWludXRlcyIpCiAgICAgICAgICAgICAgICAgICAgICAsIHIgPSBNYXRoLmZsb29yKHMgLyA2MCk7CiAgICAgICAgICAgICAgICAgICAgYS5zZXRIb3VycyhyKSwKICAgICAgICAgICAgICAgICAgICBhLnNldE1pbnV0ZXMocyAlIDYwICsgRnQpLAogICAgICAgICAgICAgICAgICAgIFllKCJkYXlDbGljayIsIFpbZV0sIGEsICExLCB0KQogICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAgICAgICAgWWUoImRheUNsaWNrIiwgWltlXSwgYSwgITAsIHQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gRShvLCBlLCB0KSB7CiAgICAgICAgICAgIHQgJiYgVHQuYnVpbGQoKTsKICAgICAgICAgICAgZm9yICh2YXIgYSwgbCA9IFFlKG8sIGUpLCBzID0gMDsgcyA8IGwubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICBhID0gbFtzXSwKICAgICAgICAgICAgICAgIEQoTShhLnJvdywgYS5sZWZ0Q29sLCBhLnJvdywgYS5yaWdodENvbCkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIE0ociwgZSwgdCwgYSkgewogICAgICAgICAgICB2YXIgbiA9IFR0LnJlY3QociwgZSwgdCwgYSwgb3QpOwogICAgICAgICAgICByZXR1cm4gQmUobiwgb3QpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIFQobywgZSkgewogICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IFN0OyB0KyspIHsKICAgICAgICAgICAgICAgIHZhciBpID0gWmUoMCwgdCkKICAgICAgICAgICAgICAgICAgLCBuID0ga2UoemUoaSksIDEpCiAgICAgICAgICAgICAgICAgICwgcyA9IG5ldyBEYXRlKE1hdGgubWF4KGksIG8pKQogICAgICAgICAgICAgICAgICAsIHIgPSBuZXcgRGF0ZShNYXRoLm1pbihuLCBlKSk7CiAgICAgICAgICAgICAgICBpZiAocyA8IHIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IFR0LnJlY3QoMCwgdCwgMCwgdCwgZ3QpCiAgICAgICAgICAgICAgICAgICAgICAsIGQgPSBBKGksIHMpCiAgICAgICAgICAgICAgICAgICAgICAsIGMgPSBBKGksIHIpOwogICAgICAgICAgICAgICAgICAgIGwudG9wID0gZCwKICAgICAgICAgICAgICAgICAgICBsLmhlaWdodCA9IGMgLSBkLAogICAgICAgICAgICAgICAgICAgIHcoQmUobCwgZ3QpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHgodCkgewogICAgICAgICAgICByZXR1cm4ga3QubGVmdCh0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBIKHQpIHsKICAgICAgICAgICAgcmV0dXJuIEh0LmxlZnQodCkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gUih0KSB7CiAgICAgICAgICAgIHJldHVybiBrdC5yaWdodCh0KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB6KHQpIHsKICAgICAgICAgICAgcmV0dXJuIEh0LnJpZ2h0KHQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIE4odCkgewogICAgICAgICAgICByZXR1cm4gX3QoImFsbERheVNsb3QiKSAmJiAhdC5yb3cKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gVyhzKSB7CiAgICAgICAgICAgIHZhciBlID0gWmUoMCwgcy5jb2wpCiAgICAgICAgICAgICAgLCB0ID0gcy5yb3c7CiAgICAgICAgICAgIHJldHVybiBfdCgiYWxsRGF5U2xvdCIpICYmIHQtLSwKICAgICAgICAgICAgMCA8PSB0ICYmIEhlKGUsIEZ0ICsgdCAqIHd0KSwKICAgICAgICAgICAgZQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBBKG8sIGwpIHsKICAgICAgICAgICAgaWYgKG8gPSB6ZShvLCAhMCksCiAgICAgICAgICAgIGwgPCBIZSh6ZShvKSwgRnQpKQogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIGlmIChsID49IEhlKHplKG8pLCBOdCkpCiAgICAgICAgICAgICAgICByZXR1cm4gcHQuaGVpZ2h0KCk7CiAgICAgICAgICAgIHZhciB0ID0gX3QoInNsb3RNaW51dGVzIikKICAgICAgICAgICAgICAsIGEgPSA2MCAqIGwuZ2V0SG91cnMoKSArIGwuZ2V0TWludXRlcygpIC0gRnQKICAgICAgICAgICAgICAsIG4gPSBNYXRoLmZsb29yKGEgLyB0KQogICAgICAgICAgICAgICwgcyA9IGV0W25dOwogICAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBzICYmIChzID0gZXRbbl0gPSBwdC5maW5kKCJ0ciIpLmVxKG4pLmZpbmQoInRkIGRpdiIpWzBdLm9mZnNldFRvcCksCiAgICAgICAgICAgIE1hdGgubWF4KDAsIE1hdGgucm91bmQocyAtIDEgKyBEdCAqIChhICUgdCAvIHQpKSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gTCgpIHsKICAgICAgICAgICAgcmV0dXJuIGR0CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIF8oYSwgZSkgewogICAgICAgICAgICB2YXIgdCA9IF90KCJzZWxlY3RIZWxwZXIiKTsKICAgICAgICAgICAgaWYgKFR0LmJ1aWxkKCksCiAgICAgICAgICAgIHQpIHsKICAgICAgICAgICAgICAgIHZhciBuID0gS2UoYSkuY29sOwogICAgICAgICAgICAgICAgaWYgKDAgPD0gbiAmJiBuIDwgU3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IFR0LnJlY3QoMCwgbiwgMCwgbiwgZ3QpCiAgICAgICAgICAgICAgICAgICAgICAsIHIgPSBBKGEsIGEpCiAgICAgICAgICAgICAgICAgICAgICAsIGkgPSBBKGEsIGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChpID4gcikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocy50b3AgPSByLAogICAgICAgICAgICAgICAgICAgICAgICBzLmhlaWdodCA9IGkgLSByLAogICAgICAgICAgICAgICAgICAgICAgICBzLmxlZnQgKz0gMiwKICAgICAgICAgICAgICAgICAgICAgICAgcy53aWR0aCAtPSA1LAogICAgICAgICAgICAgICAgICAgICAgICBTZS5pc0Z1bmN0aW9uKHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHQoYSwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvICYmIChzLnBvc2l0aW9uID0gImFic29sdXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ID0gU2UobykuY3NzKHMpLmFwcGVuZFRvKGd0KSkKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmlzU3RhcnQgPSAhMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuaXNFbmQgPSAhMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ID0gU2UoR2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBbImZjLXNlbGVjdC1oZWxwZXIiXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogITEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHMpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0LmNzcygib3BhY2l0eSIsIF90KCJkcmFnT3BhY2l0eSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXQgJiYgKHcodXQpLAogICAgICAgICAgICAgICAgICAgICAgICBndC5hcHBlbmQodXQpLAogICAgICAgICAgICAgICAgICAgICAgICBtKHV0LCBzLndpZHRoLCAhMCksCiAgICAgICAgICAgICAgICAgICAgICAgIGIodXQsIHMuaGVpZ2h0LCAhMCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgIFQoYSwgZSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gUCgpIHsKICAgICAgICAgICAgVmUoKSwKICAgICAgICAgICAgdXQgJiYgKHV0LnJlbW92ZSgpLAogICAgICAgICAgICB1dCA9IG51bGwpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHEoYSkgewogICAgICAgICAgICBpZiAoMSA9PSBhLndoaWNoICYmIF90KCJzZWxlY3RhYmxlIikpIHsKICAgICAgICAgICAgICAgIEplKGEpOwogICAgICAgICAgICAgICAgdmFyIHI7CiAgICAgICAgICAgICAgICB4dC5zdGFydChmdW5jdGlvbih0LCBlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKFAoKSwKICAgICAgICAgICAgICAgICAgICB0ICYmIHQuY29sID09IGUuY29sICYmICFOKHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gVyhlKQogICAgICAgICAgICAgICAgICAgICAgICAgICwgbiA9IFcodCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBbYSwgSGUoemUoYSksIHd0KSwgbiwgSGUoemUobiksIHd0KV0uc29ydChrKSwKICAgICAgICAgICAgICAgICAgICAgICAgXyhyWzBdLCByWzNdKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgICAgICAgICByID0gbnVsbAogICAgICAgICAgICAgICAgfSwgYSksCiAgICAgICAgICAgICAgICBTZShkb2N1bWVudCkub25lKCJtb3VzZXVwIiwgZnVuY3Rpb24odCkgewogICAgICAgICAgICAgICAgICAgIHh0LnN0b3AoKSwKICAgICAgICAgICAgICAgICAgICByICYmICgrclswXSA9PSArclsxXSAmJiBZKHJbMF0sICExLCB0KSwKICAgICAgICAgICAgICAgICAgICBYZShyWzBdLCByWzNdLCAhMSwgdCkpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIFkocywgZSwgdCkgewogICAgICAgICAgICBZZSgiZGF5Q2xpY2siLCBaW0tlKHMpLmNvbF0sIHMsIGUsIHQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEIoYSwgZSkgewogICAgICAgICAgICB4dC5zdGFydChmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICBpZiAoVmUoKSwKICAgICAgICAgICAgICAgIHMpCiAgICAgICAgICAgICAgICAgICAgaWYgKE4ocykpCiAgICAgICAgICAgICAgICAgICAgICAgIE0ocy5yb3csIHMuY29sLCBzLnJvdywgcy5jb2wpOwogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IFcocykKICAgICAgICAgICAgICAgICAgICAgICAgICAsIHQgPSBIZSh6ZShlKSwgX3QoImRlZmF1bHRFdmVudE1pbnV0ZXMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFQoZSwgdCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGUpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEkocywgZSwgdCkgewogICAgICAgICAgICB2YXIgYSA9IHh0LnN0b3AoKTsKICAgICAgICAgICAgVmUoKSwKICAgICAgICAgICAgYSAmJiBZZSgiZHJvcCIsIHMsIFcoYSksIE4oYSksIGUsIHQpCiAgICAgICAgfQogICAgICAgIHZhciBYID0gdGhpczsKICAgICAgICBYLnJlbmRlckFnZW5kYSA9IHMsCiAgICAgICAgWC5zZXRXaWR0aCA9IHYsCiAgICAgICAgWC5zZXRIZWlnaHQgPSBmLAogICAgICAgIFguYWZ0ZXJSZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgeSgpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLmRlZmF1bHRFdmVudEVuZCA9IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgdmFyIGUgPSB6ZShhLnN0YXJ0KTsKICAgICAgICAgICAgcmV0dXJuIGEuYWxsRGF5ID8gZSA6IEhlKGUsIF90KCJkZWZhdWx0RXZlbnRNaW51dGVzIikpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLnRpbWVQb3NpdGlvbiA9IEEsCiAgICAgICAgWC5nZXRJc0NlbGxBbGxEYXkgPSBOLAogICAgICAgIFguYWxsRGF5Um93ID0gTCwKICAgICAgICBYLmdldENvb3JkaW5hdGVHcmlkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBUdAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRIb3Zlckxpc3RlbmVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB4dAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5jb2xMZWZ0ID0geCwKICAgICAgICBYLmNvbFJpZ2h0ID0gUiwKICAgICAgICBYLmNvbENvbnRlbnRMZWZ0ID0gSCwKICAgICAgICBYLmNvbENvbnRlbnRSaWdodCA9IHosCiAgICAgICAgWC5nZXREYXlTZWdtZW50Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBsdAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRTbG90U2VnbWVudENvbnRhaW5lciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gaHQKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFguZ2V0TWluTWludXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBGdAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRNYXhNaW51dGUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIE50CiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLmdldFNsb3RDb250YWluZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIGd0CiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLmdldFJvd0NudCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gMQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRDb2xDbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIFN0CiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLmdldENvbFdpZHRoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB5dAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRTbmFwSGVpZ2h0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBFdAogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgWC5nZXRTbmFwTWludXRlcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gd3QKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFguZGVmYXVsdFNlbGVjdGlvbkVuZCA9IGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUgPyB6ZShhKSA6IEhlKHplKGEpLCBfdCgic2xvdE1pbnV0ZXMiKSkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIFgucmVuZGVyRGF5T3ZlcmxheSA9IEUsCiAgICAgICAgWC5yZW5kZXJTZWxlY3Rpb24gPSBmdW5jdGlvbihzLCBlLCB0KSB7CiAgICAgICAgICAgIHQgPyBfdCgiYWxsRGF5U2xvdCIpICYmIEUocywga2UoemUoZSksIDEpLCAhMCkgOiBfKHMsIGUpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBYLmNsZWFyU2VsZWN0aW9uID0gUCwKICAgICAgICBYLnJlcG9ydERheUNsaWNrID0gWSwKICAgICAgICBYLmRyYWdTdGFydCA9IEIsCiAgICAgICAgWC5kcmFnU3RvcCA9IEksCiAgICAgICAgc3QuY2FsbChYLCBhLCBvLCBuKSwKICAgICAgICBnZS5jYWxsKFgpLAogICAgICAgIGllLmNhbGwoWCksCiAgICAgICAgYXQuY2FsbChYKTsKICAgICAgICB2YXIgSiwgViwgVSwgRywgWiwgdmUsIENlLCBudCwgcnQsIG90LCBsdCwgaXQsIGR0LCBjdCwgZ3QsIGh0LCBwdCwgdXQsIGZ0LCB2dCwgbXQsIHl0LCBidCwgRHQsIHd0LCBDdCwgRXQsIFN0LCBNdCwgVHQsIHh0LCBrdCwgSHQsIFJ0LCB6dCwgRnQsIE50LCBXdCwgT3QsIEF0LCBMdCwgX3QgPSBYLm9wdCwgWWUgPSBYLnRyaWdnZXIsIEJlID0gWC5yZW5kZXJPdmVybGF5LCBWZSA9IFguY2xlYXJPdmVybGF5cywgWGUgPSBYLnJlcG9ydFNlbGVjdGlvbiwgSmUgPSBYLnVuc2VsZWN0LCBVZSA9IFguZGF5U2VsZWN0aW9uTW91c2Vkb3duLCBHZSA9IFguc2xvdFNlZ0h0bWwsIFplID0gWC5jZWxsVG9EYXRlLCBLZSA9IFguZGF0ZVRvQ2VsbCwgUWUgPSBYLnJhbmdlVG9TZWdtZW50cywgJGUgPSBvLmZvcm1hdERhdGUsIGV0ID0ge307CiAgICAgICAgaihhLmFkZENsYXNzKCJmYy1hZ2VuZGEiKSksCiAgICAgICAgVHQgPSBuZXcgaGUoZnVuY3Rpb24oZSwgYSkgewogICAgICAgICAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChjLCBNYXRoLm1pbihnLCB0KSkKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcywgbiwgcjsKICAgICAgICAgICAgVS5lYWNoKGZ1bmN0aW9uKG8sIGUpIHsKICAgICAgICAgICAgICAgIHMgPSBTZShlKSwKICAgICAgICAgICAgICAgIG4gPSBzLm9mZnNldCgpLmxlZnQsCiAgICAgICAgICAgICAgICBvICYmIChyWzFdID0gbiksCiAgICAgICAgICAgICAgICByID0gW25dLAogICAgICAgICAgICAgICAgYVtvXSA9IHIKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHJbMV0gPSBuICsgcy5vdXRlcldpZHRoKCksCiAgICAgICAgICAgIF90KCJhbGxEYXlTbG90IikgJiYgKHMgPSBkdCwKICAgICAgICAgICAgbiA9IHMub2Zmc2V0KCkudG9wLAogICAgICAgICAgICBlWzBdID0gW24sIG4gKyBzLm91dGVySGVpZ2h0KCldKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IGd0Lm9mZnNldCgpLnRvcCwgYyA9IGN0Lm9mZnNldCgpLnRvcCwgZyA9IGMgKyBjdC5vdXRlckhlaWdodCgpLCBoID0gMDsgaCA8IE10ICogQ3Q7IGgrKykKICAgICAgICAgICAgICAgIGUucHVzaChbdChpICsgRXQgKiBoKSwgdChpICsgRXQgKiAoaCArIDEpKV0pCiAgICAgICAgfQogICAgICAgICksCiAgICAgICAgeHQgPSBuZXcgcGUoVHQpLAogICAgICAgIGt0ID0gbmV3IHVlKGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHZlLmVxKHQpCiAgICAgICAgfQogICAgICAgICksCiAgICAgICAgSHQgPSBuZXcgdWUoZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gQ2UuZXEodCkKICAgICAgICB9CiAgICAgICAgKQogICAgfQogICAgZnVuY3Rpb24gYXQoKSB7CiAgICAgICAgZnVuY3Rpb24gaShzKSB7CiAgICAgICAgICAgIHZhciBlLCBpLCBkLCBjLCBoLCB5ID0gUigpLCBwID0gTSgpLCB1ID0gRSgpLCBmID0gU2UubWFwKHMsIG4pLCB2ID0gW107CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB5OyBpKyspCiAgICAgICAgICAgICAgICBmb3IgKGUgPSBUKDAsIGkpLAogICAgICAgICAgICAgICAgSGUoZSwgcCksCiAgICAgICAgICAgICAgICBoID0gYShzLCBmLCBlLCBIZSh6ZShlKSwgdSAtIHApKSwKICAgICAgICAgICAgICAgIGggPSBZKGgpLAogICAgICAgICAgICAgICAgZCA9IDA7IGQgPCBoLmxlbmd0aDsgZCsrKQogICAgICAgICAgICAgICAgICAgIGMgPSBoW2RdLAogICAgICAgICAgICAgICAgICAgIGMuY29sID0gaSwKICAgICAgICAgICAgICAgICAgICB2LnB1c2goYyk7CiAgICAgICAgICAgIHJldHVybiB2CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGEoaSwgZSwgdCwgYSkgewogICAgICAgICAgICB2YXIgbiwgaCwgdiwgbSwgeSwgYiwgRCwgdywgQyA9IFtdLCB1ID0gaS5sZW5ndGg7CiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCB1OyBuKyspCiAgICAgICAgICAgICAgICBoID0gaVtuXSwKICAgICAgICAgICAgICAgIHYgPSBoLnN0YXJ0LAogICAgICAgICAgICAgICAgbSA9IGVbbl0sCiAgICAgICAgICAgICAgICBtID4gdCAmJiB2IDwgYSAmJiAodiA8IHQgPyAoeSA9IHplKHQpLAogICAgICAgICAgICAgICAgRCA9ICExKSA6ICh5ID0gdiwKICAgICAgICAgICAgICAgIEQgPSAhMCksCiAgICAgICAgICAgICAgICBtID4gYSA/IChiID0gemUoYSksCiAgICAgICAgICAgICAgICB3ID0gITEpIDogKGIgPSBtLAogICAgICAgICAgICAgICAgdyA9ICEwKSwKICAgICAgICAgICAgICAgIEMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGgsCiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHksCiAgICAgICAgICAgICAgICAgICAgZW5kOiBiLAogICAgICAgICAgICAgICAgICAgIGlzU3RhcnQ6IEQsCiAgICAgICAgICAgICAgICAgICAgaXNFbmQ6IHcKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgcmV0dXJuIEMuc29ydChLKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBuKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQuZW5kID8gemUodC5lbmQpIDogSGUoemUodC5zdGFydCksIE4oImRlZmF1bHRFdmVudE1pbnV0ZXMiKSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZSh0LCBlKSB7CiAgICAgICAgICAgIHZhciBhLCBuLCBpLCBkLCBNLCBGLCBXLCBPLCBBLCBMLCBfLCBxLCBZLCBCLCBqLCBJLCBYID0gdC5sZW5ndGgsIFQgPSAiIiwgSiA9IHgoKSwgViA9IE4oImlzUlRMIik7CiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBYOyBhKyspCiAgICAgICAgICAgICAgICBuID0gdFthXSwKICAgICAgICAgICAgICAgIGkgPSBuLmV2ZW50LAogICAgICAgICAgICAgICAgZCA9IGsobi5zdGFydCwgbi5zdGFydCksCiAgICAgICAgICAgICAgICBNID0gayhuLnN0YXJ0LCBuLmVuZCksCiAgICAgICAgICAgICAgICBGID0gSChuLmNvbCksCiAgICAgICAgICAgICAgICBXID0geihuLmNvbCksCiAgICAgICAgICAgICAgICBPID0gVyAtIEYsCiAgICAgICAgICAgICAgICBXIC09IC4wMjUgKiBPLAogICAgICAgICAgICAgICAgTyA9IFcgLSBGLAogICAgICAgICAgICAgICAgQSA9IE8gKiAobi5mb3J3YXJkQ29vcmQgLSBuLmJhY2t3YXJkQ29vcmQpLAogICAgICAgICAgICAgICAgTigic2xvdEV2ZW50T3ZlcmxhcCIpICYmIChBID0gTWF0aC5tYXgoMiAqIChBIC0gMTApLCBBKSksCiAgICAgICAgICAgICAgICBWID8gKF8gPSBXIC0gbi5iYWNrd2FyZENvb3JkICogTywKICAgICAgICAgICAgICAgIEwgPSBfIC0gQSkgOiAoTCA9IEYgKyBuLmJhY2t3YXJkQ29vcmQgKiBPLAogICAgICAgICAgICAgICAgXyA9IEwgKyBBKSwKICAgICAgICAgICAgICAgIEwgPSBNYXRoLm1heChMLCBGKSwKICAgICAgICAgICAgICAgIF8gPSBNYXRoLm1pbihfLCBXKSwKICAgICAgICAgICAgICAgIEEgPSBfIC0gTCwKICAgICAgICAgICAgICAgIG4udG9wID0gZCwKICAgICAgICAgICAgICAgIG4ubGVmdCA9IEwsCiAgICAgICAgICAgICAgICBuLm91dGVyV2lkdGggPSBBLAogICAgICAgICAgICAgICAgbi5vdXRlckhlaWdodCA9IE0gLSBkLAogICAgICAgICAgICAgICAgVCArPSBDKGksIG4pOwogICAgICAgICAgICBmb3IgKEpbMF0uaW5uZXJIVE1MID0gVCwKICAgICAgICAgICAgcSA9IEouY2hpbGRyZW4oKSwKICAgICAgICAgICAgYSA9IDA7IGEgPCBYOyBhKyspCiAgICAgICAgICAgICAgICBuID0gdFthXSwKICAgICAgICAgICAgICAgIGkgPSBuLmV2ZW50LAogICAgICAgICAgICAgICAgWSA9IFNlKHFbYV0pLAogICAgICAgICAgICAgICAgQiA9IHUoImV2ZW50UmVuZGVyIiwgaSwgaSwgWSksCiAgICAgICAgICAgICAgICAhMSA9PT0gQiA/IFkucmVtb3ZlKCkgOiAoQiAmJiAhMCAhPT0gQiAmJiAoWS5yZW1vdmUoKSwKICAgICAgICAgICAgICAgIFkgPSBTZShCKS5jc3MoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgICAgICAgICAgIHRvcDogbi50b3AsCiAgICAgICAgICAgICAgICAgICAgbGVmdDogbi5sZWZ0CiAgICAgICAgICAgICAgICB9KS5hcHBlbmRUbyhKKSksCiAgICAgICAgICAgICAgICBuLmVsZW1lbnQgPSBZLAogICAgICAgICAgICAgICAgaS5faWQgPT09IGUgPyBsKGksIFksIG4pIDogWVswXS5fZmNpID0gYSwKICAgICAgICAgICAgICAgIFAoaSwgWSkpOwogICAgICAgICAgICBmb3IgKHYoSiwgdCwgbCksCiAgICAgICAgICAgIGEgPSAwOyBhIDwgWDsgYSsrKQogICAgICAgICAgICAgICAgbiA9IHRbYV0sCiAgICAgICAgICAgICAgICAoWSA9IG4uZWxlbWVudCkgJiYgKG4udnNpZGVzID0gUyhZLCAhMCksCiAgICAgICAgICAgICAgICBuLmhzaWRlcyA9IEQoWSwgITApLAogICAgICAgICAgICAgICAgaiA9IFkuZmluZCgiLmZjLWV2ZW50LXRpdGxlIiksCiAgICAgICAgICAgICAgICBqLmxlbmd0aCAmJiAobi5jb250ZW50VG9wID0galswXS5vZmZzZXRUb3ApKTsKICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IFg7IGErKykKICAgICAgICAgICAgICAgIG4gPSB0W2FdLAogICAgICAgICAgICAgICAgKFkgPSBuLmVsZW1lbnQpICYmIChZWzBdLnN0eWxlLndpZHRoID0gTWF0aC5tYXgoMCwgbi5vdXRlcldpZHRoIC0gbi5oc2lkZXMpICsgInB4IiwKICAgICAgICAgICAgICAgIEkgPSBNYXRoLm1heCgwLCBuLm91dGVySGVpZ2h0IC0gbi52c2lkZXMpLAogICAgICAgICAgICAgICAgWVswXS5zdHlsZS5oZWlnaHQgPSBJICsgInB4IiwKICAgICAgICAgICAgICAgIGkgPSBuLmV2ZW50LAogICAgICAgICAgICAgICAgdm9pZCAwICE9PSBuLmNvbnRlbnRUb3AgJiYgMTAgPiBJIC0gbi5jb250ZW50VG9wICYmIChZLmZpbmQoImRpdi5mYy1ldmVudC10aW1lIikudGV4dChHKGkuc3RhcnQsIE4oInRpbWVGb3JtYXQiKSkgKyAiIC0gIiArIGkudGl0bGUpLAogICAgICAgICAgICAgICAgWS5maW5kKCJkaXYuZmMtZXZlbnQtdGl0bGUiKS5yZW1vdmUoKSksCiAgICAgICAgICAgICAgICB1KCJldmVudEFmdGVyUmVuZGVyIiwgaSwgaSwgWSkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEModCwgZSkgewogICAgICAgICAgICB2YXIgYSA9ICI8IgogICAgICAgICAgICAgICwgbyA9IHQudXJsCiAgICAgICAgICAgICAgLCBzID0gVyh0LCBOKQogICAgICAgICAgICAgICwgciA9IFsiZmMtZXZlbnQiLCAiZmMtZXZlbnQtdmVydCJdOwogICAgICAgICAgICByZXR1cm4gZCh0KSAmJiByLnB1c2goImZjLWV2ZW50LWRyYWdnYWJsZSIpLAogICAgICAgICAgICBlLmlzU3RhcnQgJiYgci5wdXNoKCJmYy1ldmVudC1zdGFydCIpLAogICAgICAgICAgICBlLmlzRW5kICYmIHIucHVzaCgiZmMtZXZlbnQtZW5kIiksCiAgICAgICAgICAgIHIgPSByLmNvbmNhdCh0LmNsYXNzTmFtZSksCiAgICAgICAgICAgIHQuc291cmNlICYmIChyID0gci5jb25jYXQodC5zb3VyY2UuY2xhc3NOYW1lIHx8IFtdKSksCiAgICAgICAgICAgIGEgKz0gbyA/ICJhIGhyZWY9JyIgKyBGKHQudXJsKSArICInIiA6ICJkaXYiLAogICAgICAgICAgICBhICs9ICIgY2xhc3M9JyIgKyByLmpvaW4oIiAiKSArICInIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6IiArIGUudG9wICsgInB4O2xlZnQ6IiArIGUubGVmdCArICJweDsiICsgcyArICInPjxkaXYgY2xhc3M9J2ZjLWV2ZW50LWlubmVyJz48ZGl2IGNsYXNzPSdmYy1ldmVudC10aW1lJz4iICsgRihaKHQuc3RhcnQsIHQuZW5kLCBOKCJ0aW1lRm9ybWF0IikpKSArICI8L2Rpdj48ZGl2IGNsYXNzPSdmYy1ldmVudC10aXRsZSc+IiArIEYodC50aXRsZSB8fCAiIikgKyAiPC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0nZmMtZXZlbnQtYmcnPjwvZGl2PiIsCiAgICAgICAgICAgIGUuaXNFbmQgJiYgYyh0KSAmJiAoYSArPSAiPGRpdiBjbGFzcz0ndWktcmVzaXphYmxlLWhhbmRsZSB1aS1yZXNpemFibGUtcyc+PTwvZGl2PiIpLAogICAgICAgICAgICBhICs9ICI8LyIgKyAobyA/ICJhIiA6ICJkaXYiKSArICI+IiwKICAgICAgICAgICAgYQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKG8sIGUsIHQpIHsKICAgICAgICAgICAgdmFyIGEgPSBlLmZpbmQoImRpdi5mYy1ldmVudC10aW1lIik7CiAgICAgICAgICAgIGQobykgJiYgcyhvLCBlLCBhKSwKICAgICAgICAgICAgdC5pc0VuZCAmJiBjKG8pICYmIHIobywgZSwgYSksCiAgICAgICAgICAgIGcobywgZSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcyhjLCBmLCBlKSB7CiAgICAgICAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgICAgICAgICBKKCksCiAgICAgICAgICAgICAgICBDICYmICh6ID8gKGUuaGlkZSgpLAogICAgICAgICAgICAgICAgZi5kcmFnZ2FibGUoIm9wdGlvbiIsICJncmlkIiwgbnVsbCksCiAgICAgICAgICAgICAgICBYKGtlKHplKGMuc3RhcnQpLCBQKSwga2UoeShjKSwgUCkpKSA6ICh0KFkpLAogICAgICAgICAgICAgICAgZS5jc3MoImRpc3BsYXkiLCAiIiksCiAgICAgICAgICAgICAgICBmLmRyYWdnYWJsZSgib3B0aW9uIiwgImdyaWQiLCBbUywgTV0pKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgICAgICAgICAgIHZhciBhLCBuID0gSGUoemUoYy5zdGFydCksIHQpOwogICAgICAgICAgICAgICAgYy5lbmQgJiYgKGEgPSBIZSh6ZShjLmVuZCksIHQpKSwKICAgICAgICAgICAgICAgIGUudGV4dChaKG4sIGEsIE4oInRpbWVGb3JtYXQiKSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHMsIHYsIEMsIEgsIHosIEYsIFcsIF8sIFAsIFksIEksIFYgPSBvLmdldENvb3JkaW5hdGVHcmlkKCksIG4gPSBSKCksIFMgPSBPKCksIE0gPSBBKCksIHggPSBMKCk7CiAgICAgICAgICAgIGYuZHJhZ2dhYmxlKHsKICAgICAgICAgICAgICAgIHNjcm9sbDogITEsCiAgICAgICAgICAgICAgICBncmlkOiBbUywgTV0sCiAgICAgICAgICAgICAgICBheGlzOiAxID09IG4gJiYgInkiLAogICAgICAgICAgICAgICAgb3BhY2l0eTogTigiZHJhZ09wYWNpdHkiKSwKICAgICAgICAgICAgICAgIHJldmVydER1cmF0aW9uOiBOKCJkcmFnUmV2ZXJ0RHVyYXRpb24iKSwKICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbihlLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgdSgiZXZlbnREcmFnU3RhcnQiLCBmLCBjLCBlLCB0KSwKICAgICAgICAgICAgICAgICAgICBCKGMsIGYpLAogICAgICAgICAgICAgICAgICAgIFYuYnVpbGQoKSwKICAgICAgICAgICAgICAgICAgICBzID0gZi5wb3NpdGlvbigpLAogICAgICAgICAgICAgICAgICAgIHYgPSBWLmNlbGwoZS5wYWdlWCwgZS5wYWdlWSksCiAgICAgICAgICAgICAgICAgICAgQyA9IEggPSAhMCwKICAgICAgICAgICAgICAgICAgICB6ID0gRiA9IG0odiksCiAgICAgICAgICAgICAgICAgICAgVyA9IF8gPSAwLAogICAgICAgICAgICAgICAgICAgIFAgPSAwLAogICAgICAgICAgICAgICAgICAgIFkgPSBJID0gMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRyYWc6IGZ1bmN0aW9uKGwsIGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IFYuY2VsbChsLnBhZ2VYLCBsLnBhZ2VZKTsKICAgICAgICAgICAgICAgICAgICBpZiAoQyA9ICEhdCwKICAgICAgICAgICAgICAgICAgICBDKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6ID0gbSh0KSwKICAgICAgICAgICAgICAgICAgICAgICAgVyA9IE1hdGgucm91bmQoKGUucG9zaXRpb24ubGVmdCAtIHMubGVmdCkgLyBTKSwKICAgICAgICAgICAgICAgICAgICAgICAgVyAhPSBfKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IFQoMCwgdi5jb2wpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgciA9IHYuY29sICsgVzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBNYXRoLm1heCgwLCByKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBNYXRoLm1pbihuIC0gMSwgcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IFQoMCwgcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQID0gaChkLCBpKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHogfHwgKFkgPSBNYXRoLnJvdW5kKChlLnBvc2l0aW9uLnRvcCAtIHMudG9wKSAvIE0pICogeCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKEMgIT0gSCB8fCB6ICE9IEYgfHwgVyAhPSBfIHx8IFkgIT0gSSkgJiYgKGEoKSwKICAgICAgICAgICAgICAgICAgICBIID0gQywKICAgICAgICAgICAgICAgICAgICBGID0geiwKICAgICAgICAgICAgICAgICAgICBfID0gVywKICAgICAgICAgICAgICAgICAgICBJID0gWSksCiAgICAgICAgICAgICAgICAgICAgZi5kcmFnZ2FibGUoIm9wdGlvbiIsICJyZXZlcnQiLCAhQykKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbihlLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgSigpLAogICAgICAgICAgICAgICAgICAgIHUoImV2ZW50RHJhZ1N0b3AiLCBmLCBjLCBlLCB0KSwKICAgICAgICAgICAgICAgICAgICBDICYmICh6IHx8IFAgfHwgWSkgPyBqKHRoaXMsIGMsIFAsIHogPyAwIDogWSwgeiwgZSwgdCkgOiAoQyA9ICEwLAogICAgICAgICAgICAgICAgICAgIHogPSAhMSwKICAgICAgICAgICAgICAgICAgICBXID0gMCwKICAgICAgICAgICAgICAgICAgICBQID0gMCwKICAgICAgICAgICAgICAgICAgICBZID0gMCwKICAgICAgICAgICAgICAgICAgICBhKCksCiAgICAgICAgICAgICAgICAgICAgZi5jc3MoImZpbHRlciIsICIiKSwKICAgICAgICAgICAgICAgICAgICBmLmNzcyhzKSwKICAgICAgICAgICAgICAgICAgICBxKGMsIGYpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByKGMsIGUsIGEpIHsKICAgICAgICAgICAgdmFyIGcsIGgsIG4gPSBBKCksIGkgPSBMKCk7CiAgICAgICAgICAgIGUucmVzaXphYmxlKHsKICAgICAgICAgICAgICAgIGhhbmRsZXM6IHsKICAgICAgICAgICAgICAgICAgICBzOiAiLnVpLXJlc2l6YWJsZS1oYW5kbGUiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ3JpZDogbiwKICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbihhLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgZyA9IGggPSAwLAogICAgICAgICAgICAgICAgICAgIEIoYywgZSksCiAgICAgICAgICAgICAgICAgICAgdSgiZXZlbnRSZXNpemVTdGFydCIsIHRoaXMsIGMsIGEsIHQpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbihzLCByKSB7CiAgICAgICAgICAgICAgICAgICAgZyA9IE1hdGgucm91bmQoKE1hdGgubWF4KG4sIGUuaGVpZ2h0KCkpIC0gci5vcmlnaW5hbFNpemUuaGVpZ2h0KSAvIG4pLAogICAgICAgICAgICAgICAgICAgIGcgIT0gaCAmJiAoYS50ZXh0KFooYy5zdGFydCwgZyB8fCBjLmVuZCA/IEhlKHQoYyksIGkgKiBnKSA6IG51bGwsIE4oInRpbWVGb3JtYXQiKSkpLAogICAgICAgICAgICAgICAgICAgIGggPSBnKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKGEsIHQpIHsKICAgICAgICAgICAgICAgICAgICB1KCJldmVudFJlc2l6ZVN0b3AiLCB0aGlzLCBjLCBhLCB0KSwKICAgICAgICAgICAgICAgICAgICBnID8gSSh0aGlzLCBjLCAwLCBpICogZywgYSwgdCkgOiBxKGMsIGUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIHZhciBvID0gdGhpczsKICAgICAgICBvLnJlbmRlckV2ZW50cyA9IGZ1bmN0aW9uKHQsIGEpIHsKICAgICAgICAgICAgdmFyIG4sIHIgPSB0Lmxlbmd0aCwgbyA9IFtdLCBsID0gW107CiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCByOyBuKyspCiAgICAgICAgICAgICAgICB0W25dLmFsbERheSA/IG8ucHVzaCh0W25dKSA6IGwucHVzaCh0W25dKTsKICAgICAgICAgICAgTigiYWxsRGF5U2xvdCIpICYmIChWKG8sIGEpLAogICAgICAgICAgICBwKCkpLAogICAgICAgICAgICBlKGkobCksIGEpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBvLmNsZWFyRXZlbnRzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGYoKS5lbXB0eSgpLAogICAgICAgICAgICB4KCkuZW1wdHkoKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgby5zbG90U2VnSHRtbCA9IEMsCiAgICAgICAgYWUuY2FsbChvKTsKICAgICAgICB2YXIgTiA9IG8ub3B0CiAgICAgICAgICAsIHUgPSBvLnRyaWdnZXIKICAgICAgICAgICwgZCA9IG8uaXNFdmVudERyYWdnYWJsZQogICAgICAgICAgLCBjID0gby5pc0V2ZW50UmVzaXphYmxlCiAgICAgICAgICAsIHQgPSBvLmV2ZW50RW5kCiAgICAgICAgICAsIGcgPSBvLmV2ZW50RWxlbWVudEhhbmRsZXJzCiAgICAgICAgICAsIHAgPSBvLnNldEhlaWdodAogICAgICAgICAgLCBmID0gby5nZXREYXlTZWdtZW50Q29udGFpbmVyCiAgICAgICAgICAsIHggPSBvLmdldFNsb3RTZWdtZW50Q29udGFpbmVyCiAgICAgICAgICAsIHcgPSBvLmdldEhvdmVyTGlzdGVuZXIKICAgICAgICAgICwgRSA9IG8uZ2V0TWF4TWludXRlCiAgICAgICAgICAsIE0gPSBvLmdldE1pbk1pbnV0ZQogICAgICAgICAgLCBrID0gby50aW1lUG9zaXRpb24KICAgICAgICAgICwgbSA9IG8uZ2V0SXNDZWxsQWxsRGF5CiAgICAgICAgICAsIEggPSBvLmNvbENvbnRlbnRMZWZ0CiAgICAgICAgICAsIHogPSBvLmNvbENvbnRlbnRSaWdodAogICAgICAgICAgLCBUID0gby5jZWxsVG9EYXRlCiAgICAgICAgICAsIFIgPSBvLmdldENvbENudAogICAgICAgICAgLCBPID0gby5nZXRDb2xXaWR0aAogICAgICAgICAgLCBBID0gby5nZXRTbmFwSGVpZ2h0CiAgICAgICAgICAsIEwgPSBvLmdldFNuYXBNaW51dGVzCiAgICAgICAgICAsIF8gPSBvLmdldFNsb3RDb250YWluZXIKICAgICAgICAgICwgUCA9IG8ucmVwb3J0RXZlbnRFbGVtZW50CiAgICAgICAgICAsIHEgPSBvLnNob3dFdmVudHMKICAgICAgICAgICwgQiA9IG8uaGlkZUV2ZW50cwogICAgICAgICAgLCBqID0gby5ldmVudERyb3AKICAgICAgICAgICwgSSA9IG8uZXZlbnRSZXNpemUKICAgICAgICAgICwgWCA9IG8ucmVuZGVyRGF5T3ZlcmxheQogICAgICAgICAgLCBKID0gby5jbGVhck92ZXJsYXlzCiAgICAgICAgICAsIFYgPSBvLnJlbmRlckRheUV2ZW50cwogICAgICAgICAgLCBVID0gby5jYWxlbmRhcgogICAgICAgICAgLCBHID0gVS5mb3JtYXREYXRlCiAgICAgICAgICAsIFogPSBVLmZvcm1hdERhdGVzOwogICAgICAgIG8uZHJhZ2dhYmxlRGF5RXZlbnQgPSBmdW5jdGlvbihvLCBlLCB0KSB7CiAgICAgICAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgICAgICAgICBkIHx8IChlLndpZHRoKHMpLmhlaWdodCgiIikuZHJhZ2dhYmxlKCJvcHRpb24iLCAiZ3JpZCIsIG51bGwpLAogICAgICAgICAgICAgICAgZCA9ICEwKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBzLCBELCBDLCBFID0gdC5pc1N0YXJ0LCBkID0gITAsIHYgPSB3KCksIFMgPSBPKCksIHAgPSBBKCksIGYgPSBMKCksIGcgPSBNKCk7CiAgICAgICAgICAgIGUuZHJhZ2dhYmxlKHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IE4oImRyYWdPcGFjaXR5IiwgIm1vbnRoIiksCiAgICAgICAgICAgICAgICByZXZlcnREdXJhdGlvbjogTigiZHJhZ1JldmVydER1cmF0aW9uIiksCiAgICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24odCwgbikgewogICAgICAgICAgICAgICAgICAgIHUoImV2ZW50RHJhZ1N0YXJ0IiwgZSwgbywgdCwgbiksCiAgICAgICAgICAgICAgICAgICAgQihvLCBlKSwKICAgICAgICAgICAgICAgICAgICBzID0gZS53aWR0aCgpLAogICAgICAgICAgICAgICAgICAgIHYuc3RhcnQoZnVuY3Rpb24odCwgcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoSigpLAogICAgICAgICAgICAgICAgICAgICAgICB0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEID0gITE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFQoMCwgcy5jb2wpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgciA9IFQoMCwgdC5jb2wpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgQyA9IGgociwgbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnJvdyA/IEUgPyBkICYmIChlLndpZHRoKFMgLSAxMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiKGUsIHAgKiBNYXRoLnJvdW5kKChvLmVuZCA/IChvLmVuZCAtIG8uc3RhcnQpIC8gNmU0IDogTigiZGVmYXVsdEV2ZW50TWludXRlcyIpKSAvIGYpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZHJhZ2dhYmxlKCJvcHRpb24iLCAiZ3JpZCIsIFtTLCAxXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gITEpIDogRCA9ICEwIDogKFgoa2UoemUoby5zdGFydCksIEMpLCBrZSh5KG8pLCBDKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhKCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRCA9IEQgfHwgZCAmJiAhQwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEQgPSAhMDsKICAgICAgICAgICAgICAgICAgICAgICAgZS5kcmFnZ2FibGUoIm9wdGlvbiIsICJyZXZlcnQiLCBEKQogICAgICAgICAgICAgICAgICAgIH0sIHQsICJkcmFnIikKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbihzLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHYuc3RvcCgpLAogICAgICAgICAgICAgICAgICAgIEooKSwKICAgICAgICAgICAgICAgICAgICB1KCJldmVudERyYWdTdG9wIiwgZSwgbywgcywgdCksCiAgICAgICAgICAgICAgICAgICAgRCkKICAgICAgICAgICAgICAgICAgICAgICAgYSgpLAogICAgICAgICAgICAgICAgICAgICAgICBlLmNzcygiZmlsdGVyIiwgIiIpLAogICAgICAgICAgICAgICAgICAgICAgICBxKG8sIGUpOwogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGQgfHwgKG4gPSBNYXRoLnJvdW5kKChlLm9mZnNldCgpLnRvcCAtIF8oKS5vZmZzZXQoKS50b3ApIC8gcCkgKiBmICsgZyAtICg2MCAqIG8uc3RhcnQuZ2V0SG91cnMoKSArIG8uc3RhcnQuZ2V0TWludXRlcygpKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGoodGhpcywgbywgQywgbiwgZCwgcywgdCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gWShzKSB7CiAgICAgICAgdmFyIGUsIHIgPSBCKHMpLCBhID0gclswXTsKICAgICAgICBpZiAoSShyKSwKICAgICAgICBhKSB7CiAgICAgICAgICAgIGZvciAoZSA9IDA7IGUgPCBhLmxlbmd0aDsgZSsrKQogICAgICAgICAgICAgICAgWChhW2VdKTsKICAgICAgICAgICAgZm9yIChlID0gMDsgZSA8IGEubGVuZ3RoOyBlKyspCiAgICAgICAgICAgICAgICBKKGFbZV0sIDAsIDApCiAgICAgICAgfQogICAgICAgIHJldHVybiBWKHIpCiAgICB9CiAgICBmdW5jdGlvbiBCKHIpIHsKICAgICAgICB2YXIgZSwgbywgbCwgaSA9IFtdOwogICAgICAgIGZvciAoZSA9IDA7IGUgPCByLmxlbmd0aDsgZSsrKSB7CiAgICAgICAgICAgIGZvciAobyA9IHJbZV0sCiAgICAgICAgICAgIGwgPSAwOyBsIDwgaS5sZW5ndGggJiYgISFVKG8sIGlbbF0pLmxlbmd0aDsgbCsrKQogICAgICAgICAgICAgICAgOwogICAgICAgICAgICAoaVtsXSB8fCAoaVtsXSA9IFtdKSkucHVzaChvKQogICAgICAgIH0KICAgICAgICByZXR1cm4gaQogICAgfQogICAgZnVuY3Rpb24gSShvKSB7CiAgICAgICAgdmFyIGUsIGwsIGksIGQsIGM7CiAgICAgICAgZm9yIChlID0gMDsgZSA8IG8ubGVuZ3RoOyBlKyspCiAgICAgICAgICAgIGZvciAobCA9IG9bZV0sCiAgICAgICAgICAgIGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIGZvciAoZCA9IGxbaV0sCiAgICAgICAgICAgICAgICBkLmZvcndhcmRTZWdzID0gW10sCiAgICAgICAgICAgICAgICBjID0gZSArIDE7IGMgPCBvLmxlbmd0aDsgYysrKQogICAgICAgICAgICAgICAgICAgIFUoZCwgb1tjXSwgZC5mb3J3YXJkU2VncykKICAgIH0KICAgIGZ1bmN0aW9uIFgocikgewogICAgICAgIHZhciBlLCBvLCBsID0gci5mb3J3YXJkU2VncywgbiA9IDA7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gci5mb3J3YXJkUHJlc3N1cmUpIHsKICAgICAgICAgICAgZm9yIChlID0gMDsgZSA8IGwubGVuZ3RoOyBlKyspCiAgICAgICAgICAgICAgICBvID0gbFtlXSwKICAgICAgICAgICAgICAgIFgobyksCiAgICAgICAgICAgICAgICBuID0gTWF0aC5tYXgobiwgMSArIG8uZm9yd2FyZFByZXNzdXJlKTsKICAgICAgICAgICAgci5mb3J3YXJkUHJlc3N1cmUgPSBuCiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gSihyLCBlLCB0KSB7CiAgICAgICAgdmFyIGEsIG8gPSByLmZvcndhcmRTZWdzOwogICAgICAgIGlmICh2b2lkIDAgPT09IHIuZm9yd2FyZENvb3JkKQogICAgICAgICAgICBmb3IgKG8ubGVuZ3RoID8gKG8uc29ydChaKSwKICAgICAgICAgICAgSihvWzBdLCBlICsgMSwgdCksCiAgICAgICAgICAgIHIuZm9yd2FyZENvb3JkID0gb1swXS5iYWNrd2FyZENvb3JkKSA6IHIuZm9yd2FyZENvb3JkID0gMSwKICAgICAgICAgICAgci5iYWNrd2FyZENvb3JkID0gci5mb3J3YXJkQ29vcmQgLSAoci5mb3J3YXJkQ29vcmQgLSB0KSAvIChlICsgMSksCiAgICAgICAgICAgIGEgPSAwOyBhIDwgby5sZW5ndGg7IGErKykKICAgICAgICAgICAgICAgIEoob1thXSwgMCwgci5mb3J3YXJkQ29vcmQpCiAgICB9CiAgICBmdW5jdGlvbiBWKHIpIHsKICAgICAgICB2YXIgZSwgbywgbCwgaSA9IFtdOwogICAgICAgIGZvciAoZSA9IDA7IGUgPCByLmxlbmd0aDsgZSsrKQogICAgICAgICAgICBmb3IgKG8gPSByW2VdLAogICAgICAgICAgICBsID0gMDsgbCA8IG8ubGVuZ3RoOyBsKyspCiAgICAgICAgICAgICAgICBpLnB1c2gob1tsXSk7CiAgICAgICAgcmV0dXJuIGkKICAgIH0KICAgIGZ1bmN0aW9uIFUocywgZSwgdCkgewogICAgICAgIHQgPSB0IHx8IFtdOwogICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykKICAgICAgICAgICAgRyhzLCBlW3JdKSAmJiB0LnB1c2goZVtyXSk7CiAgICAgICAgcmV0dXJuIHQKICAgIH0KICAgIGZ1bmN0aW9uIEcoYSwgZSkgewogICAgICAgIHJldHVybiBhLmVuZCA+IGUuc3RhcnQgJiYgYS5zdGFydCA8IGUuZW5kCiAgICB9CiAgICBmdW5jdGlvbiBaKGEsIGUpIHsKICAgICAgICByZXR1cm4gZS5mb3J3YXJkUHJlc3N1cmUgLSBhLmZvcndhcmRQcmVzc3VyZSB8fCAoYS5iYWNrd2FyZENvb3JkIHx8IDApIC0gKGUuYmFja3dhcmRDb29yZCB8fCAwKSB8fCBLKGEsIGUpCiAgICB9CiAgICBmdW5jdGlvbiBLKGEsIGUpIHsKICAgICAgICByZXR1cm4gYS5zdGFydCAtIGUuc3RhcnQgfHwgZS5lbmQgLSBlLnN0YXJ0IC0gKGEuZW5kIC0gYS5zdGFydCkgfHwgKGEuZXZlbnQudGl0bGUgfHwgIiIpLmxvY2FsZUNvbXBhcmUoZS5ldmVudC50aXRsZSkKICAgIH0KICAgIGZ1bmN0aW9uIHN0KGEsIG8sIGMpIHsKICAgICAgICBmdW5jdGlvbiBzKGEsIGUpIHsKICAgICAgICAgICAgdmFyIHQgPSBfW2FdOwogICAgICAgICAgICByZXR1cm4gU2UuaXNQbGFpbk9iamVjdCh0KSA/IE4odCwgZSB8fCBjKSA6IHQKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdShhLCBlKSB7CiAgICAgICAgICAgIHJldHVybiBvLnRyaWdnZXIuYXBwbHkobywgW2EsIGUgfHwgRV0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksIFtFXSkpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGUocykgewogICAgICAgICAgICB4ID0ge307CiAgICAgICAgICAgIHZhciBlLCByLCBvID0gcy5sZW5ndGg7CiAgICAgICAgICAgIGZvciAoZSA9IDA7IGUgPCBvOyBlKyspCiAgICAgICAgICAgICAgICByID0gc1tlXSwKICAgICAgICAgICAgICAgIHhbci5faWRdID8geFtyLl9pZF0ucHVzaChyKSA6IHhbci5faWRdID0gW3JdCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGkodCkgewogICAgICAgICAgICByZXR1cm4gdC5lbmQgPyB6ZSh0LmVuZCkgOiBTKHQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG4oYSwgZSkgewogICAgICAgICAgICBILnB1c2goewogICAgICAgICAgICAgICAgZXZlbnQ6IGEsCiAgICAgICAgICAgICAgICBlbGVtZW50OiBlCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBrW2EuX2lkXSA/IGtbYS5faWRdLnB1c2goZSkgOiBrW2EuX2lkXSA9IFtlXQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByKCkgewogICAgICAgICAgICBTZS5lYWNoKEgsIGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgICAgIEUudHJpZ2dlcigiZXZlbnREZXN0cm95IiwgZS5ldmVudCwgZS5ldmVudCwgZS5lbGVtZW50KQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKG8sIGUsIHQpIHsKICAgICAgICAgICAgdmFyIGEsIGwgPSBrW28uX2lkXSwgcyA9IGwubGVuZ3RoOwogICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgczsgYSsrKQogICAgICAgICAgICAgICAgZSAmJiBsW2FdWzBdID09IGVbMF0gfHwgbFthXVt0XSgpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGQoaSwgdCwgZSwgYSwgbiwgcywgcikgewogICAgICAgICAgICB2YXIgbyA9IHQuYWxsRGF5CiAgICAgICAgICAgICAgLCBsID0gdC5faWQ7CiAgICAgICAgICAgIHAoeFtsXSwgZSwgYSwgbiksCiAgICAgICAgICAgIHUoImV2ZW50RHJvcCIsIGksIHQsIGUsIGEsIG4sIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcCh4W2xdLCAtZSwgLWEsIG8pLAogICAgICAgICAgICAgICAgVChsKQogICAgICAgICAgICB9LCBzLCByKSwKICAgICAgICAgICAgVChsKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKGwsIHQsIGUsIGEsIG4sIHMpIHsKICAgICAgICAgICAgdmFyIHIgPSB0Ll9pZDsKICAgICAgICAgICAgZih4W3JdLCBlLCBhKSwKICAgICAgICAgICAgdSgiZXZlbnRSZXNpemUiLCBsLCB0LCBlLCBhLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGYoeFtyXSwgLWUsIC1hKSwKICAgICAgICAgICAgICAgIFQocikKICAgICAgICAgICAgfSwgbiwgcyksCiAgICAgICAgICAgIFQocikKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcChlLCB0LCBhLCBvKSB7CiAgICAgICAgICAgIGEgPSBhIHx8IDA7CiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSBlLmxlbmd0aCwgbCA9IDA7IGwgPCBpOyBsKyspCiAgICAgICAgICAgICAgICBzID0gZVtsXSwKICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbyAmJiAocy5hbGxEYXkgPSBvKSwKICAgICAgICAgICAgICAgIEhlKGtlKHMuc3RhcnQsIHQsICEwKSwgYSksCiAgICAgICAgICAgICAgICBzLmVuZCAmJiAocy5lbmQgPSBIZShrZShzLmVuZCwgdCwgITApLCBhKSksCiAgICAgICAgICAgICAgICBNKHMsIF8pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGYoZSwgdCwgYSkgewogICAgICAgICAgICBhID0gYSB8fCAwOwogICAgICAgICAgICBmb3IgKHZhciBvLCBkID0gZS5sZW5ndGgsIHIgPSAwOyByIDwgZDsgcisrKQogICAgICAgICAgICAgICAgbyA9IGVbcl0sCiAgICAgICAgICAgICAgICBvLmVuZCA9IEhlKGtlKGkobyksIHQsICEwKSwgYSksCiAgICAgICAgICAgICAgICBNKG8sIF8pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHYoKSB7CiAgICAgICAgICAgIHJldHVybiBGCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG0obywgbCkgewogICAgICAgICAgICB2YXIgaSA9IEUuZ2V0Q29sQ250KCkKICAgICAgICAgICAgICAsIGEgPSBZID8gLTEgOiAxCiAgICAgICAgICAgICAgLCBuID0gWSA/IGkgLSAxIDogMDsKICAgICAgICAgICAgIm9iamVjdCIgPT0gdHlwZW9mIG8gJiYgKGwgPSBvLmNvbCwKICAgICAgICAgICAgbyA9IG8ucm93KTsKICAgICAgICAgICAgdmFyIHMgPSBvICogaSArIChsICogYSArIG4pOwogICAgICAgICAgICByZXR1cm4gcwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB5KGEpIHsKICAgICAgICAgICAgdmFyIHMgPSBFLnZpc1N0YXJ0LmdldERheSgpOwogICAgICAgICAgICByZXR1cm4gYSArPSBBW3NdLAogICAgICAgICAgICA3ICogTWF0aC5mbG9vcihhIC8gRikgKyBxWyhhICUgRiArIEYpICUgRl0gLSBzCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGIoYSkgewogICAgICAgICAgICB2YXIgZSA9IHplKEUudmlzU3RhcnQpOwogICAgICAgICAgICByZXR1cm4ga2UoZSwgYSksCiAgICAgICAgICAgIGUKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gRCh0KSB7CiAgICAgICAgICAgIHJldHVybiBoKHQsIEUudmlzU3RhcnQpCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHcoYSkgewogICAgICAgICAgICB2YXIgcyA9IEUudmlzU3RhcnQuZ2V0RGF5KCk7CiAgICAgICAgICAgIHJldHVybiBhICs9IHMsCiAgICAgICAgICAgIE1hdGguZmxvb3IoYSAvIDcpICogRiArIEFbKGEgJSA3ICsgNykgJSA3XSAtIEFbc10KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gQyhyKSB7CiAgICAgICAgICAgIHZhciBlID0gRS5nZXRDb2xDbnQoKQogICAgICAgICAgICAgICwgdCA9IFkgPyAtMSA6IDEKICAgICAgICAgICAgICAsIGEgPSBZID8gZSAtIDEgOiAwCiAgICAgICAgICAgICAgLCBuID0gTWF0aC5mbG9vcihyIC8gZSk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IG4sCiAgICAgICAgICAgICAgICBjb2w6IChyICUgZSArIGUpICUgZSAqIHQgKyBhCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdmFyIEUgPSB0aGlzOwogICAgICAgIEUuZWxlbWVudCA9IGEsCiAgICAgICAgRS5jYWxlbmRhciA9IG8sCiAgICAgICAgRS5uYW1lID0gYywKICAgICAgICBFLm9wdCA9IHMsCiAgICAgICAgRS50cmlnZ2VyID0gdSwKICAgICAgICBFLmlzRXZlbnREcmFnZ2FibGUgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIHZhciBlID0gYS5zb3VyY2UgfHwge307CiAgICAgICAgICAgIHJldHVybiBMKGEuc3RhcnRFZGl0YWJsZSwgZS5zdGFydEVkaXRhYmxlLCBzKCJldmVudFN0YXJ0RWRpdGFibGUiKSwgYS5lZGl0YWJsZSwgZS5lZGl0YWJsZSwgcygiZWRpdGFibGUiKSkgJiYgIXMoImRpc2FibGVEcmFnZ2luZyIpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLmlzRXZlbnRSZXNpemFibGUgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIHZhciBlID0gYS5zb3VyY2UgfHwge307CiAgICAgICAgICAgIHJldHVybiBMKGEuZHVyYXRpb25FZGl0YWJsZSwgZS5kdXJhdGlvbkVkaXRhYmxlLCBzKCJldmVudER1cmF0aW9uRWRpdGFibGUiKSwgYS5lZGl0YWJsZSwgZS5lZGl0YWJsZSwgcygiZWRpdGFibGUiKSkgJiYgIXMoImRpc2FibGVSZXNpemluZyIpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLnNldEV2ZW50RGF0YSA9IGUsCiAgICAgICAgRS5jbGVhckV2ZW50RGF0YSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB4ID0ge30sCiAgICAgICAgICAgIGsgPSB7fSwKICAgICAgICAgICAgSCA9IFtdCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLmV2ZW50RW5kID0gaSwKICAgICAgICBFLnJlcG9ydEV2ZW50RWxlbWVudCA9IG4sCiAgICAgICAgRS50cmlnZ2VyRXZlbnREZXN0cm95ID0gciwKICAgICAgICBFLmV2ZW50RWxlbWVudEhhbmRsZXJzID0gZnVuY3Rpb24ocywgZSkgewogICAgICAgICAgICBlLmNsaWNrKGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgICAgIGlmICghZS5oYXNDbGFzcygidWktZHJhZ2dhYmxlLWRyYWdnaW5nIikgJiYgIWUuaGFzQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpKQogICAgICAgICAgICAgICAgICAgIHJldHVybiB1KCJldmVudENsaWNrIiwgdGhpcywgcywgdCkKICAgICAgICAgICAgfSkuaG92ZXIoZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgdSgiZXZlbnRNb3VzZW92ZXIiLCB0aGlzLCBzLCBlKQogICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB1KCJldmVudE1vdXNlb3V0IiwgdGhpcywgcywgZSkKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIEUuc2hvd0V2ZW50cyA9IGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgbChhLCBlLCAic2hvdyIpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLmhpZGVFdmVudHMgPSBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIGwoYSwgZSwgImhpZGUiKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgRS5ldmVudERyb3AgPSBkLAogICAgICAgIEUuZXZlbnRSZXNpemUgPSBnOwogICAgICAgIHZhciBTID0gRS5kZWZhdWx0RXZlbnRFbmQKICAgICAgICAgICwgTSA9IG8ubm9ybWFsaXplRXZlbnQKICAgICAgICAgICwgVCA9IG8ucmVwb3J0RXZlbnRDaGFuZ2UKICAgICAgICAgICwgeCA9IHt9CiAgICAgICAgICAsIGsgPSB7fQogICAgICAgICAgLCBIID0gW10KICAgICAgICAgICwgXyA9IG8ub3B0aW9uczsKICAgICAgICBFLmlzSGlkZGVuRGF5ID0gZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gIm9iamVjdCIgPT0gdHlwZW9mIHQgJiYgKHQgPSB0LmdldERheSgpKSwKICAgICAgICAgICAgT1t0XQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgRS5za2lwSGlkZGVuRGF5cyA9IGZ1bmN0aW9uKHMsIGUsIG4pIHsKICAgICAgICAgICAgZm9yIChlID0gZSB8fCAxOyBPWyhzLmdldERheSgpICsgKG4gPyBlIDogMCkgKyA3KSAlIDddOyApCiAgICAgICAgICAgICAgICBrZShzLCBlKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgRS5nZXRDZWxsc1BlcldlZWsgPSB2LAogICAgICAgIEUuZGF0ZVRvQ2VsbCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgICAgICAgdmFyIGUgPSBEKHMpCiAgICAgICAgICAgICAgLCB0ID0gdyhlKQogICAgICAgICAgICAgICwgYSA9IEModCk7CiAgICAgICAgICAgIHJldHVybiBhCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLmRhdGVUb0RheU9mZnNldCA9IEQsCiAgICAgICAgRS5kYXlPZmZzZXRUb0NlbGxPZmZzZXQgPSB3LAogICAgICAgIEUuY2VsbE9mZnNldFRvQ2VsbCA9IEMsCiAgICAgICAgRS5jZWxsVG9EYXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBzID0gbS5hcHBseShudWxsLCBhcmd1bWVudHMpCiAgICAgICAgICAgICAgLCBlID0geShzKQogICAgICAgICAgICAgICwgdCA9IGIoZSk7CiAgICAgICAgICAgIHJldHVybiB0CiAgICAgICAgfQogICAgICAgICwKICAgICAgICBFLmNlbGxUb0NlbGxPZmZzZXQgPSBtLAogICAgICAgIEUuY2VsbE9mZnNldFRvRGF5T2Zmc2V0ID0geSwKICAgICAgICBFLmRheU9mZnNldFRvRGF0ZSA9IGIsCiAgICAgICAgRS5yYW5nZVRvU2VnbWVudHMgPSBmdW5jdGlvbihiLCBlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHQgPSBFLmdldFJvd0NudCgpLCBhID0gRS5nZXRDb2xDbnQoKSwgbiA9IFtdLCBzID0gRChiKSwgciA9IEQoZSksIGkgPSB3KHMpLCBvID0gdyhyKSAtIDEsIGwgPSAwOyBsIDwgdDsgbCsrKSB7CiAgICAgICAgICAgICAgICB2YXIgUyA9IGwgKiBhCiAgICAgICAgICAgICAgICAgICwgYyA9IE1hdGgubWF4KGksIFMpCiAgICAgICAgICAgICAgICAgICwgZyA9IE1hdGgubWluKG8sIFMgKyBhIC0gMSk7CiAgICAgICAgICAgICAgICBpZiAoYyA8PSBnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBDKGMpCiAgICAgICAgICAgICAgICAgICAgICAsIHAgPSBDKGcpCiAgICAgICAgICAgICAgICAgICAgICAsIHUgPSBbaC5jb2wsIHAuY29sXS5zb3J0KCkKICAgICAgICAgICAgICAgICAgICAgICwgZiA9IHkoYykgPT0gcwogICAgICAgICAgICAgICAgICAgICAgLCB2ID0geShnKSArIDEgPT0gcjsKICAgICAgICAgICAgICAgICAgICBuLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICByb3c6IGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRDb2w6IHVbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29sOiB1WzFdLAogICAgICAgICAgICAgICAgICAgICAgICBpc1N0YXJ0OiBmLAogICAgICAgICAgICAgICAgICAgICAgICBpc0VuZDogdgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG4KICAgICAgICB9CiAgICAgICAgOwogICAgICAgIHZhciBGLCBQID0gcygiaGlkZGVuRGF5cyIpIHx8IFtdLCBPID0gW10sIEEgPSBbXSwgcSA9IFtdLCBZID0gcygiaXNSVEwiKTsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICExID09PSBzKCJ3ZWVrZW5kcyIpICYmIFAucHVzaCgwLCA2KTsKICAgICAgICAgICAgZm9yICh2YXIgYSA9IDAsIG4gPSAwOyA3ID4gYTsgYSsrKQogICAgICAgICAgICAgICAgQVthXSA9IG4sCiAgICAgICAgICAgICAgICBPW2FdID0gLTEgIT0gU2UuaW5BcnJheShhLCBQKSwKICAgICAgICAgICAgICAgIE9bYV0gfHwgKHFbbl0gPSBhLAogICAgICAgICAgICAgICAgbisrKTsKICAgICAgICAgICAgaWYgKEYgPSBuLAogICAgICAgICAgICAhRikKICAgICAgICAgICAgICAgIHRocm93ICJpbnZhbGlkIGhpZGRlbkRheXMiCiAgICAgICAgfQogICAgICAgICkoKQogICAgfQogICAgZnVuY3Rpb24gYWUoKSB7CiAgICAgICAgZnVuY3Rpb24gYShuLCBsLCB0KSB7CiAgICAgICAgICAgIHZhciBlID0gbyhbbl0sICEwLCAhMSkKICAgICAgICAgICAgICAsIGEgPSBbXTsKICAgICAgICAgICAgcmV0dXJuICQoZSwgZnVuY3Rpb24ocywgZSkgewogICAgICAgICAgICAgICAgcy5yb3cgPT09IGwgJiYgZS5jc3MoInRvcCIsIHQpLAogICAgICAgICAgICAgICAgYS5wdXNoKGVbMF0pCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBhCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG8oYSwgZSwgdCkgewogICAgICAgICAgICB2YXIgcywgbiwgZyA9IFgoKSwgZCA9IGUgPyBTZSgiPGRpdi8+IikgOiBnLCBoID0gdShhKTsKICAgICAgICAgICAgcmV0dXJuIEMoaCksCiAgICAgICAgICAgIHMgPSBpKGgpLAogICAgICAgICAgICBkWzBdLmlubmVySFRNTCA9IHMsCiAgICAgICAgICAgIG4gPSBkLmNoaWxkcmVuKCksCiAgICAgICAgICAgIGUgJiYgZy5hcHBlbmQobiksCiAgICAgICAgICAgIGwoaCwgbiksCiAgICAgICAgICAgICQoaCwgZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICAgICAgYS5oc2lkZXMgPSBEKGUsICEwKQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgJChoLCBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgICAgICBlLndpZHRoKE1hdGgubWF4KDAsIGEub3V0ZXJXaWR0aCAtIGEuaHNpZGVzKSkKICAgICAgICAgICAgfSksCiAgICAgICAgICAgICQoaCwgZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICAgICAgYS5vdXRlckhlaWdodCA9IGUub3V0ZXJIZWlnaHQoITApCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBjKGgsIHQpLAogICAgICAgICAgICBoCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHUocikgewogICAgICAgICAgICBmb3IgKHZhciBlLCBvID0gW10sIGEgPSAwOyBhIDwgci5sZW5ndGg7IGErKykKICAgICAgICAgICAgICAgIGUgPSBzKHJbYV0pLAogICAgICAgICAgICAgICAgby5wdXNoLmFwcGx5KG8sIGUpOwogICAgICAgICAgICByZXR1cm4gbwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzKHIpIHsKICAgICAgICAgICAgZm9yICh2YXIgZSA9IHIuc3RhcnQsIHQgPSB5KHIpLCBhID0gSyhlLCB0KSwgbiA9IDA7IG4gPCBhLmxlbmd0aDsgbisrKQogICAgICAgICAgICAgICAgYVtuXS5ldmVudCA9IHI7CiAgICAgICAgICAgIHJldHVybiBhCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEModCkgewogICAgICAgICAgICBmb3IgKHZhciBlID0gdygiaXNSVEwiKSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IHRbYV0KICAgICAgICAgICAgICAgICAgLCBzID0gKGUgPyBpLmlzRW5kIDogaS5pc1N0YXJ0KSA/IFkgOiBfCiAgICAgICAgICAgICAgICAgICwgciA9IChlID8gaS5pc1N0YXJ0IDogaS5pc0VuZCkgPyBCIDogcQogICAgICAgICAgICAgICAgICAsIG8gPSBzKGkubGVmdENvbCkKICAgICAgICAgICAgICAgICAgLCBsID0gcihpLnJpZ2h0Q29sKTsKICAgICAgICAgICAgICAgIGkubGVmdCA9IG8sCiAgICAgICAgICAgICAgICBpLm91dGVyV2lkdGggPSBsIC0gbwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGkocykgewogICAgICAgICAgICBmb3IgKHZhciBlID0gIiIsIHIgPSAwOyByIDwgcy5sZW5ndGg7IHIrKykKICAgICAgICAgICAgICAgIGUgKz0gbihzW3JdKTsKICAgICAgICAgICAgcmV0dXJuIGUKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbih0KSB7CiAgICAgICAgICAgIHZhciBlID0gIiIKICAgICAgICAgICAgICAsIGwgPSB3KCJpc1JUTCIpCiAgICAgICAgICAgICAgLCBuID0gdC5ldmVudAogICAgICAgICAgICAgICwgcyA9IG4udXJsCiAgICAgICAgICAgICAgLCByID0gWyJmYy1ldmVudCIsICJmYy1ldmVudC1ob3JpIl07CiAgICAgICAgICAgIEUobikgJiYgci5wdXNoKCJmYy1ldmVudC1kcmFnZ2FibGUiKSwKICAgICAgICAgICAgdC5pc1N0YXJ0ICYmIHIucHVzaCgiZmMtZXZlbnQtc3RhcnQiKSwKICAgICAgICAgICAgdC5pc0VuZCAmJiByLnB1c2goImZjLWV2ZW50LWVuZCIpLAogICAgICAgICAgICByID0gci5jb25jYXQobi5jbGFzc05hbWUpLAogICAgICAgICAgICBuLnNvdXJjZSAmJiAociA9IHIuY29uY2F0KG4uc291cmNlLmNsYXNzTmFtZSB8fCBbXSkpOwogICAgICAgICAgICB2YXIgZCA9IFcobiwgdyk7CiAgICAgICAgICAgIHJldHVybiBlICs9IHMgPyAiPGEgaHJlZj0nIiArIEYocykgKyAiJyIgOiAiPGRpdiIsCiAgICAgICAgICAgIGUgKz0gIiBjbGFzcz0nIiArIHIuam9pbigiICIpICsgIicgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6IiArIHQubGVmdCArICJweDsiICsgZCArICInPjxkaXYgY2xhc3M9J2ZjLWV2ZW50LWlubmVyJz4iLAogICAgICAgICAgICAhbi5hbGxEYXkgJiYgdC5pc1N0YXJ0ICYmIChlICs9ICI8c3BhbiBjbGFzcz0nZmMtZXZlbnQtdGltZSc+IiArIEYoSihuLnN0YXJ0LCBuLmVuZCwgdygidGltZUZvcm1hdCIpKSkgKyAiPC9zcGFuPiIpLAogICAgICAgICAgICBlICs9ICI8c3BhbiBjbGFzcz0nZmMtZXZlbnQtdGl0bGUnPiIgKyBGKG4udGl0bGUgfHwgIiIpICsgIjwvc3Bhbj48L2Rpdj4iLAogICAgICAgICAgICB0LmlzRW5kICYmIE0obikgJiYgKGUgKz0gIjxkaXYgY2xhc3M9J3VpLXJlc2l6YWJsZS1oYW5kbGUgdWktcmVzaXphYmxlLSIgKyAobCA/ICJ3IiA6ICJlIikgKyAiJz4mbmJzcDsmbmJzcDsmbmJzcDs8L2Rpdj4iKSwKICAgICAgICAgICAgZSArPSAiPC8iICsgKHMgPyAiYSIgOiAiZGl2IikgKyAiPiIsCiAgICAgICAgICAgIGUKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbChhLCBlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgYS5sZW5ndGg7IHQrKykgewogICAgICAgICAgICAgICAgdmFyIGkgPSBhW3RdCiAgICAgICAgICAgICAgICAgICwgcyA9IGkuZXZlbnQKICAgICAgICAgICAgICAgICAgLCByID0gZS5lcSh0KQogICAgICAgICAgICAgICAgICAsIGQgPSBTKCJldmVudFJlbmRlciIsIHMsIHMsIHIpOwogICAgICAgICAgICAgICAgITEgPT09IGQgPyByLnJlbW92ZSgpIDogKGQgJiYgITAgIT09IGQgJiYgKGQgPSBTZShkKS5jc3MoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6IGkubGVmdAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICByLnJlcGxhY2VXaXRoKGQpLAogICAgICAgICAgICAgICAgciA9IGQpLAogICAgICAgICAgICAgICAgaS5lbGVtZW50ID0gcikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjKG8sIGUpIHsKICAgICAgICAgICAgdmFyIHQgPSBkKG8pCiAgICAgICAgICAgICAgLCBhID0gcCgpCiAgICAgICAgICAgICAgLCBuID0gW107CiAgICAgICAgICAgIGlmIChlKQogICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKQogICAgICAgICAgICAgICAgICAgIGFbc10uaGVpZ2h0KHRbc10pOwogICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGEubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICBuLnB1c2goYVtzXS5wb3NpdGlvbigpLnRvcCk7CiAgICAgICAgICAgICQobywgZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICAgICAgZS5jc3MoInRvcCIsIG5bYS5yb3ddICsgYS50b3ApCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGQoaCkgewogICAgICAgICAgICBmb3IgKHZhciBlID0gTCgpLCB0ID0gTygpLCBhID0gW10sIG4gPSBnKGgpLCBzID0gMDsgcyA8IGU7IHMrKykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IG5bc10sIGkgPSBbXSwgbyA9IDA7IG8gPCB0OyBvKyspCiAgICAgICAgICAgICAgICAgICAgaS5wdXNoKDApOwogICAgICAgICAgICAgICAgZm9yICh2YXIgdSwgZiA9IDA7IGYgPCBwLmxlbmd0aDsgZisrKSB7CiAgICAgICAgICAgICAgICAgICAgdSA9IHBbZl0sCiAgICAgICAgICAgICAgICAgICAgdS50b3AgPSBSKGkuc2xpY2UodS5sZWZ0Q29sLCB1LnJpZ2h0Q29sICsgMSkpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG8gPSB1LmxlZnRDb2w7IG8gPD0gdS5yaWdodENvbDsgbysrKQogICAgICAgICAgICAgICAgICAgICAgICBpW29dID0gdS50b3AgKyB1Lm91dGVySGVpZ2h0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhLnB1c2goUihpKSkKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKG8pIHsKICAgICAgICAgICAgdmFyIGwsIGksIGQsIGMgPSBMKCksIHMgPSBbXTsKICAgICAgICAgICAgZm9yIChsID0gMDsgbCA8IG8ubGVuZ3RoOyBsKyspCiAgICAgICAgICAgICAgICBpID0gb1tsXSwKICAgICAgICAgICAgICAgIGQgPSBpLnJvdywKICAgICAgICAgICAgICAgIGkuZWxlbWVudCAmJiAoc1tkXSA/IHNbZF0ucHVzaChpKSA6IHNbZF0gPSBbaV0pOwogICAgICAgICAgICBmb3IgKGQgPSAwOyBkIDwgYzsgZCsrKQogICAgICAgICAgICAgICAgc1tkXSA9IGUoc1tkXSB8fCBbXSk7CiAgICAgICAgICAgIHJldHVybiBzCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGUocykgewogICAgICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSByKHMpLCBhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspCiAgICAgICAgICAgICAgICBlLnB1c2guYXBwbHkoZSwgdFthXSk7CiAgICAgICAgICAgIHJldHVybiBlCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHIocikgewogICAgICAgICAgICByLnNvcnQoZWUpOwogICAgICAgICAgICBmb3IgKHZhciBlLCBvID0gW10sIGEgPSAwOyBhIDwgci5sZW5ndGg7IGErKykgewogICAgICAgICAgICAgICAgZSA9IHJbYV07CiAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IG8ubGVuZ3RoICYmICEhUShlLCBvW2xdKTsgbCsrKQogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgIG9bbF0gPyBvW2xdLnB1c2goZSkgOiBvW2xdID0gW2VdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG8KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgICAgdmFyIHMsIG4gPSBMKCksIHQgPSBbXTsKICAgICAgICAgICAgZm9yIChzID0gMDsgcyA8IG47IHMrKykKICAgICAgICAgICAgICAgIHRbc10gPSBQKHMpLmZpbmQoImRpdi5mYy1kYXktY29udGVudCA+IGRpdiIpOwogICAgICAgICAgICByZXR1cm4gdAogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBmKHMsIHIpIHsKICAgICAgICAgICAgdmFyIGUgPSBYKCk7CiAgICAgICAgICAgICQocywgZnVuY3Rpb24odCwgZSwgYSkgewogICAgICAgICAgICAgICAgdmFyIG4gPSB0LmV2ZW50OwogICAgICAgICAgICAgICAgbi5faWQgPT09IHIgPyBtKG4sIGUsIHQpIDogZVswXS5fZmNpID0gYQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgdihlLCBzLCBtKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtKHMsIGUsIHQpIHsKICAgICAgICAgICAgRShzKSAmJiBiLmRyYWdnYWJsZURheUV2ZW50KHMsIGUsIHQpLAogICAgICAgICAgICB0LmlzRW5kICYmIE0ocykgJiYgYi5yZXNpemFibGVEYXlFdmVudChzLCBlLCB0KSwKICAgICAgICAgICAgeChzLCBlKQogICAgICAgIH0KICAgICAgICB2YXIgYiA9IHRoaXM7CiAgICAgICAgYi5yZW5kZXJEYXlFdmVudHMgPSBmdW5jdGlvbihzLCBlKSB7CiAgICAgICAgICAgIHZhciB0ID0gbyhzLCAhMSwgITApOwogICAgICAgICAgICAkKHQsIGZ1bmN0aW9uKGEsIGUpIHsKICAgICAgICAgICAgICAgIFQoYS5ldmVudCwgZSkKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGYodCwgZSksCiAgICAgICAgICAgICQodCwgZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICAgICAgUygiZXZlbnRBZnRlclJlbmRlciIsIGEuZXZlbnQsIGEuZXZlbnQsIGUpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBiLmRyYWdnYWJsZURheUV2ZW50ID0gZnVuY3Rpb24obywgZSkgewogICAgICAgICAgICB2YXIgYSwgbCA9IFooKTsKICAgICAgICAgICAgZS5kcmFnZ2FibGUoewogICAgICAgICAgICAgICAgZGVsYXk6IDUwLAogICAgICAgICAgICAgICAgb3BhY2l0eTogdygiZHJhZ09wYWNpdHkiKSwKICAgICAgICAgICAgICAgIHJldmVydER1cmF0aW9uOiB3KCJkcmFnUmV2ZXJ0RHVyYXRpb24iKSwKICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbihzLCB0KSB7CiAgICAgICAgICAgICAgICAgICAgUygiZXZlbnREcmFnU3RhcnQiLCBlLCBvLCBzLCB0KSwKICAgICAgICAgICAgICAgICAgICBIKG8sIGUpLAogICAgICAgICAgICAgICAgICAgIGwuc3RhcnQoZnVuY3Rpb24obiwgdCwgcywgcikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kcmFnZ2FibGUoIm9wdGlvbiIsICJyZXZlcnQiLCAhbiB8fCAhcyAmJiAhciksCiAgICAgICAgICAgICAgICAgICAgICAgIFUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBvZSh0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGwgPSBvZShuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBoKGwsIGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgVihrZSh6ZShvLnN0YXJ0KSwgYSksIGtlKHkobyksIGEpKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSAwCiAgICAgICAgICAgICAgICAgICAgfSwgcywgImRyYWciKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKHMsIHQpIHsKICAgICAgICAgICAgICAgICAgICBsLnN0b3AoKSwKICAgICAgICAgICAgICAgICAgICBVKCksCiAgICAgICAgICAgICAgICAgICAgUygiZXZlbnREcmFnU3RvcCIsIGUsIG8sIHMsIHQpLAogICAgICAgICAgICAgICAgICAgIGEgPyB6KHRoaXMsIG8sIGEsIDAsIG8uYWxsRGF5LCBzLCB0KSA6IChlLmNzcygiZmlsdGVyIiwgIiIpLAogICAgICAgICAgICAgICAgICAgIGsobywgZSkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBiLnJlc2l6YWJsZURheUV2ZW50ID0gZnVuY3Rpb24obywgZSwgcykgewogICAgICAgICAgICB2YXIgbiA9IHcoImlzUlRMIikKICAgICAgICAgICAgICAsIHIgPSBuID8gInciIDogImUiCiAgICAgICAgICAgICAgLCBsID0gZS5maW5kKCIudWktcmVzaXphYmxlLSIgKyByKQogICAgICAgICAgICAgICwgcCA9ICExOwogICAgICAgICAgICBqKGUpLAogICAgICAgICAgICBlLm1vdXNlZG93bihmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICB0LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgfSkuY2xpY2soZnVuY3Rpb24odCkgewogICAgICAgICAgICAgICAgcCAmJiAodC5wcmV2ZW50RGVmYXVsdCgpLAogICAgICAgICAgICAgICAgdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGwubW91c2Vkb3duKGZ1bmN0aW9uKG4pIHsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwodCkgewogICAgICAgICAgICAgICAgICAgIFMoImV2ZW50UmVzaXplU3RvcCIsIHRoaXMsIG8sIHQpLAogICAgICAgICAgICAgICAgICAgIFNlKCJib2R5IikuY3NzKCJjdXJzb3IiLCAiIiksCiAgICAgICAgICAgICAgICAgICAgaS5zdG9wKCksCiAgICAgICAgICAgICAgICAgICAgVSgpLAogICAgICAgICAgICAgICAgICAgIGIgJiYgTih0aGlzLCBvLCBiLCAwLCB0KSwKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBwID0gITEKICAgICAgICAgICAgICAgICAgICB9LCAwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKDEgPT0gbi53aGljaCkgewogICAgICAgICAgICAgICAgICAgIHAgPSAhMDsKICAgICAgICAgICAgICAgICAgICB2YXIgYiwgRCwgaSA9IFooKSwgYyA9IEwoKSwgaCA9IE8oKSwgdSA9IGUuY3NzKCJ0b3AiKSwgZiA9IFNlLmV4dGVuZCh7fSwgbyksIHYgPSBzZShuZShvLnN0YXJ0KSk7CiAgICAgICAgICAgICAgICAgICAgRygpLAogICAgICAgICAgICAgICAgICAgIFNlKCJib2R5IikuY3NzKCJjdXJzb3IiLCByICsgIi1yZXNpemUiKS5vbmUoIm1vdXNldXAiLCBsKSwKICAgICAgICAgICAgICAgICAgICBTKCJldmVudFJlc2l6ZVN0YXJ0IiwgdGhpcywgbywgbiksCiAgICAgICAgICAgICAgICAgICAgaS5zdGFydChmdW5jdGlvbihlLCBuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IHRlKG4pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaSA9IHRlKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPSBNYXRoLm1heChpLCB2KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBhZShpKSAtIGFlKGwpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYuZW5kID0ga2UodChvKSwgYiwgITApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gRDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEID0gYShmLCBzLnJvdywgdSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRCA9IFNlKEQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEQuZmluZCgiKiIpLmNzcygiY3Vyc29yIiwgciArICItcmVzaXplIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCAmJiBkLnJlbW92ZSgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEgobykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEQgJiYgKGsobyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRC5yZW1vdmUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEID0gbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBWKG8uc3RhcnQsIGtlKHkobyksIGIpKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgOwogICAgICAgIHZhciB3ID0gYi5vcHQKICAgICAgICAgICwgUyA9IGIudHJpZ2dlcgogICAgICAgICAgLCBFID0gYi5pc0V2ZW50RHJhZ2dhYmxlCiAgICAgICAgICAsIE0gPSBiLmlzRXZlbnRSZXNpemFibGUKICAgICAgICAgICwgdCA9IGIuZXZlbnRFbmQKICAgICAgICAgICwgVCA9IGIucmVwb3J0RXZlbnRFbGVtZW50CiAgICAgICAgICAsIHggPSBiLmV2ZW50RWxlbWVudEhhbmRsZXJzCiAgICAgICAgICAsIGsgPSBiLnNob3dFdmVudHMKICAgICAgICAgICwgSCA9IGIuaGlkZUV2ZW50cwogICAgICAgICAgLCB6ID0gYi5ldmVudERyb3AKICAgICAgICAgICwgTiA9IGIuZXZlbnRSZXNpemUKICAgICAgICAgICwgTCA9IGIuZ2V0Um93Q250CiAgICAgICAgICAsIE8gPSBiLmdldENvbENudAogICAgICAgICAgLCBBID0gYi5nZXRDb2xXaWR0aAogICAgICAgICAgLCBQID0gYi5hbGxEYXlSb3cKICAgICAgICAgICwgXyA9IGIuY29sTGVmdAogICAgICAgICAgLCBxID0gYi5jb2xSaWdodAogICAgICAgICAgLCBZID0gYi5jb2xDb250ZW50TGVmdAogICAgICAgICAgLCBCID0gYi5jb2xDb250ZW50UmlnaHQKICAgICAgICAgICwgSSA9IGIuZGF0ZVRvQ2VsbAogICAgICAgICAgLCBYID0gYi5nZXREYXlTZWdtZW50Q29udGFpbmVyCiAgICAgICAgICAsIEogPSBiLmNhbGVuZGFyLmZvcm1hdERhdGVzCiAgICAgICAgICAsIFYgPSBiLnJlbmRlckRheU92ZXJsYXkKICAgICAgICAgICwgVSA9IGIuY2xlYXJPdmVybGF5cwogICAgICAgICAgLCBHID0gYi5jbGVhclNlbGVjdGlvbgogICAgICAgICAgLCBaID0gYi5nZXRIb3Zlckxpc3RlbmVyCiAgICAgICAgICAsIEsgPSBiLnJhbmdlVG9TZWdtZW50cwogICAgICAgICAgLCBvZSA9IGIuY2VsbFRvRGF0ZQogICAgICAgICAgLCB0ZSA9IGIuY2VsbFRvQ2VsbE9mZnNldAogICAgICAgICAgLCBhZSA9IGIuY2VsbE9mZnNldFRvRGF5T2Zmc2V0CiAgICAgICAgICAsIG5lID0gYi5kYXRlVG9EYXlPZmZzZXQKICAgICAgICAgICwgc2UgPSBiLmRheU9mZnNldFRvQ2VsbE9mZnNldAogICAgfQogICAgZnVuY3Rpb24gUShzLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdCwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKQogICAgICAgICAgICBpZiAodCA9IGVbcl0sCiAgICAgICAgICAgIHQubGVmdENvbCA8PSBzLnJpZ2h0Q29sICYmIHQucmlnaHRDb2wgPj0gcy5sZWZ0Q29sKQogICAgICAgICAgICAgICAgcmV0dXJuICEwOwogICAgICAgIHJldHVybiAhMQogICAgfQogICAgZnVuY3Rpb24gJChyLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgIHZhciBvID0gclt0XQogICAgICAgICAgICAgICwgbiA9IG8uZWxlbWVudDsKICAgICAgICAgICAgbiAmJiBlKG8sIG4sIHQpCiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZWUoYSwgZSkgewogICAgICAgIHJldHVybiBlLnJpZ2h0Q29sIC0gZS5sZWZ0Q29sIC0gKGEucmlnaHRDb2wgLSBhLmxlZnRDb2wpIHx8IGUuZXZlbnQuYWxsRGF5IC0gYS5ldmVudC5hbGxEYXkgfHwgYS5ldmVudC5zdGFydCAtIGUuZXZlbnQuc3RhcnQgfHwgKGEuZXZlbnQudGl0bGUgfHwgIiIpLmxvY2FsZUNvbXBhcmUoZS5ldmVudC50aXRsZSkKICAgIH0KICAgIGZ1bmN0aW9uIGllKCkgewogICAgICAgIGZ1bmN0aW9uIHAodCkgewogICAgICAgICAgICBsICYmIChsID0gITEsCiAgICAgICAgICAgIG8oKSwKICAgICAgICAgICAgcygidW5zZWxlY3QiLCBudWxsLCB0KSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdShyLCBlLCB0LCBhKSB7CiAgICAgICAgICAgIGwgPSAhMCwKICAgICAgICAgICAgcygic2VsZWN0IiwgbnVsbCwgciwgZSwgdCwgYSkKICAgICAgICB9CiAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgIGUuc2VsZWN0ID0gZnVuY3Rpb24oZSwgdCwgbykgewogICAgICAgICAgICBwKCksCiAgICAgICAgICAgIHQgfHwgKHQgPSBuKGUsIG8pKSwKICAgICAgICAgICAgcihlLCB0LCBvKSwKICAgICAgICAgICAgdShlLCB0LCBvKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgZS51bnNlbGVjdCA9IHAsCiAgICAgICAgZS5yZXBvcnRTZWxlY3Rpb24gPSB1LAogICAgICAgIGUuZGF5U2VsZWN0aW9uTW91c2Vkb3duID0gZnVuY3Rpb24odCkgewogICAgICAgICAgICB2YXIgcyA9IGUuY2VsbFRvRGF0ZQogICAgICAgICAgICAgICwgbiA9IGUuZ2V0SXNDZWxsQWxsRGF5CiAgICAgICAgICAgICAgLCBsID0gZS5nZXRIb3Zlckxpc3RlbmVyKCkKICAgICAgICAgICAgICAsIGkgPSBlLnJlcG9ydERheUNsaWNrOwogICAgICAgICAgICBpZiAoMSA9PSB0LndoaWNoICYmIGEoInNlbGVjdGFibGUiKSkgewogICAgICAgICAgICAgICAgcCh0KTsKICAgICAgICAgICAgICAgIHZhciBkLCBjID0gdGhpczsKICAgICAgICAgICAgICAgIGwuc3RhcnQoZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICAgICAgICAgIG8oKSwKICAgICAgICAgICAgICAgICAgICBhICYmIG4oYSkgPyAoZCA9IFtzKGUpLCBzKGEpXS5zb3J0KGspLAogICAgICAgICAgICAgICAgICAgIHIoZFswXSwgZFsxXSwgITApKSA6IGQgPSBudWxsCiAgICAgICAgICAgICAgICB9LCB0KSwKICAgICAgICAgICAgICAgIFNlKGRvY3VtZW50KS5vbmUoIm1vdXNldXAiLCBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICAgICAgbC5zdG9wKCksCiAgICAgICAgICAgICAgICAgICAgZCAmJiAoK2RbMF0gPT0gK2RbMV0gJiYgaShkWzBdLCAhMCwgdCksCiAgICAgICAgICAgICAgICAgICAgdShkWzBdLCBkWzFdLCAhMCwgdCkpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIDsKICAgICAgICB2YXIgYSA9IGUub3B0CiAgICAgICAgICAsIHMgPSBlLnRyaWdnZXIKICAgICAgICAgICwgbiA9IGUuZGVmYXVsdFNlbGVjdGlvbkVuZAogICAgICAgICAgLCByID0gZS5yZW5kZXJTZWxlY3Rpb24KICAgICAgICAgICwgbyA9IGUuY2xlYXJTZWxlY3Rpb24KICAgICAgICAgICwgbCA9ICExOwogICAgICAgIGEoInNlbGVjdGFibGUiKSAmJiBhKCJ1bnNlbGVjdEF1dG8iKSAmJiBTZShkb2N1bWVudCkubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdmFyIHQgPSBhKCJ1bnNlbGVjdENhbmNlbCIpOwogICAgICAgICAgICB0ICYmIFNlKGUudGFyZ2V0KS5wYXJlbnRzKHQpLmxlbmd0aCB8fCBwKGUpCiAgICAgICAgfSkKICAgIH0KICAgIGZ1bmN0aW9uIGdlKCkgewogICAgICAgIHZhciBhID0gdGhpczsKICAgICAgICBhLnJlbmRlck92ZXJsYXkgPSBmdW5jdGlvbihhLCBzKSB7CiAgICAgICAgICAgIHZhciBuID0gdC5zaGlmdCgpOwogICAgICAgICAgICByZXR1cm4gbiB8fCAobiA9IFNlKCI8ZGl2IGNsYXNzPSdmYy1jZWxsLW92ZXJsYXknIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjMnLz4iKSksCiAgICAgICAgICAgIG5bMF0ucGFyZW50Tm9kZSAhPSBzWzBdICYmIG4uYXBwZW5kVG8ocyksCiAgICAgICAgICAgIGUucHVzaChuLmNzcyhhKS5zaG93KCkpLAogICAgICAgICAgICBuCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBhLmNsZWFyT3ZlcmxheXMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZm9yICh2YXIgczsgcyA9IGUuc2hpZnQoKTsgKQogICAgICAgICAgICAgICAgdC5wdXNoKHMuaGlkZSgpLnVuYmluZCgpKQogICAgICAgIH0KICAgICAgICA7CiAgICAgICAgdmFyIGUgPSBbXQogICAgICAgICAgLCB0ID0gW10KICAgIH0KICAgIGZ1bmN0aW9uIGhlKHQpIHsKICAgICAgICB2YXIgYywgaCwgZSA9IHRoaXM7CiAgICAgICAgZS5idWlsZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjID0gW10sCiAgICAgICAgICAgIGggPSBbXSwKICAgICAgICAgICAgdChjLCBoKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgZS5jZWxsID0gZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICB2YXIgdCwgbiA9IGMubGVuZ3RoLCByID0gaC5sZW5ndGgsIG8gPSAtMSwgbCA9IC0xOwogICAgICAgICAgICBmb3IgKHQgPSAwOyB0IDwgbjsgdCsrKQogICAgICAgICAgICAgICAgaWYgKGUgPj0gY1t0XVswXSAmJiBlIDwgY1t0XVsxXSkgewogICAgICAgICAgICAgICAgICAgIG8gPSB0OwogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodCA9IDA7IHQgPCByOyB0KyspCiAgICAgICAgICAgICAgICBpZiAoYSA+PSBoW3RdWzBdICYmIGEgPCBoW3RdWzFdKSB7CiAgICAgICAgICAgICAgICAgICAgbCA9IHQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDAgPD0gbyAmJiAwIDw9IGwgPyB7CiAgICAgICAgICAgICAgICByb3c6IG8sCiAgICAgICAgICAgICAgICBjb2w6IGwKICAgICAgICAgICAgfSA6IG51bGwKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIGUucmVjdCA9IGZ1bmN0aW9uKGEsIGUsIHQsIHMsIG4pIHsKICAgICAgICAgICAgdmFyIHIgPSBuLm9mZnNldCgpOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdG9wOiBjW2FdWzBdIC0gci50b3AsCiAgICAgICAgICAgICAgICBsZWZ0OiBoW2VdWzBdIC0gci5sZWZ0LAogICAgICAgICAgICAgICAgd2lkdGg6IGhbc11bMV0gLSBoW2VdWzBdLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBjW3RdWzFdIC0gY1thXVswXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gcGUoYykgewogICAgICAgIGZ1bmN0aW9uIGUoZSkgewogICAgICAgICAgICB0ZShlKTsKICAgICAgICAgICAgdmFyIHQgPSBjLmNlbGwoZS5wYWdlWCwgZS5wYWdlWSk7CiAgICAgICAgICAgICghdCAhPSAhaCB8fCB0ICYmICh0LnJvdyAhPSBoLnJvdyB8fCB0LmNvbCAhPSBoLmNvbCkpICYmICh0ID8gKCFnICYmIChnID0gdCksCiAgICAgICAgICAgIG4odCwgZywgdC5yb3cgLSBnLnJvdywgdC5jb2wgLSBnLmNvbCkpIDogbih0LCBnKSwKICAgICAgICAgICAgaCA9IHQpCiAgICAgICAgfQogICAgICAgIHZhciBhLCBuLCBnLCBoLCB0ID0gdGhpczsKICAgICAgICB0LnN0YXJ0ID0gZnVuY3Rpb24ocywgdCwgcikgewogICAgICAgICAgICBuID0gcywKICAgICAgICAgICAgZyA9IGggPSBudWxsLAogICAgICAgICAgICBjLmJ1aWxkKCksCiAgICAgICAgICAgIGUodCksCiAgICAgICAgICAgIGEgPSByIHx8ICJtb3VzZW1vdmUiLAogICAgICAgICAgICBTZShkb2N1bWVudCkuYmluZChhLCBlKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgdC5zdG9wID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBTZShkb2N1bWVudCkudW5iaW5kKGEsIGUpLAogICAgICAgICAgICBoCiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gdGUodCkgewogICAgICAgIHZvaWQgMCA9PT0gdC5wYWdlWCAmJiAodC5wYWdlWCA9IHQub3JpZ2luYWxFdmVudC5wYWdlWCwKICAgICAgICB0LnBhZ2VZID0gdC5vcmlnaW5hbEV2ZW50LnBhZ2VZKQogICAgfQogICAgZnVuY3Rpb24gdWUobykgewogICAgICAgIGZ1bmN0aW9uIGEodCkgewogICAgICAgICAgICByZXR1cm4gbFt0XSA9IGxbdF0gfHwgbyh0KQogICAgICAgIH0KICAgICAgICB2YXIgbiA9IHRoaXMKICAgICAgICAgICwgbCA9IHt9CiAgICAgICAgICAsIGkgPSB7fQogICAgICAgICAgLCBlID0ge307CiAgICAgICAgbi5sZWZ0ID0gZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gaVt0XSA9IHZvaWQgMCA9PT0gaVt0XSA/IGEodCkucG9zaXRpb24oKS5sZWZ0IDogaVt0XQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgbi5yaWdodCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgICAgICAgcmV0dXJuIGVbc10gPSB2b2lkIDAgPT09IGVbc10gPyBuLmxlZnQocykgKyBhKHMpLndpZHRoKCkgOiBlW3NdCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBuLmNsZWFyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGwgPSB7fSwKICAgICAgICAgICAgaSA9IHt9LAogICAgICAgICAgICBlID0ge30KICAgICAgICB9CiAgICB9CiAgICB2YXIgc2UgPSB7CiAgICAgICAgZGVmYXVsdFZpZXc6ICJtb250aCIsCiAgICAgICAgYXNwZWN0UmF0aW86IDEuMzUsCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICAgIGxlZnQ6ICJ0aXRsZSIsCiAgICAgICAgICAgIGNlbnRlcjogIiIsCiAgICAgICAgICAgIHJpZ2h0OiAidG9kYXkgcHJldixuZXh0IgogICAgICAgIH0sCiAgICAgICAgd2Vla2VuZHM6ICEwLAogICAgICAgIHdlZWtOdW1iZXJzOiAhMSwKICAgICAgICB3ZWVrTnVtYmVyQ2FsY3VsYXRpb246ICJpc28iLAogICAgICAgIHdlZWtOdW1iZXJUaXRsZTogIlciLAogICAgICAgIGFsbERheURlZmF1bHQ6ICEwLAogICAgICAgIGlnbm9yZVRpbWV6b25lOiAhMCwKICAgICAgICBsYXp5RmV0Y2hpbmc6ICEwLAogICAgICAgIHN0YXJ0UGFyYW06ICJzdGFydCIsCiAgICAgICAgZW5kUGFyYW06ICJlbmQiLAogICAgICAgIHRpdGxlRm9ybWF0OiB7CiAgICAgICAgICAgIG1vbnRoOiAiTU1NTSB5eXl5IiwKICAgICAgICAgICAgd2VlazogIk1NTSBkWyB5eXl5XXsgJyYjODIxMjsnWyBNTU1dIGQgeXl5eX0iLAogICAgICAgICAgICBkYXk6ICJkZGRkLCBNTU0gZCwgeXl5eSIKICAgICAgICB9LAogICAgICAgIGNvbHVtbkZvcm1hdDogewogICAgICAgICAgICBtb250aDogImRkZCIsCiAgICAgICAgICAgIHdlZWs6ICJkZGQgTS9kIiwKICAgICAgICAgICAgZGF5OiAiZGRkZCBNL2QiCiAgICAgICAgfSwKICAgICAgICB0aW1lRm9ybWF0OiB7CiAgICAgICAgICAgICIiOiAiaCg6bW0pdCIKICAgICAgICB9LAogICAgICAgIGlzUlRMOiAhMSwKICAgICAgICBmaXJzdERheTogMCwKICAgICAgICBtb250aE5hbWVzOiBbIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiXSwKICAgICAgICBtb250aE5hbWVzU2hvcnQ6IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXSwKICAgICAgICBkYXlOYW1lczogWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdLAogICAgICAgIGRheU5hbWVzU2hvcnQ6IFsiU3VuIiwgIk1vbiIsICJUdWUiLCAiV2VkIiwgIlRodSIsICJGcmkiLCAiU2F0Il0sCiAgICAgICAgYnV0dG9uVGV4dDogewogICAgICAgICAgICBwcmV2OiAiPHNwYW4gY2xhc3M9J2ZjLXRleHQtYXJyb3cnPiZsc2FxdW87PC9zcGFuPiIsCiAgICAgICAgICAgIG5leHQ6ICI8c3BhbiBjbGFzcz0nZmMtdGV4dC1hcnJvdyc+JnJzYXF1bzs8L3NwYW4+IiwKICAgICAgICAgICAgcHJldlllYXI6ICI8c3BhbiBjbGFzcz0nZmMtdGV4dC1hcnJvdyc+JmxhcXVvOzwvc3Bhbj4iLAogICAgICAgICAgICBuZXh0WWVhcjogIjxzcGFuIGNsYXNzPSdmYy10ZXh0LWFycm93Jz4mcmFxdW87PC9zcGFuPiIsCiAgICAgICAgICAgIHRvZGF5OiAidG9kYXkiLAogICAgICAgICAgICBtb250aDogIm1vbnRoIiwKICAgICAgICAgICAgd2VlazogIndlZWsiLAogICAgICAgICAgICBkYXk6ICJkYXkiCiAgICAgICAgfSwKICAgICAgICB0aGVtZTogITEsCiAgICAgICAgYnV0dG9uSWNvbnM6IHsKICAgICAgICAgICAgcHJldjogImNpcmNsZS10cmlhbmdsZS13IiwKICAgICAgICAgICAgbmV4dDogImNpcmNsZS10cmlhbmdsZS1lIgogICAgICAgIH0sCiAgICAgICAgdW5zZWxlY3RBdXRvOiAhMCwKICAgICAgICBkcm9wQWNjZXB0OiAiKiIsCiAgICAgICAgaGFuZGxlV2luZG93UmVzaXplOiAhMAogICAgfQogICAgICAsIG5lID0gewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgICBsZWZ0OiAibmV4dCxwcmV2IHRvZGF5IiwKICAgICAgICAgICAgY2VudGVyOiAiIiwKICAgICAgICAgICAgcmlnaHQ6ICJ0aXRsZSIKICAgICAgICB9LAogICAgICAgIGJ1dHRvblRleHQ6IHsKICAgICAgICAgICAgcHJldjogIjxzcGFuIGNsYXNzPSdmYy10ZXh0LWFycm93Jz4mcnNhcXVvOzwvc3Bhbj4iLAogICAgICAgICAgICBuZXh0OiAiPHNwYW4gY2xhc3M9J2ZjLXRleHQtYXJyb3cnPiZsc2FxdW87PC9zcGFuPiIsCiAgICAgICAgICAgIHByZXZZZWFyOiAiPHNwYW4gY2xhc3M9J2ZjLXRleHQtYXJyb3cnPiZyYXF1bzs8L3NwYW4+IiwKICAgICAgICAgICAgbmV4dFllYXI6ICI8c3BhbiBjbGFzcz0nZmMtdGV4dC1hcnJvdyc+JmxhcXVvOzwvc3Bhbj4iCiAgICAgICAgfSwKICAgICAgICBidXR0b25JY29uczogewogICAgICAgICAgICBwcmV2OiAiY2lyY2xlLXRyaWFuZ2xlLWUiLAogICAgICAgICAgICBuZXh0OiAiY2lyY2xlLXRyaWFuZ2xlLXciCiAgICAgICAgfQogICAgfQogICAgICAsIHJlID0gU2UuZnVsbENhbGVuZGFyID0gewogICAgICAgIHZlcnNpb246ICIxLjYuNCIKICAgIH0KICAgICAgLCBvZSA9IHJlLnZpZXdzID0ge307CiAgICBTZS5mbi5mdWxsQ2FsZW5kYXIgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBhKSB7CiAgICAgICAgICAgIHZhciBvLCBsID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBlID0gU2UuZGF0YSh0aGlzLCAiZnVsbENhbGVuZGFyIik7CiAgICAgICAgICAgICAgICBpZiAoZSAmJiBTZS5pc0Z1bmN0aW9uKGVbYV0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlW2FdLmFwcGx5KGUsIGwpOwogICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gbyAmJiAobyA9IHQpLAogICAgICAgICAgICAgICAgICAgICJkZXN0cm95IiA9PSBhICYmIFNlLnJlbW92ZURhdGEodGhpcywgImZ1bGxDYWxlbmRhciIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICB2b2lkIDAgPT09IG8gPyB0aGlzIDogbwogICAgICAgIH0KICAgICAgICBhID0gYSB8fCB7fTsKICAgICAgICB2YXIgdCA9IGEuZXZlbnRTb3VyY2VzIHx8IFtdOwogICAgICAgIHJldHVybiBkZWxldGUgYS5ldmVudFNvdXJjZXMsCiAgICAgICAgYS5ldmVudHMgJiYgKHQucHVzaChhLmV2ZW50cyksCiAgICAgICAgZGVsZXRlIGEuZXZlbnRzKSwKICAgICAgICBhID0gU2UuZXh0ZW5kKCEwLCB7fSwgc2UsIGEuaXNSVEwgfHwgdm9pZCAwID09PSBhLmlzUlRMICYmIHNlLmlzUlRMID8gbmUgOiB7fSwgYSksCiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGUsIG4pIHsKICAgICAgICAgICAgdmFyIHMgPSBTZShuKQogICAgICAgICAgICAgICwgciA9IG5ldyBNZShzLGEsdCk7CiAgICAgICAgICAgIHMuZGF0YSgiZnVsbENhbGVuZGFyIiwgciksCiAgICAgICAgICAgIHIucmVuZGVyKCkKICAgICAgICB9KSwKICAgICAgICB0aGlzCiAgICB9CiAgICAsCiAgICByZS5zb3VyY2VOb3JtYWxpemVycyA9IFtdLAogICAgcmUuc291cmNlRmV0Y2hlcnMgPSBbXTsKICAgIHZhciBkID0gewogICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgY2FjaGU6ICExCiAgICB9CiAgICAgICwgbGUgPSAxOwogICAgcmUuYWRkRGF5cyA9IGtlLAogICAgcmUuY2xvbmVEYXRlID0gemUsCiAgICByZS5wYXJzZURhdGUgPSBsLAogICAgcmUucGFyc2VJU084NjAxID0gZywKICAgIHJlLnBhcnNlVGltZSA9IGUsCiAgICByZS5mb3JtYXREYXRlID0gcCwKICAgIHJlLmZvcm1hdERhdGVzID0gdTsKICAgIHZhciBkZSA9IFsic3VuIiwgIm1vbiIsICJ0dWUiLCAid2VkIiwgInRodSIsICJmcmkiLCAic2F0Il0KICAgICAgLCBjZSA9IHsKICAgICAgICBzOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldFNlY29uZHMoKQogICAgICAgIH0sCiAgICAgICAgc3M6IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHoodC5nZXRTZWNvbmRzKCkpCiAgICAgICAgfSwKICAgICAgICBtOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldE1pbnV0ZXMoKQogICAgICAgIH0sCiAgICAgICAgbW06IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHoodC5nZXRNaW51dGVzKCkpCiAgICAgICAgfSwKICAgICAgICBoOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldEhvdXJzKCkgJSAxMiB8fCAxMgogICAgICAgIH0sCiAgICAgICAgaGg6IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHoodC5nZXRIb3VycygpICUgMTIgfHwgMTIpCiAgICAgICAgfSwKICAgICAgICBIOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldEhvdXJzKCkKICAgICAgICB9LAogICAgICAgIEhIOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB6KHQuZ2V0SG91cnMoKSkKICAgICAgICB9LAogICAgICAgIGQ6IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQuZ2V0RGF0ZSgpCiAgICAgICAgfSwKICAgICAgICBkZDogZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4geih0LmdldERhdGUoKSkKICAgICAgICB9LAogICAgICAgIGRkZDogZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICByZXR1cm4gZS5kYXlOYW1lc1Nob3J0W2EuZ2V0RGF5KCldCiAgICAgICAgfSwKICAgICAgICBkZGRkOiBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIHJldHVybiBlLmRheU5hbWVzW2EuZ2V0RGF5KCldCiAgICAgICAgfSwKICAgICAgICBNOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldE1vbnRoKCkgKyAxCiAgICAgICAgfSwKICAgICAgICBNTTogZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4geih0LmdldE1vbnRoKCkgKyAxKQogICAgICAgIH0sCiAgICAgICAgTU1NOiBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIHJldHVybiBlLm1vbnRoTmFtZXNTaG9ydFthLmdldE1vbnRoKCldCiAgICAgICAgfSwKICAgICAgICBNTU1NOiBmdW5jdGlvbihhLCBlKSB7CiAgICAgICAgICAgIHJldHVybiBlLm1vbnRoTmFtZXNbYS5nZXRNb250aCgpXQogICAgICAgIH0sCiAgICAgICAgeXk6IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuICh0LmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyaW5nKDIpCiAgICAgICAgfSwKICAgICAgICB5eXl5OiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiB0LmdldEZ1bGxZZWFyKCkKICAgICAgICB9LAogICAgICAgIHQ6IGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgcmV0dXJuIDEyID4gdC5nZXRIb3VycygpID8gImEiIDogInAiCiAgICAgICAgfSwKICAgICAgICB0dDogZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gMTIgPiB0LmdldEhvdXJzKCkgPyAiYW0iIDogInBtIgogICAgICAgIH0sCiAgICAgICAgVDogZnVuY3Rpb24odCkgewogICAgICAgICAgICByZXR1cm4gMTIgPiB0LmdldEhvdXJzKCkgPyAiQSIgOiAiUCIKICAgICAgICB9LAogICAgICAgIFRUOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiAxMiA+IHQuZ2V0SG91cnMoKSA/ICJBTSIgOiAiUE0iCiAgICAgICAgfSwKICAgICAgICB1OiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIHJldHVybiBwKHQsICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MnWiciKQogICAgICAgIH0sCiAgICAgICAgUzogZnVuY3Rpb24oYSkgewogICAgICAgICAgICB2YXIgZSA9IGEuZ2V0RGF0ZSgpOwogICAgICAgICAgICByZXR1cm4gMTAgPCBlICYmIDIwID4gZSA/ICJ0aCIgOiBbInN0IiwgIm5kIiwgInJkIl1bZSAlIDEwIC0gMV0gfHwgInRoIgogICAgICAgIH0sCiAgICAgICAgdzogZnVuY3Rpb24oYSwgZSkgewogICAgICAgICAgICByZXR1cm4gZS53ZWVrTnVtYmVyQ2FsY3VsYXRpb24oYSkKICAgICAgICB9LAogICAgICAgIFc6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgcmV0dXJuIHQoYSkKICAgICAgICB9CiAgICB9OwogICAgcmUuZGF0ZUZvcm1hdHRlcnMgPSBjZSwKICAgIHJlLmFwcGx5QWxsID0gQSwKICAgIG9lLm1vbnRoID0gZnVuY3Rpb24obywgZSkgewogICAgICAgIHZhciBpID0gdGhpczsKICAgICAgICBpLnJlbmRlciA9IGZ1bmN0aW9uKG8sIGUpIHsKICAgICAgICAgICAgZSAmJiAoeGUobywgZSksCiAgICAgICAgICAgIG8uc2V0RGF0ZSgxKSk7CiAgICAgICAgICAgIHZhciBhID0gbigiZmlyc3REYXkiKQogICAgICAgICAgICAgICwgZCA9IHplKG8sICEwKTsKICAgICAgICAgICAgZC5zZXREYXRlKDEpOwogICAgICAgICAgICB2YXIgYyA9IHhlKHplKGQpLCAxKQogICAgICAgICAgICAgICwgZyA9IHplKGQpOwogICAgICAgICAgICBrZShnLCAtKChnLmdldERheSgpIC0gYSArIDcpICUgNykpLAogICAgICAgICAgICBzKGcpOwogICAgICAgICAgICB2YXIgcCA9IHplKGMpOwogICAgICAgICAgICBrZShwLCAoNyAtIHAuZ2V0RGF5KCkgKyBhKSAlIDcpLAogICAgICAgICAgICBzKHAsIC0xLCAhMCk7CiAgICAgICAgICAgIHZhciB1ID0gcigpCiAgICAgICAgICAgICAgLCBmID0gTWF0aC5yb3VuZChoKHAsIGcpIC8gNyk7CiAgICAgICAgICAgICJmaXhlZCIgPT0gbigid2Vla01vZGUiKSAmJiAoa2UocCwgNyAqICg2IC0gZikpLAogICAgICAgICAgICBmID0gNiksCiAgICAgICAgICAgIGkudGl0bGUgPSBsKGQsIG4oInRpdGxlRm9ybWF0IikpLAogICAgICAgICAgICBpLnN0YXJ0ID0gZCwKICAgICAgICAgICAgaS5lbmQgPSBjLAogICAgICAgICAgICBpLnZpc1N0YXJ0ID0gZywKICAgICAgICAgICAgaS52aXNFbmQgPSBwLAogICAgICAgICAgICB0KGYsIHUsICEwKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgXy5jYWxsKGksIG8sIGUsICJtb250aCIpOwogICAgICAgIHZhciBuID0gaS5vcHQKICAgICAgICAgICwgdCA9IGkucmVuZGVyQmFzaWMKICAgICAgICAgICwgcyA9IGkuc2tpcEhpZGRlbkRheXMKICAgICAgICAgICwgciA9IGkuZ2V0Q2VsbHNQZXJXZWVrCiAgICAgICAgICAsIGwgPSBlLmZvcm1hdERhdGUKICAgIH0KICAgICwKICAgIG9lLmJhc2ljV2VlayA9IGZ1bmN0aW9uKG8sIGUpIHsKICAgICAgICB2YXIgaCA9IHRoaXM7CiAgICAgICAgaC5yZW5kZXIgPSBmdW5jdGlvbihvLCBlKSB7CiAgICAgICAgICAgIGUgJiYga2UobywgNyAqIGUpOwogICAgICAgICAgICB2YXIgYSA9IGtlKHplKG8pLCAtKChvLmdldERheSgpIC0gbigiZmlyc3REYXkiKSArIDcpICUgNykpCiAgICAgICAgICAgICAgLCBsID0ga2UoemUoYSksIDcpCiAgICAgICAgICAgICAgLCBkID0gemUoYSk7CiAgICAgICAgICAgIHMoZCk7CiAgICAgICAgICAgIHZhciBjID0gemUobCk7CiAgICAgICAgICAgIHMoYywgLTEsICEwKTsKICAgICAgICAgICAgdmFyIGcgPSByKCk7CiAgICAgICAgICAgIGguc3RhcnQgPSBhLAogICAgICAgICAgICBoLmVuZCA9IGwsCiAgICAgICAgICAgIGgudmlzU3RhcnQgPSBkLAogICAgICAgICAgICBoLnZpc0VuZCA9IGMsCiAgICAgICAgICAgIGgudGl0bGUgPSBpKGQsIGtlKHplKGMpLCAtMSksIG4oInRpdGxlRm9ybWF0IikpLAogICAgICAgICAgICB0KDEsIGcsICExKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgXy5jYWxsKGgsIG8sIGUsICJiYXNpY1dlZWsiKTsKICAgICAgICB2YXIgbiA9IGgub3B0CiAgICAgICAgICAsIHQgPSBoLnJlbmRlckJhc2ljCiAgICAgICAgICAsIHMgPSBoLnNraXBIaWRkZW5EYXlzCiAgICAgICAgICAsIHIgPSBoLmdldENlbGxzUGVyV2VlawogICAgICAgICAgLCBpID0gZS5mb3JtYXREYXRlcwogICAgfQogICAgLAogICAgb2UuYmFzaWNEYXkgPSBmdW5jdGlvbihvLCBlKSB7CiAgICAgICAgdmFyIGMgPSB0aGlzOwogICAgICAgIGMucmVuZGVyID0gZnVuY3Rpb24obywgZSkgewogICAgICAgICAgICBlICYmIGtlKG8sIGUpLAogICAgICAgICAgICBzKG8sIDAgPiBlID8gLTEgOiAxKTsKICAgICAgICAgICAgdmFyIGEgPSB6ZShvLCAhMCkKICAgICAgICAgICAgICAsIGwgPSBrZSh6ZShhKSwgMSk7CiAgICAgICAgICAgIGMudGl0bGUgPSByKG8sIG4oInRpdGxlRm9ybWF0IikpLAogICAgICAgICAgICBjLnN0YXJ0ID0gYy52aXNTdGFydCA9IGEsCiAgICAgICAgICAgIGMuZW5kID0gYy52aXNFbmQgPSBsLAogICAgICAgICAgICB0KDEsIDEsICExKQogICAgICAgIH0KICAgICAgICAsCiAgICAgICAgXy5jYWxsKGMsIG8sIGUsICJiYXNpY0RheSIpOwogICAgICAgIHZhciBuID0gYy5vcHQKICAgICAgICAgICwgdCA9IGMucmVuZGVyQmFzaWMKICAgICAgICAgICwgcyA9IGMuc2tpcEhpZGRlbkRheXMKICAgICAgICAgICwgciA9IGUuZm9ybWF0RGF0ZQogICAgfQogICAgLAogICAgYSh7CiAgICAgICAgd2Vla01vZGU6ICJmaXhlZCIKICAgIH0pLAogICAgb2UuYWdlbmRhV2VlayA9IGZ1bmN0aW9uKG8sIGUpIHsKICAgICAgICB2YXIgaCA9IHRoaXM7CiAgICAgICAgaC5yZW5kZXIgPSBmdW5jdGlvbihvLCBlKSB7CiAgICAgICAgICAgIGUgJiYga2UobywgNyAqIGUpOwogICAgICAgICAgICB2YXIgYSA9IGtlKHplKG8pLCAtKChvLmdldERheSgpIC0gbigiZmlyc3REYXkiKSArIDcpICUgNykpCiAgICAgICAgICAgICAgLCBsID0ga2UoemUoYSksIDcpCiAgICAgICAgICAgICAgLCBkID0gemUoYSk7CiAgICAgICAgICAgIHMoZCk7CiAgICAgICAgICAgIHZhciBjID0gemUobCk7CiAgICAgICAgICAgIHMoYywgLTEsICEwKTsKICAgICAgICAgICAgdmFyIGcgPSByKCk7CiAgICAgICAgICAgIGgudGl0bGUgPSBpKGQsIGtlKHplKGMpLCAtMSksIG4oInRpdGxlRm9ybWF0IikpLAogICAgICAgICAgICBoLnN0YXJ0ID0gYSwKICAgICAgICAgICAgaC5lbmQgPSBsLAogICAgICAgICAgICBoLnZpc1N0YXJ0ID0gZCwKICAgICAgICAgICAgaC52aXNFbmQgPSBjLAogICAgICAgICAgICB0KGcpCiAgICAgICAgfQogICAgICAgICwKICAgICAgICBxLmNhbGwoaCwgbywgZSwgImFnZW5kYVdlZWsiKTsKICAgICAgICB2YXIgbiA9IGgub3B0CiAgICAgICAgICAsIHQgPSBoLnJlbmRlckFnZW5kYQogICAgICAgICAgLCBzID0gaC5za2lwSGlkZGVuRGF5cwogICAgICAgICAgLCByID0gaC5nZXRDZWxsc1BlcldlZWsKICAgICAgICAgICwgaSA9IGUuZm9ybWF0RGF0ZXMKICAgIH0KICAgICwKICAgIG9lLmFnZW5kYURheSA9IGZ1bmN0aW9uKG8sIGUpIHsKICAgICAgICB2YXIgYyA9IHRoaXM7CiAgICAgICAgYy5yZW5kZXIgPSBmdW5jdGlvbihvLCBlKSB7CiAgICAgICAgICAgIGUgJiYga2UobywgZSksCiAgICAgICAgICAgIHMobywgMCA+IGUgPyAtMSA6IDEpOwogICAgICAgICAgICB2YXIgYSA9IHplKG8sICEwKQogICAgICAgICAgICAgICwgbCA9IGtlKHplKGEpLCAxKTsKICAgICAgICAgICAgYy50aXRsZSA9IHIobywgbigidGl0bGVGb3JtYXQiKSksCiAgICAgICAgICAgIGMuc3RhcnQgPSBjLnZpc1N0YXJ0ID0gYSwKICAgICAgICAgICAgYy5lbmQgPSBjLnZpc0VuZCA9IGwsCiAgICAgICAgICAgIHQoMSkKICAgICAgICB9CiAgICAgICAgLAogICAgICAgIHEuY2FsbChjLCBvLCBlLCAiYWdlbmRhRGF5Iik7CiAgICAgICAgdmFyIG4gPSBjLm9wdAogICAgICAgICAgLCB0ID0gYy5yZW5kZXJBZ2VuZGEKICAgICAgICAgICwgcyA9IGMuc2tpcEhpZGRlbkRheXMKICAgICAgICAgICwgciA9IGUuZm9ybWF0RGF0ZQogICAgfQogICAgLAogICAgYSh7CiAgICAgICAgYWxsRGF5U2xvdDogITAsCiAgICAgICAgYWxsRGF5VGV4dDogImFsbC1kYXkiLAogICAgICAgIGZpcnN0SG91cjogNiwKICAgICAgICBzbG90TWludXRlczogMzAsCiAgICAgICAgZGVmYXVsdEV2ZW50TWludXRlczogMTIwLAogICAgICAgIGF4aXNGb3JtYXQ6ICJoKDptbSl0dCIsCiAgICAgICAgdGltZUZvcm1hdDogewogICAgICAgICAgICBhZ2VuZGE6ICJoOm1teyAtIGg6bW19IgogICAgICAgIH0sCiAgICAgICAgZHJhZ09wYWNpdHk6IHsKICAgICAgICAgICAgYWdlbmRhOiAuNQogICAgICAgIH0sCiAgICAgICAgbWluVGltZTogMCwKICAgICAgICBtYXhUaW1lOiAyNCwKICAgICAgICBzbG90RXZlbnRPdmVybGFwOiAhMAogICAgfSkKfQopKGpRdWVyeSk7Cg==]]></Resource>
    <Resource ID="e9bf2264-1626-4bfe-cfb5-16b02bc0a592" Name="Icon" Type="jpg"><![CDATA[iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ
			bWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdp
			bj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6
			eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEz
			NDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJo
			dHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlw
			dGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAv
			IiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RS
			ZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpD
			cmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlE
			PSJ4bXAuaWlkOkE3RUYwODVGMjQ5NTExRTFCQTAxRjk4OUQyNkQ4QjREIiB4bXBNTTpEb2N1bWVu
			dElEPSJ4bXAuZGlkOkE3RUYwODYwMjQ5NTExRTFCQTAxRjk4OUQyNkQ4QjREIj4gPHhtcE1NOkRl
			cml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdFRjA4NUQyNDk1MTFFMUJBMDFG
			OTg5RDI2RDhCNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdFRjA4NUUyNDk1MTFFMUJB
			MDFGOTg5RDI2RDhCNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1l
			dGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MtuiCAAACGElEQVR42kxSS2gUQRDt3oyE7AjJkpWFXXPQ
			qwc95CKigh4EPXnwoATFgyh+I+LVq4jgJwkSjYKniKDgWRBR/B2E4ElENAFdNcvOoomMO931sapn
			EraZaWaq3qv3qrpt6/Flw8Tgyf2Tx6BnIqOLTb6Y9UVkAWRp5FoLhkAIDI4JC5CVVTKrDAQlQCaY
			CDpN+VeRUElx1ppSX0GwNqDB6O6ZKcL0z0olq1upT9HCtiUVJFQCgRGfrPq2nULwqJZVhqyE705d
			O3rqPOeibFCyHJJkohwqbTLKpwWJBjkMcCxI+kGsMPtz2d2euGF61uGT4xxo9960Hs0lEtnciC/t
			HZH6SGx/LDu1Zyxxrq5DzW1cedq8uLvx6svS1WfNQ6PVfZuGlrpQAhIhC8RI5ImEhmRmp29Ktxd2
			1QGpf01wSOwAZt8nkRS8f+t6r6UDx87I7lENSKNPPnTWrY22bSjPfUvnkyyS6Njxc+rB5J0RhK6F
			AMiTL359TbLxndWNw/3Tr9vffzv7ud1ldaVDgDA7IYgTAJp6ubjQcWd3DG9pxOsrsXgBIvup1X0w
			M9Frac/YCQ/4bv7vnbfJavD09trB0apo2o+LKYWeZCzSutR2Hp8/nNm6/4hMoD40MFKJQVPk0Tjk
			CLm4maJIGkUPoGNBqlfK9Uqcya2TESlashzlh6+nyGEscnFIa9QGy7XBgS4UhQXqSff/AgwALvPF
			NxWnjTQAAAAASUVORK5CYII=]]></Resource>
  </Resources>
  <SourceCode><![CDATA[import json
import vobject
import datetime
from dateutil.relativedelta import *
import random

class VDOM_fullcalendar(VDOM_object):

	TF_DICT = {"1": "H:mm{ - H:mm}", "0":"h(:mm)tt{ - h(:mm)tt}"}
	VIEW_DICT = {"0": "month", "1": "agendaWeek", "2": "agendaDay"}
	DAY_LIST = [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
	MONTH_LIST = ['January','February','March','April','May','June','July','August','September','October','November','December']
	SHORT_MONTH_LIST = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']
	SHORT_DAY_LIST = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
	FIRST_DAY_LIST = ["0","1","2","3","4","5","6","7"]
	SLOTMINUTES = {"0":5, "1":10,"2":15,"3":20,"4":25,"5":30}
	TRUE_FALSE = {"0":"false","1":"true"}
	VERSION = "version 20.00"
	DATE_MOD = "18.06.2012"

	RENDER_DIV = """<div id="%s" style="%s"></div>"""
	RENDER_SCRIPT = """
	$.curCSS = function (element, attrib, val) {$(element).css(attrib, val);};
	/*Fullcalendar. VDOM Type Version %(version)s. Last modified - %(date_mod)s*/
	$j(function(){

		%(window_lazyloading_1)s

		$j("#%(id_out)s").fullCalendar({

			header: {
				left: '',
				center: '',
				right: ''
			},

			weekMode: "liquid",
			axisFormat: "%(time_format)s",
			timeFormat: "%(time_format)s",
			monthNames: %(month_names)s,
			monthNamesShort: %(short_month_names)s,
			dayNames: %(day_names)s,
			dayNamesShort: %(short_day_names)s,
			editable: %(is_editable)s,
			selectable: %(is_selectable)s,
			firstDay: %(first_day)s,
			firstHour: %(first_hour)s,
			defaultView: "%(default_view)s",
			allDaySlot: %(is_allday_visible)s,
			allDayText: "%(allday_title)s",
			slotMinutes: %(minutes_interval)s,
			eventSources: %(event_sources)s,

			viewChanged: function( viewName, title ) {
				execEventBinded("%(id_woo)s", "viewChanged", {
					title: title.replace("&#8212;"," - "),
					view: viewName
				});
			},
			dateChanged: function( viewName, title, start, end %(lazyloading_1)s ){
				execEventBinded("%(id_woo)s", "dateChanged", {
					start: Math.round(visStart.getTime() / 1000),
					end: Math.round(visEnd.getTime() / 1000),
					title: title.replace("&#8212;"," - "),
					view: viewName,
					timezoneOffset: visStart.getTimezoneOffset()
				});
				%(lazy_condition)s
				execEventBinded("%(id_woo)s", "getEvents", {
					start: Math.round(%(lazyloading_start)s.getTime() / 1000),
					end: Math.round(%(lazyloading_end)s.getTime() / 1000),
					view: viewName,
					timezoneOffset: %(lazyloading_start)s.getTimezoneOffset()
				});
				%(lazy_condition_1)s
			},

			select: function(startDate, endDate, allDay)
			{
				end = endDate.getTime() / 1000;
				start = startDate.getTime() / 1000;
				$j("#%(id_out)s").fullCalendar('unselect');
				execEventBinded("%(id_woo)s", "daysSelected", {
					start: start,
					end: end,
					allDay: allDay || 0,
					timezoneOffset: startDate.getTimezoneOffset()
				});
			},

			eventClick: function(event) {
				execEventBinded("%(id_woo)s", "eventClick", { id:event.id, instance: event.instance });
			},

			eventDrop: function(event, dayDelta, minuteDelta, allDay)
			{
				start = event.start || 0;
				end = event.end === null ? start : event.end;
				execEventBinded("%(id_woo)s", "eventDrag", {
					id: event.id,
					start: Math.round( start.getTime() / 1000),
					end: Math.round( end.getTime() / 1000),
					instance: event.instance,
					allDay: allDay || 0,
					dayDelta: dayDelta || 0,
					minuteDelta: minuteDelta || 0,
					timezoneOffset: event.start.getTimezoneOffset()
				})
			},

			eventResize: function( event, dayDelta, minuteDelta )
			{
				start = event.start || 0;
				end = event.end === null ? start : event.end;
				execEventBinded("%(id_woo)s", "eventResize", {
					id: event.id,
					start: Math.round( start.getTime() / 1000),
					end: Math.round( end.getTime() / 1000),
					instance: event.instance,
					dayDelta: dayDelta || 0,
					minuteDelta: minuteDelta || 0,
					timezoneOffset: event.start.getTimezoneOffset()
				})
			}
		});

		$j("#%(id_out)s").fullCalendar( 'render' );
		$j("#%(id_out)s").fullCalendar( 'gotoDate',  %(year)s, %(month)s, %(day)s);
	});
"""

	def render(self, contents=""):

		id_woo = (self.id).replace('-', '_')
		id_out = 'o_' + id_woo

		#visibility
		visibility = "hidden" if self.visible == "0" else "visible"

		#timeFormat
		timeFormat = VDOM_fullcalendar.TF_DICT["1"] if self.time_format not in VDOM_fullcalendar.TF_DICT.keys() else VDOM_fullcalendar.TF_DICT[self.time_format]

		#view
		view = VDOM_fullcalendar.VIEW_DICT["0"] if self.view not in VDOM_fullcalendar.VIEW_DICT not in VDOM_fullcalendar.VIEW_DICT.keys() else VDOM_fullcalendar.VIEW_DICT[self.view]

		#default date
		default_date = self.display_date.split('-') if self.display_date else str(datetime.date.today()).split('-')

		#day names

		day_names = []
		if isinstance(self.day_names, (tuple, list)):
			day_names = self.day_names
		elif isinstance(self.day_names, (unicode, str)):
			day_names = self.day_names.split("|")

		if len(day_names) != 7:
			day_names = VDOM_fullcalendar.DAY_LIST


		#short day names
		short_day_names = []
		if isinstance(self.short_day_names, (tuple, list)):
			short_day_names = self.short_day_names
		elif isinstance(self.short_day_names, (unicode, str)):
			short_day_names = self.short_day_names.split("|")

		if len(short_day_names) != 7:
			short_day_names = VDOM_fullcalendar.SHORT_DAY_LIST

		#month names
		month_names = []
		if isinstance(self.month_names, (tuple, list)):
			month_names = self.month_names
		elif isinstance(self.month_names, (unicode, str)):
			month_names = self.month_names.split("|")

		if len(month_names) != 12:
			month_names = VDOM_fullcalendar.MONTH_LIST

		#short month names
		short_month_names = []
		if isinstance(self.short_month_names, (tuple, list)):
			short_month_names = self.short_month_names
		elif isinstance(self.short_month_names, (unicode, str)):
			short_month_names = self.short_month_names.split("|")

		if len(short_month_names) != 12:
			short_month_names = VDOM_fullcalendar.SHORT_MONTH_LIST

		#first_hour
		first_hour = int( self.first_hour )


		#first day in week
		first_day = int(self.first_day) if self.first_day in VDOM_fullcalendar.FIRST_DAY_LIST else 1

		#is calendar editable or not
		editable =  VDOM_fullcalendar.TRUE_FALSE[self.editable] if self.editable in VDOM_fullcalendar.TRUE_FALSE.keys() else  VDOM_fullcalendar.TRUE_FALSE["1"]

		#is calendar selecable or not
		selectable = VDOM_fullcalendar.TRUE_FALSE[self.selectable] if self.selectable in VDOM_fullcalendar.TRUE_FALSE.keys() else VDOM_fullcalendar.TRUE_FALSE["1"]

		#is all-day slot visible or not
		allday_visible = VDOM_fullcalendar.TRUE_FALSE[self.all_day_visible] if self.all_day_visible in VDOM_fullcalendar.TRUE_FALSE.keys() else VDOM_fullcalendar.TRUE_FALSE["1"]

		#allday slot text
		allday_title = self.all_day_title if self.all_day_title else "Allday"

		#slotminutes interval
		slotminutes = VDOM_fullcalendar.SLOTMINUTES[self.slot_minutes] if self.slot_minutes in VDOM_fullcalendar.SLOTMINUTES.keys() else VDOM_fullcalendar.SLOTMINUTES["5"]

		if self.lazyloading == "1":
			window_lazy, lazyloading_1, lazyloading_start, lazyloading_end = ( "window.visible_start = window.visible_end = new Date(1); ",
																				"", "window.visible_start", "window.visible_end")
			lazy_condition = """if ( ( window.visible_start - start) && (window.visible_end - end ) )
										{window.visible_start = start; window.visible_end = end;"""
			lazy_condition_1 = "}"
		else:
			window_lazy, lazyloading_1, lazyloading_start, lazyloading_end, lazy_condition,lazy_condition_1 = ( "",
																				",visStart, visEnd", "visStart", "visEnd","","" )

		style_params = {"zindex": self.zindex,
						"top": self.top,
						"left": self.left,
						"width": self.width,
						"height": self.height,
						"visibility": visibility}

		mainstyle="""z-index:%(zindex)s;
					position:absolute;
					top: %(top)spx;
					left: %(left)spx;
					width: %(width)spx;
					height: %(height)spx;
					visibility: %(visibility)s;"""%style_params
		import json
		render_params = {
				"version"              : VDOM_fullcalendar.VERSION,
				"date_mod"             : VDOM_fullcalendar.DATE_MOD,
				"id_out"               : id_out,
				"id_woo"               : id_woo,
				"time_format"          : timeFormat,
				"short_day_names"      : json.dumps(short_day_names),
				"day_names"            : json.dumps(day_names)	,
				"short_month_names"    : json.dumps(short_month_names),
				"month_names"          : json.dumps(month_names),
				"is_editable"          : editable,
				"is_selectable"        : selectable,
				"first_day"            : first_day,
				"default_view"         : view,
				"is_allday_visible"    : allday_visible,
				"allday_title"         : allday_title,
				"minutes_interval"     : slotminutes,
				"event_sources"        : self.parse_events(),
				"year"                 : int(default_date[0]),
				"month"                : int(default_date[1])-1,
				"day"                  : int(default_date[2]),
				"window_lazyloading_1" : window_lazy,
				"lazyloading_1"        : lazyloading_1,
				"lazyloading_start"    : lazyloading_start,
				"lazyloading_end"      : lazyloading_end,
				"lazy_condition"       : lazy_condition,
				"lazy_condition_1"     : lazy_condition_1,
				"first_hour"           : first_hour
			}
		#resource = application.resources.get_by_label(self.id, "renderscript")
		#if resource:
		#	application.resources.delete(resource.id)
		#res_id = application.resources.create_temporary(self.id, "renderscript", VDOM_fullcalendar.RENDER_SCRIPT % render_params, "js", "renderscript")
		request.dyn_libraries[self.name] =  u'<script type="text/javascript" >%s</script>' %(VDOM_fullcalendar.RENDER_SCRIPT % render_params,) 
		return  VDOM_fullcalendar.RENDER_DIV % (id_out, mainstyle)


	def parse_events(self):
		event_sources = []
		if self.events:
			calendar = vobject.readOne(self.events)
			cal_list = []
			for event in calendar.vevent_list:
				startDate = getattr(event, 'dtstart', vobject.base.ContentLine('DTSTART', '', str(datetime.date.today())))
				endDate = getattr(event, 'dtend', vobject.base.ContentLine('DTEND', '', str(startDate.value)))
				summary = getattr(event, 'summary', vobject.base.ContentLine('SUMMARY', '', 'Event'))
				cal_list.append( [startDate.value, endDate.value, summary.value] )
				description = getattr(event, 'description', vobject.base.ContentLine('DESCRIPTION', '', 'Event'))
				color = getattr(event, 'color', vobject.base.ContentLine('COLOR','','blue'))
				id = getattr(event, 'id', vobject.base.ContentLine('ID', '', '-1'))
				allDay = getattr( event, 'allday', vobject.base.ContentLine('ALLDAY','','false'))
				allDay = True if allDay.value == "true" else False
				textColor = getattr(event, 'textcolor', vobject.base.ContentLine('textColor', '', 'green'))
				borderColor = getattr(event, 'bordercolor', vobject.base.ContentLine('bordercolor', '', 'green'))

				if event.rruleset is None:
					event_sources.append({ "events": [{ "id": id.value,
										"title": (summary.value).replace( "&comma&", ","),
										"description":description.value,
										"start": startDate.value.strftime("%Y-%m-%d %H:%M:%S"),
										"end": endDate.value.strftime("%Y-%m-%d %H:%M:%S"),
										"allDay": allDay,
										"instance": "-1"}],
										"color": color.value,
										"textColor": textColor.value,
										"borderColor": borderColor.value})
				else:
					instance = 1
					for rev in event.rruleset:
						event_sources.append({ "events": [{
										"title": (summary.value).replace( "&comma&", ","),
										"description":description.value,
										"id": id.value,
										"start": rev.strftime("%Y-%m-%d %H:%M:%S"),
										"end": (rev + relativedelta(endDate.value, startDate.value)).strftime("%Y-%m-%d %H:%M:%S"),
										"allDay": allDay,
										"instance": instance }],
										"color": color.value,
										"textColor": textColor.value,
										"borderColor": borderColor.value})
						instance += 1
		return json.dumps(event_sources)


	def wysiwyg(self, contents=""):
		from scripting.legacy.wysiwyg import get_empty_wysiwyg_value
		
		image_id = "70817b3b-d42d-4273-2b06-16afdd3a785d"
		result = get_empty_wysiwyg_value(self, image_id)
		
		return VDOM_object.wysiwyg(self, contents=result)]]></SourceCode>
  <Libraries>
    <Library Target="html"><![CDATA[<link rel="stylesheet" type="text/css" href="/02dfd9db-16fe-3690-73e1-baf58cd3e6f4.res" />]]></Library>
    <Library Target="html"><![CDATA[<script type='text/javascript' src='/10b18a20-59c9-2b2b-e4b3-7281bcc66d4f.res?v=1.6.4'></script>]]></Library>
    <Library Target="html"><![CDATA[<script type='text/javascript' src='/d1e1abad-b15d-450e-b769-4fe10ccb02af.res'></script>]]></Library>
    <Library Target="html"><![CDATA[<script type='text/javascript' src='/c81084e1-0296-56fc-339a-1b9328e787dd.res'></script>]]></Library>
    <Library Target="html"><![CDATA[<script type='text/javascript'>

function parseRruleSources( sources )
{
	function formatedDate( date )
	{
		/*return [ date.getFullYear(), date.getMonth(), date.getDate()].join("-") + "T" + [ date.getHours(), date.getMinutes(), date.getSeconds()].join(":")+"Z";*/
		return date.toISOString();
	}

	var startDate    = new Date( sources.start || 0 );
	var endDate      = new Date( sources.end || 0 );
	var eventSources = [];
	var source       = sources.source || [];

	for ( var i = 0; i < source.length; i++ )
	{
		var cal = source[ i ] ;
		var color = cal.color;
		var textColor = cal.textColor;
		var borderColor = cal.borderColor;

		for ( var j = 0; j < cal.events.length; j++ )
		{
			var event          = cal.events[ j ] || [];
			event.textColor    = textColor || "";
			event.borderColor  = borderColor || "";
			event.color        = color || "";

			if ( event.hasOwnProperty( "rrule" ) && event.rrule != null )
			{
				var event_start = new Date( event.start || 0 );
				var event_end   = new Date( event.end || 0 );
				var delta = event_end.getTime() - event_start.getTime();

				var sch = new Scheduler( event_start, event.rrule.toUpperCase() );

				if ( event.hasOwnProperty( "exdates" ) && event.exdates != null )
				{
					var exdates = [];
					for ( var k = 0 ; k < event.exdates.length; k++ )
						exdates.push( new Date( event.exdates[ k ] ) );

					sch.add_exception_dates( exdates );
				}

				var occurrences = sch.occurrences_between( startDate, endDate );

				for ( var k = 0; k < occurrences.length; k++ )
				{
					var copy = {};
					jQuery.extend( copy, event );
					var t_start = occurrences[ k ];
					copy.start = formatedDate( t_start );
					copy.instance = k+1;
					copy.end = formatedDate(new Date( t_start.getTime() + delta ));
					eventSources.push( copy );
				}
			}
			else
			{
				event.start = formatedDate(new Date( event.start || 0 ));
				event.end = formatedDate(new Date( event.end || 0 ));
				eventSources.push( event );
			}
		}
	}
	return eventSources;
}
</script>]]></Library>
  </Libraries>
  <E2vdom>
    <Events>
      <Userinterfaceevents>
        <Event Name="dateChanged" Help="#Lang(514)">
          <Parameters>
            <Parameter Name="title" Order="0" VbType="" Help="#Lang(901)"/>
            <Parameter Name="start" Order="0" VbType="" Help="#Lang(902)"/>
            <Parameter Name="end" Order="0" VbType="" Help="#Lang(903)"/>
            <Parameter Name="view" Order="0" VbType="" Help="#Lang(904)"/>
            <Parameter Name="timezoneOffset" Order="0" VbType="" Help="#Lang(905)"/>
          </Parameters>
        </Event>
        <Event Name="eventDrag" Help="#Lang(515)">
          <Parameters>
            <Parameter Name="id" Order="0" VbType="" Help="#Lang(906)"/>
            <Parameter Name="start" Order="0" VbType="" Help="#Lang(907)"/>
            <Parameter Name="end" Order="0" VbType="" Help="#Lang(908)"/>
            <Parameter Name="instance" Order="0" VbType="" Help="#Lang(909)"/>
            <Parameter Name="allDay" Order="0" VbType="" Help="#Lang(911)"/>
            <Parameter Name="dayDelta" Order="0" VbType="" Help="#Lang(912)"/>
            <Parameter Name="minuteDelta" Order="0" VbType="" Help="#Lang(913)"/>
            <Parameter Name="timezoneOffset" Order="0" VbType="" Help="#Lang(914)"/>
          </Parameters>
        </Event>
        <Event Name="mouseup" Help="#Lang(516)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(915)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(916)"/>
          </Parameters>
        </Event>
        <Event Name="viewChanged" Help="#Lang(517)">
          <Parameters>
            <Parameter Name="title" Order="0" VbType="" Help="#Lang(917)"/>
            <Parameter Name="view" Order="0" VbType="" Help="#Lang(918)"/>
          </Parameters>
        </Event>
        <Event Name="mousemove" Help="#Lang(518)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(919)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(921)"/>
          </Parameters>
        </Event>
        <Event Name="click" Help="#Lang(519)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(922)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(923)"/>
          </Parameters>
        </Event>
        <Event Name="daysSelected" Help="#Lang(521)">
          <Parameters>
            <Parameter Name="start" Order="0" VbType="" Help="#Lang(924)"/>
            <Parameter Name="end" Order="0" VbType="" Help="#Lang(925)"/>
            <Parameter Name="allDay" Order="0" VbType="" Help="#Lang(926)"/>
            <Parameter Name="timezoneOffset" Order="0" VbType="" Help="#Lang(927)"/>
          </Parameters>
        </Event>
        <Event Name="dblclick" Help="#Lang(522)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(928)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(929)"/>
          </Parameters>
        </Event>
        <Event Name="mouseout" Help="#Lang(523)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(931)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(932)"/>
          </Parameters>
        </Event>
        <Event Name="ctrlclick" Help="#Lang(524)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(933)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(934)"/>
          </Parameters>
        </Event>
        <Event Name="eventClick" Help="#Lang(525)">
          <Parameters>
            <Parameter Name="id" Order="0" VbType="" Help="#Lang(935)"/>
            <Parameter Name="instance" Order="0" VbType="" Help="#Lang(936)"/>
          </Parameters>
        </Event>
        <Event Name="eventResize" Help="#Lang(526)">
          <Parameters>
            <Parameter Name="id" Order="0" VbType="" Help="#Lang(937)"/>
            <Parameter Name="start" Order="0" VbType="" Help="#Lang(938)"/>
            <Parameter Name="end" Order="0" VbType="" Help="#Lang(939)"/>
            <Parameter Name="instance" Order="0" VbType="" Help="#Lang(941)"/>
            <Parameter Name="dayDelta" Order="0" VbType="" Help="#Lang(942)"/>
            <Parameter Name="minuteDelta" Order="0" VbType="" Help="#Lang(943)"/>
            <Parameter Name="timezoneOffset" Order="0" VbType="" Help="#Lang(944)"/>
          </Parameters>
        </Event>
        <Event Name="mouseover" Help="#Lang(527)">
          <Parameters>
            <Parameter Name="X" Order="0" VbType="" Help="#Lang(945)"/>
            <Parameter Name="Y" Order="0" VbType="" Help="#Lang(946)"/>
          </Parameters>
        </Event>
        <Event Name="getEvents" Help="#Lang(528)">
          <Parameters>
            <Parameter Name="start" Order="0" VbType="" Help="#Lang(947)"/>
            <Parameter Name="end" Order="0" VbType="" Help="#Lang(948)"/>
            <Parameter Name="view" Order="0" VbType="" Help="#Lang(949)"/>
            <Parameter Name="timezoneOffset" Order="0" VbType="" Help="#Lang(951)"/>
          </Parameters>
        </Event>
      </Userinterfaceevents>
    </Events>
    <Actions>
      <Container ID="2330fe83-8cd6-4ed5-907d-11874e7ebcf4">
        <Action Help="#Lang(501)" InterfaceName="#Lang(601)" MethodName="resizeTo">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(701)" ScriptName="width" Help="#Lang(801)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(702)" ScriptName="height" Help="#Lang(802)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[var _w = parseInt(width,10);
var _h = parseInt(height,10);
if (!isNaN(_w) && !isNaN(_h))
{
	$q(this.domCont).width(_w).height(_h);
	jQuery("div#"+this.domCont.id).fullCalendar('option', 'height', _h);
}]]></SourceCode>
        </Action>
        <Action Help="#Lang(502)" InterfaceName="#Lang(602)" MethodName="hide">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(703)" ScriptName="fade" Help="#Lang(803)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[this.domCont.style.display = 'none';]]></SourceCode>
        </Action>
        <Action Help="#Lang(503)" InterfaceName="#Lang(603)" MethodName="show">
          <Parameters/>
          <SourceCode><![CDATA[this.domCont.style.display = 'block';]]></SourceCode>
        </Action>
        <Action Help="#Lang(504)" InterfaceName="#Lang(604)" MethodName="clearEventSource">
          <Parameters/>
          <SourceCode><![CDATA[jQuery("div#"+this.domCont.id).fullCalendar('removeEvents');]]></SourceCode>
        </Action>
        <Action Help="#Lang(505)" InterfaceName="#Lang(605)" MethodName="moveTo">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(704)" ScriptName="newX" Help="#Lang(804)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(705)" ScriptName="newY" Help="#Lang(805)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(706)" ScriptName="Effect" Help="#Lang(806)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[vdom_ui_moveTo(this.domCont, newX, newY, Effect);]]></SourceCode>
        </Action>
        <Action Help="#Lang(506)" InterfaceName="#Lang(606)" MethodName="gotoDate">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(707)" ScriptName="year" Help="#Lang(807)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(708)" ScriptName="month" Help="#Lang(808)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(709)" ScriptName="day" Help="#Lang(809)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[var _y = parseInt(year);
var _m = parseInt(month);
var _d = parseInt(day);
if (!isNaN(_y) && !isNaN(_m) && !isNaN(_d))
	jQuery("div#"+this.domCont.id).fullCalendar('gotoDate', _y , _m-1, _d);]]></SourceCode>
        </Action>
        <Action Help="#Lang(507)" InterfaceName="#Lang(607)" MethodName="moveZindexTo">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(711)" ScriptName="newZindex" Help="#Lang(811)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[var _z = parseInt(newZindex);
		  if (!isNaN(_z))
			this.domCont.style.zindex = _z;]]></SourceCode>
        </Action>
        <Action Help="#Lang(508)" InterfaceName="#Lang(608)" MethodName="changeViewTo">
          <Parameters>
            <Parameter DefaultValue="" Interface="" InterfaceName="#Lang(712)" ScriptName="viewName" Help="#Lang(812)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[var view = false;
			if (viewName == "month")
				view = "month";
			else if (viewName == "week")
				view = "agendaWeek";
			else if (viewName == "day")
				view = "agendaDay";

			if (view)
				jQuery("div#"+this.domCont.id).fullCalendar('changeView',view);]]></SourceCode>
        </Action>
        <Action Help="#Lang(509)" InterfaceName="#Lang(609)" MethodName="setEventsWithRrule">
          <Parameters>
            <Parameter DefaultValue="{}" Interface="" InterfaceName="#Lang(713)" ScriptName="eventData" Help="#Lang(813)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[eval('var data = ' + eventData + ';');
jQuery("div#"+this.domCont.id).fullCalendar('addEventSource', parseRruleSources(data));
/*
jQuery("div#"+this.domCont.id).fullCalendar('addEventSource', parseRruleSources(eventData));
*/]]></SourceCode>
        </Action>
        <Action Help="#Lang(511)" InterfaceName="#Lang(611)" MethodName="prev">
          <Parameters/>
          <SourceCode><![CDATA[jQuery("div#"+this.domCont.id).fullCalendar('prev');]]></SourceCode>
        </Action>
        <Action Help="#Lang(512)" InterfaceName="#Lang(612)" MethodName="setEventSource">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(714)" ScriptName="eventSource" Help="#Lang(814)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[jQuery("div#"+this.domCont.id).fullCalendar('addEventSource', eval(eventSource) );]]></SourceCode>
        </Action>
        <Action Help="#Lang(513)" InterfaceName="#Lang(613)" MethodName="next">
          <Parameters/>
          <SourceCode><![CDATA[jQuery("div#"+this.domCont.id).fullCalendar('next');]]></SourceCode>
        </Action>
      </Container>
    </Actions>
  </E2vdom>
</Type>